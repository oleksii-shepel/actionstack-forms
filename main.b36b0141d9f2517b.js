(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{488:(il,qd,Vn)=>{"use strict";function ge(n){return"function"==typeof n}function sl(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Bn=sl(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Wd(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class br{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(ge(r))try{r()}catch(s){e=s instanceof Bn?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{lA(s)}catch(o){e=e??[],o instanceof Bn?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Bn(e)}}add(e){var t;if(e&&e!==this)if(this.closed)lA(e);else{if(e instanceof br){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Wd(t,e)}remove(e){const{_finalizers:t}=this;t&&Wd(t,e),e instanceof br&&e._removeParent(this)}}br.EMPTY=(()=>{const n=new br;return n.closed=!0,n})();const aA=br.EMPTY;function uA(n){return n instanceof br||n&&"closed"in n&&ge(n.remove)&&ge(n.add)&&ge(n.unsubscribe)}function lA(n){ge(n)?n():n.unsubscribe()}const zs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Kd={setTimeout(n,e,...t){const{delegate:r}=Kd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Kd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function cA(n){Kd.setTimeout(()=>{const{onUnhandledError:e}=zs;if(!e)throw n;e(n)})}function ta(){}const FG=Sm("C",void 0,void 0);function Sm(n,e,t){return{kind:n,value:e,error:t}}let qs=null;function Qd(n){if(zs.useDeprecatedSynchronousErrorHandling){const e=!qs;if(e&&(qs={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=qs;if(qs=null,t)throw r}}else n()}class Am extends br{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,uA(e)&&e.add(this)):this.destination=GG}static create(e,t,r){return new na(e,t,r)}next(e){this.isStopped?xm(function VG(n){return Sm("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?xm(function LG(n){return Sm("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xm(FG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const UG=Function.prototype.bind;function Mm(n,e){return UG.call(n,e)}class jG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Yd(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Yd(r)}else Yd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Yd(t)}}}class na extends Am{constructor(e,t,r){let i;if(super(),ge(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&zs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Mm(e.next,s),error:e.error&&Mm(e.error,s),complete:e.complete&&Mm(e.complete,s)}):i=e}this.destination=new jG(i)}}function Yd(n){zs.useDeprecatedSynchronousErrorHandling?function BG(n){zs.useDeprecatedSynchronousErrorHandling&&qs&&(qs.errorThrown=!0,qs.error=n)}(n):cA(n)}function xm(n,e){const{onStoppedNotification:t}=zs;t&&Kd.setTimeout(()=>t(n,e))}const GG={closed:!0,next:ta,error:function $G(n){throw n},complete:ta},km="function"==typeof Symbol&&Symbol.observable||"@@observable";function ol(n){return n}let $e=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function zG(n){return n&&n instanceof Am||function HG(n){return n&&ge(n.next)&&ge(n.error)&&ge(n.complete)}(n)&&uA(n)}(t)?t:new na(t,r,i);return Qd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=hA(r))((i,s)=>{const o=new na({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[km](){return this}pipe(...t){return function dA(n){return 0===n.length?ol:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=hA(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function hA(n){var e;return null!==(e=n??zs.Promise)&&void 0!==e?e:Promise}const qG=sl(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ws=(()=>{class n extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new fA(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new qG}next(t){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?aA:(this.currentObservers=null,s.push(t),new br(()=>{this.currentObservers=null,Wd(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new $e;return t.source=this,t}}return n.create=(e,t)=>new fA(e,t),n})();class fA extends Ws{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:aA}}function Nt(n){return e=>{if(function WG(n){return ge(n?.lift)}(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function wt(n,e,t,r,i){return new KG(n,e,t,r,i)}class KG extends Am{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Pt(n,e){return Nt((t,r)=>{let i=0;t.subscribe(wt(r,s=>{r.next(n.call(e,s,i++))}))})}function Rm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function ts(n){return this instanceof ts?(this.v=n,this):new ts(n)}function mA(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ts?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function yA(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Fm(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Lm=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function _A(n){return ge(n?.then)}function vA(n){return ge(n[km])}function wA(n){return Symbol.asyncIterator&&ge(n?.[Symbol.asyncIterator])}function EA(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const bA=function g3(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function IA(n){return ge(n?.[bA])}function DA(n){return mA(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield ts(t.read());if(i)return yield ts(void 0);yield yield ts(r)}}finally{t.releaseLock()}})}function CA(n){return ge(n?.getReader)}function Zt(n){if(n instanceof $e)return n;if(null!=n){if(vA(n))return function m3(n){return new $e(e=>{const t=n[km]();if(ge(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Lm(n))return function y3(n){return new $e(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(_A(n))return function _3(n){return new $e(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,cA)})}(n);if(wA(n))return TA(n);if(IA(n))return function v3(n){return new $e(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(CA(n))return function w3(n){return TA(DA(n))}(n)}throw EA(n)}function TA(n){return new $e(e=>{(function E3(n,e){var t,r,i,s;return function pA(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=yA(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ns(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Ir(n,e,t=1/0){return ge(e)?Ir((r,i)=>Pt((s,o)=>e(r,s,i,o))(Zt(n(r,i))),t):("number"==typeof e&&(t=e),Nt((r,i)=>function b3(n,e,t,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{s&&e.next(g),l++;let m=!1;Zt(t(g,c++)).subscribe(wt(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;u.length&&l<r;){const _=u.shift();o?ns(e,o,()=>p(_)):p(_)}h()}catch(_){e.error(_)}}))};return n.subscribe(wt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function SA(n=1/0){return Ir(ol,n)}const Vm=new $e(n=>n.complete());function AA(n){return n&&ge(n.schedule)}function Bm(n){return n[n.length-1]}function MA(n){return ge(Bm(n))?n.pop():void 0}function Jd(n){return AA(Bm(n))?n.pop():void 0}function ra(n,e=0){return Nt((t,r)=>{t.subscribe(wt(r,i=>ns(r,n,()=>r.next(i),e),()=>ns(r,n,()=>r.complete(),e),i=>ns(r,n,()=>r.error(i),e)))})}function Xd(n,e=0){return Nt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function xA(n,e){if(!n)throw new Error("Iterable cannot be null");return new $e(t=>{ns(t,e,()=>{const r=n[Symbol.asyncIterator]();ns(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function An(n,e){return e?function x3(n,e){if(null!=n){if(vA(n))return function C3(n,e){return Zt(n).pipe(Xd(e),ra(e))}(n,e);if(Lm(n))return function S3(n,e){return new $e(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(_A(n))return function T3(n,e){return Zt(n).pipe(Xd(e),ra(e))}(n,e);if(wA(n))return xA(n,e);if(IA(n))return function A3(n,e){return new $e(t=>{let r;return ns(t,e,()=>{r=n[bA](),ns(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>ge(r?.return)&&r.return()})}(n,e);if(CA(n))return function M3(n,e){return xA(DA(n),e)}(n,e)}throw EA(n)}(n,e):Zt(n)}function Zd(...n){const e=Jd(n),t=function D3(n,e){return"number"==typeof Bm(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Zt(r[0]):SA(t)(An(r,e)):Vm}function kA(n={}){const{connector:e=(()=>new Ws),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,l=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,c=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return Nt((g,m)=>{l++,!d&&!c&&h();const _=u=u??e();m.add(()=>{l--,0===l&&!d&&!c&&(a=Um(p,i))}),_.subscribe(m),!o&&l>0&&(o=new na({next:b=>_.next(b),error:b=>{d=!0,h(),a=Um(f,t,b),_.error(b)},complete:()=>{c=!0,h(),a=Um(f,r),_.complete()}}),Zt(g).subscribe(o))})(s)}}function Um(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new na({next:()=>{r.unsubscribe(),n()}});return Zt(e(...t)).subscribe(r)}function Ne(n){for(let e in n)if(n[e]===Ne)return e;throw Error("Could not find renamed property on target object.")}function jm(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Pe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Pe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function $m(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const k3=Ne({__forward_ref__:Ne});function Te(n){return n.__forward_ref__=Te,n.toString=function(){return Pe(this())},n}function X(n){return Gm(n)?n():n}function Gm(n){return"function"==typeof n&&n.hasOwnProperty(k3)&&n.__forward_ref__===Te}class x extends Error{constructor(e,t){super(function eh(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function th(n,e){throw new x(-201,!1)}function jn(n,e){null==n&&function Se(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function he(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Rt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Hm(n){return NA(n,nh)||NA(n,RA)}function NA(n,e){return n.hasOwnProperty(e)?n[e]:null}function PA(n){return n&&(n.hasOwnProperty(zm)||n.hasOwnProperty(B3))?n[zm]:null}const nh=Ne({\u0275prov:Ne}),zm=Ne({\u0275inj:Ne}),RA=Ne({ngInjectableDef:Ne}),B3=Ne({ngInjectorDef:Ne});var Z=(()=>((Z=Z||{})[Z.Default=0]="Default",Z[Z.Host=1]="Host",Z[Z.Self=2]="Self",Z[Z.SkipSelf=4]="SkipSelf",Z[Z.Optional=8]="Optional",Z))();let qm;function Kr(n){const e=qm;return qm=n,e}function OA(n,e,t){const r=Hm(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Z.Optional?null:void 0!==e?e:void th(Pe(n))}function rs(n){return{toString:n}.toString()}var Dr=(()=>((Dr=Dr||{})[Dr.OnPush=0]="OnPush",Dr[Dr.Default=1]="Default",Dr))(),Cr=(()=>{return(n=Cr||(Cr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Cr;var n})();const xe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ia={},De=[],rh=Ne({\u0275cmp:Ne}),Wm=Ne({\u0275dir:Ne}),Km=Ne({\u0275pipe:Ne}),FA=Ne({\u0275mod:Ne}),wi=Ne({\u0275fac:Ne}),al=Ne({__NG_ELEMENT_ID__:Ne});let j3=0;function Ei(n){return rs(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Dr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||De,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Cr.Emulated,id:"c"+j3++,styles:n.styles||De,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,o=n.features;return i.inputs=BA(n.inputs,r),i.outputs=BA(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(LA).filter(VA):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(pn).filter(VA):null,i})}function LA(n){return Re(n)||fn(n)}function VA(n){return null!==n}const G3={};function Ht(n){return rs(()=>{const e={type:n.type,bootstrap:n.bootstrap||De,declarations:n.declarations||De,imports:n.imports||De,exports:n.exports||De,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(G3[n.id]=n.type),e})}function BA(n,e){if(null==n)return ia;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const K=Ei;function Mn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Re(n){return n[rh]||null}function fn(n){return n[Wm]||null}function pn(n){return n[Km]||null}function xn(n){return Array.isArray(n)&&"object"==typeof n[1]}function Sr(n){return Array.isArray(n)&&!0===n[1]}function Jm(n){return 0!=(8&n.flags)}function ah(n){return 2==(2&n.flags)}function uh(n){return 1==(1&n.flags)}function Ar(n){return null!==n.template}function K3(n){return 0!=(256&n[2])}function Xs(n,e){return n.hasOwnProperty(wi)?n[wi]:null}class J3{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Qr(){return $A}function $A(n){return n.type.prototype.ngOnChanges&&(n.setInput=Z3),X3}function X3(){const n=HA(this),e=n?.current;if(e){const t=n.previous;if(t===ia)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Z3(n,e,t,r){const i=HA(n)||function e4(n,e){return n[GA]=e}(n,{previous:ia,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new J3(u&&u.currentValue,e,o===ia),n[r]=e}Qr.ngInherit=!0;const GA="__ngSimpleChanges__";function HA(n){return n[GA]||null}function dt(n){for(;Array.isArray(n);)n=n[0];return n}function lh(n,e){return dt(e[n])}function or(n,e){return dt(e[n.index])}function ny(n,e){return n.data[e]}function la(n,e){return n[e]}function Hn(n,e){const t=e[n];return xn(t)?t:t[0]}function zA(n){return 4==(4&n[2])}function ry(n){return 64==(64&n[2])}function is(n,e){return null==e?null:n[e]}function qA(n){n[18]=0}function iy(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ne={lFrame:tM(null),bindingsEnabled:!0};function KA(){return ne.bindingsEnabled}function D(){return ne.lFrame.lView}function _e(){return ne.lFrame.tView}function ca(n){return ne.lFrame.contextLView=n,n[8]}function da(n){return ne.lFrame.contextLView=null,n}function Et(){let n=QA();for(;null!==n&&64===n.type;)n=n.parent;return n}function QA(){return ne.lFrame.currentTNode}function Yr(n,e){const t=ne.lFrame;t.currentTNode=n,t.isParent=e}function sy(){return ne.lFrame.isParent}function oy(){ne.lFrame.isParent=!1}function gn(){const n=ne.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ha(){return ne.lFrame.bindingIndex++}function Ii(n){const e=ne.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function p4(n,e){const t=ne.lFrame;t.bindingIndex=t.bindingRootIndex=n,ay(e)}function ay(n){ne.lFrame.currentDirectiveIndex=n}function XA(){return ne.lFrame.currentQueryIndex}function ly(n){ne.lFrame.currentQueryIndex=n}function m4(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function ZA(n,e,t){if(t&Z.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Z.Host||(i=m4(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ne.lFrame=eM();return r.currentTNode=e,r.lView=n,!0}function cy(n){const e=eM(),t=n[1];ne.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function eM(){const n=ne.lFrame,e=null===n?null:n.child;return null===e?tM(n):e}function tM(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function nM(){const n=ne.lFrame;return ne.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const rM=nM;function dy(){const n=nM();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function mn(){return ne.lFrame.selectedIndex}function ss(n){ne.lFrame.selectedIndex=n}function Xe(){const n=ne.lFrame;return ny(n.tView,n.selectedIndex)}function dh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function hh(n,e,t){iM(n,e,3,t)}function fh(n,e,t,r){(3&n[2])===t&&iM(n,e,t,r)}function hy(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function iM(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(C4(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function C4(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class hl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function ph(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];oM(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function sM(n){return 3===n||4===n||6===n}function oM(n){return 64===n.charCodeAt(0)}function gh(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||aM(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function aM(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function uM(n){return-1!==n}function fa(n){return 32767&n}function pa(n,e){let t=function x4(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let py=!0;function mh(n){const e=py;return py=n,e}let k4=0;const Jr={};function pl(n,e){const t=my(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,gy(r.data,n),gy(e,null),gy(r.blueprint,null));const i=yh(n,e),s=n.injectorIndex;if(uM(i)){const o=fa(i),a=pa(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function gy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function my(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function yh(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=yM(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function _h(n,e,t){!function N4(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(al)&&(r=t[al]),null==r&&(r=t[al]=k4++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function dM(n,e,t){if(t&Z.Optional)return n;th()}function hM(n,e,t,r){if(t&Z.Optional&&void 0===r&&(r=null),0==(t&(Z.Self|Z.Host))){const i=n[9],s=Kr(void 0);try{return i?i.get(e,r,t&Z.Optional):OA(e,r,t&Z.Optional)}finally{Kr(s)}}return dM(r,0,t)}function fM(n,e,t,r=Z.Default,i){if(null!==n){if(1024&e[2]){const o=function L4(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=pM(s,o,t,r|Z.Self,Jr);if(a!==Jr)return a;let u=s.parent;if(!u){const l=o[21];if(l){const c=l.get(t,Jr,r);if(c!==Jr)return c}u=yM(o),o=o[15]}s=u}return i}(n,e,t,r,Jr);if(o!==Jr)return o}const s=pM(n,e,t,r,Jr);if(s!==Jr)return s}return hM(e,t,r,i)}function pM(n,e,t,r,i){const s=function O4(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(al)?n[al]:void 0;return"number"==typeof e?e>=0?255&e:F4:e}(t);if("function"==typeof s){if(!ZA(e,n,r))return r&Z.Host?dM(i,0,r):hM(e,t,r,i);try{const o=s(r);if(null!=o||r&Z.Optional)return o;th()}finally{rM()}}else if("number"==typeof s){let o=null,a=my(n,e),u=-1,l=r&Z.Host?e[16][6]:null;for((-1===a||r&Z.SkipSelf)&&(u=-1===a?yh(n,e):e[a+8],-1!==u&&mM(r,!1)?(o=e[1],a=fa(u),e=pa(u,e)):a=-1);-1!==a;){const c=e[1];if(gM(s,a,c.data)){const d=R4(a,e,t,o,r,l);if(d!==Jr)return d}u=e[a+8],-1!==u&&mM(r,e[1].data[a+8]===l)&&gM(s,a,e)?(o=c,a=fa(u),e=pa(u,e)):a=-1}}return i}function R4(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],c=vh(a,o,t,null==r?ah(a)&&py:r!=o&&0!=(3&a.type),i&Z.Host&&s===a);return null!==c?gl(e,o,c,a):Jr}function vh(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,c=s>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&Ar(f)&&f.type===t)return u}return null}function gl(n,e,t,r){let i=n[t];const s=e.data;if(function T4(n){return n instanceof hl}(i)){const o=i;o.resolving&&function N3(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new x(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ie(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}(s[t]));const a=mh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Kr(o.injectImpl):null;ZA(n,r,Z.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function D4(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=$A(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&Kr(u),mh(a),o.resolving=!1,rM()}}return i}function gM(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function mM(n,e){return!(n&Z.Self||n&Z.Host&&e)}class ga{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return fM(this._tNode,this._lView,e,r,t)}}function F4(){return new ga(Et(),D())}function bt(n){return rs(()=>{const e=n.prototype.constructor,t=e[wi]||yy(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[wi]||yy(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function yy(n){return Gm(n)?()=>{const e=yy(X(n));return e&&e()}:Xs(n)}function yM(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const ya="__parameters__";function va(n,e,t){return rs(()=>{const r=function vy(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(ya)?u[ya]:Object.defineProperty(u,ya,{value:[]})[ya];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class O{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=he({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function zn(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),zn(r,e)):e!==n&&e.push(r)}return e}function Di(n,e){n.forEach(t=>Array.isArray(t)?Di(t,e):e(t))}function vM(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function wh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function qn(n,e,t){let r=wa(n,e);return r>=0?n[1|r]=t:(r=~r,function j4(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Ey(n,e){const t=wa(n,e);if(t>=0)return n[1|t]}function wa(n,e){return function bM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const vl={},Iy="__NG_DI_FLAG__",bh="ngTempTokenPath",Q4=/\n/gm,IM="__source";let wl;function Ih(n){const e=wl;return wl=n,e}function J4(n,e=Z.Default){if(void 0===wl)throw new x(-203,!1);return null===wl?OA(n,void 0,e):wl.get(n,e&Z.Optional?null:void 0,e)}function G(n,e=Z.Default){return(function U3(){return qm}()||J4)(X(n),e)}function CM(n,e=Z.Default){return G(n,e)}function Dy(n){const e=[];for(let t=0;t<n.length;t++){const r=X(n[t]);if(Array.isArray(r)){if(0===r.length)throw new x(900,!1);let i,s=Z.Default;for(let o=0;o<r.length;o++){const a=r[o],u=X4(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(G(i,s))}else e.push(G(r))}return e}function El(n,e){return n[Iy]=e,n.prototype[Iy]=e,n}function X4(n){return n[Iy]}const bl=El(va("Inject",n=>({token:n})),-1),yn=El(va("Optional"),8),Il=El(va("SkipSelf"),4);let Cy,Th,Sh;function ba(n){return function Ty(){if(void 0===Th&&(Th=null,xe.trustedTypes))try{Th=xe.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Th}()?.createHTML(n)||n}function RM(n){return function Sy(){if(void 0===Sh&&(Sh=null,xe.trustedTypes))try{Sh=xe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Sh}()?.createHTML(n)||n}class LM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function as(n){return n instanceof LM?n.changingThisBreaksApplicationSecurity:n}function Tl(n,e){const t=function _H(n){return n instanceof LM&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class vH{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ba(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class wH{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=ba(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=ba(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const bH=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,IH=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ah(n){return(n=String(n)).match(bH)||n.match(IH)?n:"unsafe:"+n}function BM(n){return(n=String(n)).split(",").map(e=>Ah(e.trim())).join(", ")}function Xr(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Sl(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const UM=Xr("area,br,col,hr,img,wbr"),jM=Xr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$M=Xr("rp,rt"),Ay=Sl(UM,Sl(jM,Xr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sl($M,Xr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sl($M,jM)),My=Xr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xy=Xr("srcset"),GM=Sl(My,xy,Xr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),DH=Xr("script,style,template");class CH{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Ay.hasOwnProperty(t))return this.sanitizedSomething=!0,!DH.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!GM.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;My[a]&&(u=Ah(u)),xy[a]&&(u=BM(u)),this.buf.push(" ",o,'="',HM(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Ay.hasOwnProperty(t)&&!UM.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(HM(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const TH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,SH=/([^\#-~ |!])/g;function HM(n){return n.replace(/&/g,"&amp;").replace(TH,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(SH,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Mh;function ky(n){return"content"in n&&function MH(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ht=(()=>((ht=ht||{})[ht.NONE=0]="NONE",ht[ht.HTML=1]="HTML",ht[ht.STYLE=2]="STYLE",ht[ht.SCRIPT=3]="SCRIPT",ht[ht.URL=4]="URL",ht[ht.RESOURCE_URL=5]="RESOURCE_URL",ht))();function zM(n){const e=Al();return e?RM(e.sanitize(ht.HTML,n)||""):Tl(n,"HTML")?RM(as(n)):function AH(n,e){let t=null;try{Mh=Mh||function VM(n){const e=new wH(n);return function EH(){try{return!!(new window.DOMParser).parseFromString(ba(""),"text/html")}catch{return!1}}()?new vH(e):e}(n);let r=e?String(e):"";t=Mh.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Mh.getInertBodyElement(r)}while(r!==s);return ba((new CH).sanitizeChildren(ky(t)||t))}finally{if(t){const r=ky(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(function PM(){return void 0!==Cy?Cy:typeof document<"u"?document:void 0}(),ie(n))}function Ny(n){const e=Al();return e?e.sanitize(ht.URL,n)||"":Tl(n,"URL")?as(n):Ah(ie(n))}function Al(){const n=D();return n&&n[12]}function Ry(n){return n.ngOriginalError}class Ia{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Ry(e);for(;t&&Ry(t);)t=Ry(t);return t||null}}const Oy=new Map;let HH=0;const Ly="__ngContext__";function nn(n,e){xn(e)?(n[Ly]=e[20],function qH(n){Oy.set(n[20],n)}(e)):n[Ly]=e}function Ml(n){const e=n[Ly];return"number"==typeof e?function KM(n){return Oy.get(n)||null}(e):e||null}function Vy(n){const e=Ml(n);return e?xn(e)?e:e.lView:null}const tz=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(xe))();function ZM(n){return n.ownerDocument.defaultView}var kn=(()=>((kn=kn||{})[kn.Important=1]="Important",kn[kn.DashCase=2]="DashCase",kn))();function Uy(n,e){return undefined(n,e)}function xl(n){const e=n[3];return Sr(e)?e[3]:e}function jy(n){return rx(n[13])}function $y(n){return rx(n[4])}function rx(n){for(;null!==n&&!Sr(n);)n=n[4];return n}function Ca(n,e,t,r,i){if(null!=r){let s,o=!1;Sr(r)?s=r:xn(r)&&(o=!0,r=r[0]);const a=dt(r);0===n&&null!==t?null==i?lx(e,t,a):Zs(e,t,a,i||null,!0):1===n&&null!==t?Zs(e,t,a,i||null,!0):2===n?function mx(n,e,t){const r=xh(n,e);r&&function yz(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function wz(n,e,t,r,i){const s=t[7];s!==dt(t)&&Ca(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];kl(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function Hy(n,e,t){return n.createElement(e,t)}function sx(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,iy(i,-1)),t.splice(r,1)}function zy(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&sx(i,r),e>0&&(n[t-1][4]=r[4]);const s=wh(n,10+e);!function lz(n,e){kl(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function ox(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&kl(n,e,t,3,null,null),function hz(n){let e=n[13];if(!e)return qy(n[1],n);for(;e;){let t=null;if(xn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)xn(e)&&qy(e[1],e),e=e[3];null===e&&(e=n),xn(e)&&qy(e[1],e),t=e&&e[4]}e=t}}(e)}}function qy(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function mz(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof hl)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function gz(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):dt(e[o]),u=r[i=t[s+2]],l=t[s+3];"boolean"==typeof l?a.removeEventListener(t[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Sr(e[3])){t!==e[3]&&sx(t,e);const r=e[19];null!==r&&r.detachView(n)}!function WH(n){Oy.delete(n[20])}(e)}}function ax(n,e,t){return function ux(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Cr.None||i===Cr.Emulated)return null}return or(r,t)}(n,e.parent,t)}function Zs(n,e,t,r,i){n.insertBefore(e,t,r,i)}function lx(n,e,t){n.appendChild(e,t)}function cx(n,e,t,r,i){null!==r?Zs(n,e,t,r,i):lx(n,e,t)}function xh(n,e){return n.parentNode(e)}let fx=function hx(n,e,t){return 40&n.type?or(n,t):null};function kh(n,e,t,r){const i=ax(n,r,e),s=e[11],a=function dx(n,e,t){return fx(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)cx(s,i,t[u],a,!1);else cx(s,i,t,a,!1)}function Nh(n,e){if(null!==e){const t=e.type;if(3&t)return or(e,n);if(4&t)return Ky(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Nh(n,r);{const i=n[e.index];return Sr(i)?Ky(-1,i):dt(i)}}if(32&t)return Uy(e,n)()||dt(n[e.index]);{const r=gx(n,e);return null!==r?Array.isArray(r)?r[0]:Nh(xl(n[16]),r):Nh(n,e.next)}}return null}function gx(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Ky(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Nh(r,i)}return e[7]}function Qy(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&nn(dt(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)Qy(n,e,t.child,r,i,s,!1),Ca(e,n,i,a,s);else if(32&u){const l=Uy(t,r);let c;for(;c=l();)Ca(e,n,i,c,s);Ca(e,n,i,a,s)}else 16&u?yx(n,e,r,t,i,s):Ca(e,n,i,a,s);t=o?t.projectionNext:t.next}}function kl(n,e,t,r,i,s){Qy(t,r,n.firstChild,e,i,s,!1)}function yx(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Ca(e,n,i,u[l],s);else Qy(n,e,u,o[3],i,s,!0)}function _x(n,e,t){n.setAttribute(e,"style",t)}function Yy(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function vx(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const wx="ng-template";function bz(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==vx(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Ex(n){return 4===n.type&&n.value!==wx}function Iz(n,e,t){return e===(4!==n.type||t?n.value:wx)}function Dz(n,e,t){let r=4;const i=n.attrs||[],s=function Sz(n){for(let e=0;e<n.length;e++)if(sM(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Iz(n,u,t)||""===u&&1===e.length){if(Mr(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!bz(n.attrs,l,t)){if(Mr(r))return!1;o=!0}continue}const d=Cz(8&r?"class":u,i,Ex(n),t);if(-1===d){if(Mr(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==vx(f,l,0)||2&r&&l!==h){if(Mr(r))return!1;o=!0}}}}else{if(!o&&!Mr(r)&&!Mr(u))return!1;if(o&&Mr(u))continue;o=!1,r=u|1&r}}return Mr(r)||o}function Mr(n){return 0==(1&n)}function Cz(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Az(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function bx(n,e,t=!1){for(let r=0;r<e.length;r++)if(Dz(n,e[r],t))return!0;return!1}function Ix(n,e){return n?":not("+e.trim()+")":e}function xz(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Mr(o)&&(e+=Ix(s,i),i=""),r=o,s=s||!Mr(r);t++}return""!==i&&(e+=Ix(s,i)),e}const se={};function q(n){Dx(_e(),D(),mn()+n,!1)}function Dx(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&hh(e,s,t)}else{const s=n.preOrderHooks;null!==s&&fh(e,s,0,t)}ss(t)}const Ax=new O("ENVIRONMENT_INITIALIZER"),Mx=new O("INJECTOR_DEF_TYPES");function Vz(...n){return{\u0275providers:xx(0,n)}}function xx(n,...e){const t=[],r=new Set;let i;return Di(e,s=>{const o=s;Jy(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&kx(i,t),t}function kx(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Di(i,s=>{e.push(s)})}}function Jy(n,e,t,r){if(!(n=X(n)))return!1;let i=null,s=PA(n);const o=!s&&Re(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=PA(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)Jy(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Di(s.imports,c=>{Jy(c,e,t,r)&&(l||(l=[]),l.push(c))})}finally{}void 0!==l&&kx(l,e)}if(!a){const l=Xs(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:De},{provide:Mx,useValue:i,multi:!0},{provide:Ax,useValue:()=>G(i),multi:!0})}const u=s.providers;null==u||a||Di(u,c=>{e.push(c)})}}return i!==n&&void 0!==n.providers}const Bz=Ne({provide:String,useValue:Ne});function Xy(n){return null!==n&&"object"==typeof n&&Bz in n}function eo(n){return"function"==typeof n}const Zy=new O("INJECTOR",-1);class Rx{get(e,t=vl){if(t===vl){const r=new Error(`NullInjectorError: No provider for ${Pe(e)}!`);throw r.name="NullInjectorError",r}return t}}const e_=new O("Set Injector scope."),Ph={},jz={};let t_;function n_(){return void 0===t_&&(t_=new Rx),t_}class Nl{}class Ox extends Nl{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,i_(e,o=>this.processProvider(o)),this.records.set(Zy,Ta(void 0,this)),i.has("environment")&&this.records.set(Nl,Ta(void 0,this));const s=this.records.get(e_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Mx.multi,De,Z.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}get(e,t=vl,r=Z.Default){this.assertNotDestroyed();const i=Ih(this),s=Kr(void 0);try{if(!(r&Z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function qz(n){return"function"==typeof n||"object"==typeof n&&n instanceof O}(e)&&Hm(e);a=u&&this.injectableDefInScope(u)?Ta(r_(e),Ph):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Z.Self?n_():this.parent).get(e,t=r&Z.Optional&&t===vl?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[bh]=o[bh]||[]).unshift(Pe(e)),i)throw o;return function Z4(n,e,t,r){const i=n[bh];throw e[IM]&&i.unshift(e[IM]),n.message=function eH(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Pe(e);if(Array.isArray(e))i=e.map(Pe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Pe(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Q4,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[bh]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Kr(s),Ih(i)}}resolveInjectorInitializers(){const e=Ih(this),t=Kr(void 0);try{const r=this.get(Ax.multi,De,Z.Self);for(const i of r)i()}finally{Ih(e),Kr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Pe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){let t=eo(e=X(e))?e:X(e&&e.provide);const r=function Gz(n){return Xy(n)?Ta(void 0,n.useValue):Ta(Fx(n),Ph)}(e);if(eo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ta(void 0,Ph,!0),i.factory=()=>Dy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Ph&&(t.value=jz,t.value=t.factory()),"object"==typeof t.value&&t.value&&function zz(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=X(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function r_(n){const e=Hm(n),t=null!==e?e.factory:Xs(n);if(null!==t)return t;if(n instanceof O)throw new x(204,!1);if(n instanceof Function)return function $z(n){const e=n.length;if(e>0)throw function _l(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new x(204,!1);const t=function L3(n){const e=n&&(n[nh]||n[RA]);if(e){const t=function V3(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new x(204,!1)}function Fx(n,e,t){let r;if(eo(n)){const i=X(n);return Xs(i)||r_(i)}if(Xy(n))r=()=>X(n.useValue);else if(function Px(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Dy(n.deps||[]));else if(function Nx(n){return!(!n||!n.useExisting)}(n))r=()=>G(X(n.useExisting));else{const i=X(n&&(n.useClass||n.provide));if(!function Hz(n){return!!n.deps}(n))return Xs(i)||r_(i);r=()=>new i(...Dy(n.deps))}return r}function Ta(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Wz(n){return!!n.\u0275providers}function i_(n,e){for(const t of n)Array.isArray(t)?i_(t,e):Wz(t)?i_(t.\u0275providers,e):e(t)}function Lx(n,e=null,t=null,r){const i=Vx(n,e,t,r);return i.resolveInjectorInitializers(),i}function Vx(n,e=null,t=null,r,i=new Set){const s=[t||De,Vz(n)];return r=r||("object"==typeof n?void 0:Pe(n)),new Ox(s,e||n_(),r||null,i)}let zt=(()=>{class n{static create(t,r){if(Array.isArray(t))return Lx({name:""},r,t,"");{const i=t.name??"";return Lx({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=vl,n.NULL=new Rx,n.\u0275prov=he({token:n,providedIn:"any",factory:()=>G(Zy)}),n.__NG_ELEMENT_ID__=-1,n})();function I(n,e=Z.Default){const t=D();return null===t?G(n,e):fM(Et(),t,X(n),e)}function Oh(n,e){return n<<17|e<<2}function xr(n){return n>>17&32767}function h_(n){return 2|n}function Ti(n){return(131068&n)>>2}function f_(n,e){return-131069&n|e<<2}function p_(n){return 1|n}function ik(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];ly(i),o.contentQueries(2,e[s],s)}}}function Vh(n,e,t,r,i,s,o,a,u,l,c){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||n&&1024&n[2])&&(d[2]|=1024),qA(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=u||n&&n[12]||null,d[9]=l||n&&n[9]||null,d[6]=s,d[20]=function zH(){return HH++}(),d[21]=c,d[16]=2==e.type?n[16]:d,d}function Aa(n,e,t,r,i){let s=n.data[e];if(null===s)s=function I_(n,e,t,r,i){const s=QA(),o=sy(),u=n.data[e]=function Sq(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function f4(){return ne.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function dl(){const n=ne.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Yr(s,!0),s}function Ma(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Bh(n,e,t){cy(e);try{const r=n.viewQuery;null!==r&&N_(1,r,t);const i=n.template;null!==i&&sk(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ik(n,e),n.staticViewQueries&&N_(2,n.viewQuery,t);const s=n.components;null!==s&&function Iq(n,e){for(let t=0;t<e.length;t++)zq(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,dy()}}function Pl(n,e,t,r){const i=e[2];if(128!=(128&i)){cy(e);try{qA(e),function YA(n){return ne.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&sk(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&hh(e,l,null)}else{const l=n.preOrderHooks;null!==l&&fh(e,l,0,null),hy(e,0)}if(function Gq(n){for(let e=jy(n);null!==e;e=$y(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&iy(s,1),i[2]|=512}}}(e),function $q(n){for(let e=jy(n);null!==e;e=$y(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];ry(r)&&Pl(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&ik(n,e),o){const l=n.contentCheckHooks;null!==l&&hh(e,l)}else{const l=n.contentHooks;null!==l&&fh(e,l,1),hy(e,1)}!function Eq(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)ss(~i);else{const s=i,o=t[++r],a=t[++r];p4(o,s),a(2,e[s])}}}finally{ss(-1)}}(n,e);const a=n.components;null!==a&&function bq(n,e){for(let t=0;t<e.length;t++)Hq(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&N_(2,u,r),o){const l=n.viewCheckHooks;null!==l&&hh(e,l)}else{const l=n.viewHooks;null!==l&&fh(e,l,2),hy(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,iy(e[3],-1))}finally{dy()}}}function Dq(n,e,t,r){const i=e[10],o=zA(e);try{!o&&i.begin&&i.begin(),o&&Bh(n,e,r),Pl(n,e,t,r)}finally{!o&&i.end&&i.end()}}function sk(n,e,t,r,i){const s=mn(),o=2&r;try{ss(-1),o&&e.length>22&&Dx(n,e,22,!1),t(r,i)}finally{ss(s)}}function ok(n,e,t){if(Jm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function D_(n,e,t){!KA()||(function Rq(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||pl(t,e),nn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],l=Ar(u);l&&Bq(e,t,u);const c=gl(e,n,a,t);nn(c,e),null!==o&&Uq(0,a-i,c,u,0,o),l&&(Hn(t.index,e)[8]=c)}}(n,e,t,or(t,e)),128==(128&t.flags)&&function Oq(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function g4(){return ne.lFrame.currentDirectiveIndex}();try{ss(s);for(let a=r;a<i;a++){const u=n.data[a],l=e[a];ay(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&dk(u,l)}}finally{ss(-1),ay(o)}}(n,e,t))}function C_(n,e,t=or){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function ak(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=T_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function T_(n,e,t,r,i,s,o,a,u,l){const c=22+r,d=c+i,h=function Cq(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:se);return t}(c,d),f="function"==typeof l?l():l;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function uk(n,e,t,r){const i=_k(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&vk(n).push(r,i.length-1))}function lk(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Wn(n,e,t,r,i,s,o,a){const u=or(e,t);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(bk(n,t,c,r,i),ah(e)&&function xq(n,e){const t=Hn(e,n);16&t[2]||(t[2]|=32)}(t,e.index)):3&e.type&&(r=function Mq(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function S_(n,e,t,r){let i=!1;if(KA()){const s=function Fq(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];bx(t,o.selectors,!1)&&(i||(i=[]),_h(pl(t,e),n,o.type),Ar(o)?(hk(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,fk(t,n.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=Ma(n,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];t.mergedAttrs=gh(t.mergedAttrs,d.hostAttrs),pk(n,t,e,l,d),Vq(l,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),l++}!function Aq(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===s||Ex(e)?null:jq(d,s);o.push(h),a=lk(d,l,a),u=lk(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(n,t)}o&&function Lq(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new x(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=gh(t.mergedAttrs,t.attrs),i}function ck(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function Pq(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function dk(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function hk(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function Vq(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ar(e)&&(t[""]=n)}}function fk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function pk(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Xs(i.type)),o=new hl(s,Ar(i),I);n.blueprint[r]=o,t[r]=o,ck(n,e,0,r,Ma(n,t,i.hostVars,se),i)}function Bq(n,e,t){const r=or(e,n),i=ak(t),s=n[10],o=Uh(n,Vh(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}function Uq(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(t,d,l,c):t[c]=d}}}function jq(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function gk(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function Hq(n,e){const t=Hn(e,n);if(ry(t)){const r=t[1];48&t[2]?Pl(r,t,r.template,t[8]):t[5]>0&&M_(t)}}function M_(n){for(let r=jy(n);null!==r;r=$y(r))for(let i=10;i<r.length;i++){const s=r[i];if(512&s[2]){const o=s[1];Pl(o,s,o.template,s[8])}else s[5]>0&&M_(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Hn(t[r],n);ry(i)&&i[5]>0&&M_(i)}}function zq(n,e){const t=Hn(e,n),r=t[1];(function qq(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Bh(r,t,t[8])}function Uh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function x_(n){for(;n;){n[2]|=32;const e=xl(n);if(K3(n)&&!e)return n;n=e}return null}function yk(n){!function mk(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Vy(t);if(null!==r){const i=r[1];Dq(i,r,i.template,t)}}}(n[8])}function N_(n,e,t){ly(0),e(n,t)}const Kq=(()=>Promise.resolve(null))();function _k(n){return n[7]||(n[7]=[])}function vk(n){return n.cleanup||(n.cleanup=[])}function Ek(n,e){const t=n[9],r=t?t.get(Ia,null):null;r&&r.handleError(e)}function bk(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],l=n.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function jh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=$m(i,a):2==s&&(r=$m(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Xq(){const n=Et();dh(D()[1],n)}function ve(n){let e=function Ik(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Ar(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=P_(n.inputs),o.declaredInputs=P_(n.declaredInputs),o.outputs=P_(n.outputs);const a=i.hostBindings;a&&n5(n,a);const u=i.viewQuery,l=i.contentQueries;if(u&&e5(n,u),l&&t5(n,l),jm(n.inputs,i.inputs),jm(n.declaredInputs,i.declaredInputs),jm(n.outputs,i.outputs),Ar(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===ve&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Zq(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=gh(i.hostAttrs,t=gh(t,i.hostAttrs))}}(r)}function P_(n){return n===ia?{}:n===De?[]:n}function e5(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function t5(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function n5(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let $h=null;function to(){if(!$h){const n=xe.Symbol;if(n&&n.iterator)$h=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&($h=r)}}}return $h}function Rl(n){return!!R_(n)&&(Array.isArray(n)||!(n instanceof Map)&&to()in n)}function R_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ei(n,e,t){return n[e]=t}function rn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ka(n,e,t,r){return rn(n,ha(),t)?e+ie(t)+r:se}function sn(n,e,t,r,i,s,o,a){const u=D(),l=_e(),c=n+22,d=l.firstCreatePass?function d5(n,e,t,r,i,s,o,a,u){const l=e.consts,c=Aa(e,n,4,o||null,is(l,a));S_(e,t,c,is(l,u)),dh(e,c);const d=c.tViews=T_(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,t,r,i,s,o):l.data[c];Yr(d,!1);const h=u[11].createComment("");kh(l,u,h,d),nn(h,u),Uh(u,u[c]=gk(h,u,h,d)),uh(d)&&D_(l,u,d),null!=o&&C_(u,d,a)}function Hh(n){return la(function h4(){return ne.lFrame.contextLView}(),22+n)}function ee(n,e,t){const r=D();return rn(r,ha(),e)&&Wn(_e(),Xe(),r,n,e,r[11],t,!1),ee}function O_(n,e,t,r,i){const o=i?"class":"style";bk(n,t,e.inputs[o],o,r)}function T(n,e,t,r){const i=D(),s=_e(),o=22+n,a=i[11],u=i[o]=Hy(a,e,function I4(){return ne.lFrame.currentNamespace}()),l=s.firstCreatePass?function f5(n,e,t,r,i,s,o){const a=e.consts,l=Aa(e,n,2,i,is(a,s));return S_(e,t,l,is(a,o)),null!==l.attrs&&jh(l,l.attrs,!1),null!==l.mergedAttrs&&jh(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,t,r):s.data[o];Yr(l,!0);const c=l.mergedAttrs;null!==c&&ph(a,u,c);const d=l.classes;null!==d&&Yy(a,u,d);const h=l.styles;return null!==h&&_x(a,u,h),64!=(64&l.flags)&&kh(s,i,u,l),0===function a4(){return ne.lFrame.elementDepthCount}()&&nn(u,i),function u4(){ne.lFrame.elementDepthCount++}(),uh(l)&&(D_(s,i,l),ok(s,l,i)),null!==r&&C_(i,l),T}function S(){let n=Et();sy()?oy():(n=n.parent,Yr(n,!1));const e=n;!function l4(){ne.lFrame.elementDepthCount--}();const t=_e();return t.firstCreatePass&&(dh(t,n),Jm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function A4(n){return 0!=(16&n.flags)}(e)&&O_(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function M4(n){return 0!=(32&n.flags)}(e)&&O_(t,e,D(),e.stylesWithoutHost,!1),S}function Ce(n,e,t,r){return T(n,e,t,r),S(),Ce}function Mi(n,e,t){const r=D(),i=_e(),s=n+22,o=i.firstCreatePass?function p5(n,e,t,r,i){const s=e.consts,o=is(s,r),a=Aa(e,n,8,"ng-container",o);return null!==o&&jh(a,o,!0),S_(e,t,a,is(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Yr(o,!0);const a=r[s]=r[11].createComment("");return kh(i,r,a,o),nn(a,r),uh(o)&&(D_(i,r,o),ok(i,o,r)),null!=t&&C_(r,o),Mi}function xi(){let n=Et();const e=_e();return sy()?oy():(n=n.parent,Yr(n,!1)),e.firstCreatePass&&(dh(e,n),Jm(n)&&e.queries.elementEnd(n)),xi}function F_(n,e,t){return Mi(n,e,t),xi(),F_}function Ba(){return D()}function zh(n){return!!n&&"function"==typeof n.then}function Pk(n){return!!n&&"function"==typeof n.subscribe}const Rk=Pk;function de(n,e,t,r){const i=D(),s=_e(),o=Et();return function Fk(n,e,t,r,i,s,o,a){const u=uh(r),c=n.firstCreatePass&&vk(n),d=e[8],h=_k(e);let f=!0;if(3&r.type||a){const m=or(r,e),_=a?a(m):m,b=h.length,v=a?B=>a(dt(B[r.index])):r.index;let M=null;if(!a&&u&&(M=function g5(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=s,M.__ngLastListenerFn__=s,f=!1;else{s=Vk(r,e,d,s,!1);const B=t.listen(_,i,s);h.push(s,B),c&&c.push(i,v,b,b+1)}}else s=Vk(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let _=0;_<m;_+=2){const j=e[g[_]][g[_+1]].subscribe(s),le=h.length;h.push(s,j),c&&c.push(i,r.index,le,-(le+1))}}}(s,i,i[11],o,n,e,0,r),de}function Lk(n,e,t,r){try{return!1!==t(r)}catch(i){return Ek(n,i),!1}}function Vk(n,e,t,r,i){return function s(o){if(o===Function)return r;x_(2&n.flags?Hn(n.index,e):e);let u=Lk(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=Lk(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function ur(n=1){return function y4(n){return(ne.lFrame.contextLView=function _4(n,e){for(;n>0;)e=e[15],n--;return e}(n,ne.lFrame.contextLView))[8]}(n)}function Fl(n,e,t){return ki(n,"",e,"",t),Fl}function ki(n,e,t,r,i){const s=D(),o=ka(s,e,t,r);return o!==se&&Wn(_e(),Xe(),s,n,o,s[11],i,!1),ki}function Wk(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?xr(s):Ti(s),u=!1;for(;0!==a&&(!1===u||o);){const c=n[a+1];E5(n[a],e)&&(u=!0,n[a+1]=r?p_(c):h_(c)),a=r?xr(c):Ti(c)}u&&(n[t+1]=r?h_(s):p_(s))}function E5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&wa(n,e)>=0}const Dt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Kk(n){return n.substring(Dt.key,Dt.keyEnd)}function Qk(n,e){const t=Dt.textEnd;return t===e?-1:(e=Dt.keyEnd=function C5(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Dt.key=e,t),Ua(n,e,t))}function Ua(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function L_(n,e,t){return Nr(n,e,t,!1),L_}function kr(n,e){return Nr(n,e,null,!0),kr}function e1(n){!function Pr(n,e,t,r){const i=_e(),s=Ii(2);i.firstUpdatePass&&n1(i,null,s,r);const o=D();if(t!==se&&rn(o,s,t)){const a=i.data[mn()];if(o1(a,r)&&!t1(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=$m(u,t||"")),O_(i,a,o,t,r)}else!function R5(n,e,t,r,i,s,o,a){i===se&&(i=De);let u=0,l=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=u<i.length?i[u+1]:void 0,f=l<s.length?s[l+1]:void 0;let g,p=null;c===d?(u+=2,l+=2,h!==f&&(p=d,g=f)):null===d||null!==c&&c<d?(u+=2,p=c):(l+=2,p=d,g=f),null!==p&&i1(n,e,t,r,p,g,o,a),c=u<i.length?i[u]:null,d=l<s.length?s[l]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function P5(n,e,t){if(null==t||""===t)return De;const r=[],i=as(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(qn,ni,n,!0)}function ni(n,e){for(let t=function I5(n){return function Jk(n){Dt.key=0,Dt.keyEnd=0,Dt.value=0,Dt.valueEnd=0,Dt.textEnd=n.length}(n),Qk(n,Ua(n,0,Dt.textEnd))}(e);t>=0;t=Qk(e,t))qn(n,Kk(e),!0)}function Nr(n,e,t,r){const i=D(),s=_e(),o=Ii(2);s.firstUpdatePass&&n1(s,n,o,r),e!==se&&rn(i,o,e)&&i1(s,s.data[mn()],i,i[11],n,i[o+1]=function O5(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Pe(as(n)))),n}(e,t),r,o)}function t1(n,e){return e>=n.expandoStartIndex}function n1(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[mn()],o=t1(n,t);o1(s,r)&&null===e&&!o&&(e=!1),e=function M5(n,e,t,r){const i=function uy(n){const e=ne.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Ll(t=V_(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=V_(i,n,e,t,r),null===s){let u=function x5(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ti(r))return n[xr(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=V_(null,n,e,u[1],r),u=Ll(u,e.attrs,r),function k5(n,e,t,r){n[xr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function N5(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Ll(r,n[s].hostAttrs,t);return Ll(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function v5(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=xr(o),u=Ti(o);n[r]=t;let c,l=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||wa(d,c)>0)&&(l=!0)}else c=t;if(i)if(0!==u){const h=xr(n[a+1]);n[r+1]=Oh(h,a),0!==h&&(n[h+1]=f_(n[h+1],r)),n[a+1]=function dq(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Oh(a,0),0!==a&&(n[a+1]=f_(n[a+1],r)),a=r;else n[r+1]=Oh(u,0),0===a?a=r:n[u+1]=f_(n[u+1],r),u=r;l&&(n[r+1]=h_(n[r+1])),Wk(n,c,r,!0),Wk(n,c,r,!1),function w5(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&wa(s,e)>=0&&(t[r+1]=p_(t[r+1]))}(e,c,n,r,s),o=Oh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function V_(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Ll(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Ll(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),qn(n,o,!!t||e[++s]))}return void 0===n?null:n}function i1(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,l=u[a+1];qh(function Yx(n){return 1==(1&n)}(l)?s1(u,e,t,i,Ti(l),o):void 0)||(qh(s)||function Qx(n){return 2==(2&n)}(l)&&(s=s1(u,null,t,i,a,o)),function Ez(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:kn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=kn.Important),n.setStyle(t,r,i,s))}}(r,o,lh(mn(),t),i,s))}function s1(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=t[i+1];h===se&&(h=d?De:void 0);let f=d?Ey(h,r):c===r?h:void 0;if(l&&!qh(f)&&(f=Ey(u,r)),qh(f)&&(a=f,o))return a;const p=n[i+1];i=o?xr(p):Ti(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Ey(u,r))}return a}function qh(n){return void 0!==n}function o1(n,e){return 0!=(n.flags&(e?16:32))}function R(n,e=""){const t=D(),r=_e(),i=n+22,s=r.firstCreatePass?Aa(r,i,1,e,null):r.data[i],o=t[i]=function Gy(n,e){return n.createText(e)}(t[11],e);kh(r,t,o,s),Yr(s,!1)}function lr(n){return B_("",n,""),lr}function B_(n,e,t){const r=D(),i=ka(r,n,e,t);return i!==se&&function Si(n,e,t){const r=lh(e,n);!function ix(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,mn(),i),B_}const $a="en-US";let A1=$a;function $_(n,e,t,r,i){if(n=X(n),Array.isArray(n))for(let s=0;s<n.length;s++)$_(n[s],e,t,r,i);else{const s=_e(),o=D();let a=eo(n)?n:X(n.provide),u=Fx(n);const l=Et(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(eo(n)||!n.multi){const f=new hl(u,i,I),p=H_(a,e,i?c:c+h,d);-1===p?(_h(pl(l,o),s,a),G_(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=H_(a,e,c+h,d),p=H_(a,e,c,c+h),g=f>=0&&t[f],m=p>=0&&t[p];if(i&&!m||!i&&!g){_h(pl(l,o),s,a);const _=function Z6(n,e,t,r,i){const s=new hl(n,t,I);return s.multi=[],s.index=e,s.componentProviders=0,Z1(s,i,r&&!t),s}(i?X6:J6,t.length,i,r,u);!i&&m&&(t[p].providerFactory=_),G_(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(_),o.push(_)}else G_(s,n,f>-1?f:p,Z1(t[i?p:f],u,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function G_(n,e,t,r){const i=eo(e),s=function Uz(n){return!!n.useClass}(e);if(i||s){const u=(s?X(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function Z1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function H_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function J6(n,e,t,r){return z_(this.multi,[])}function X6(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=gl(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),z_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],z_(i,s);return s}function z_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ke(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Y6(n,e,t){const r=_e();if(r.firstCreatePass){const i=Ar(n);$_(t,r.data,r.blueprint,i,!0),$_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class t9{resolveComponentFactory(e){throw function e9(n){const e=Error(`No component factory found for ${Pe(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Jh=(()=>{class n{}return n.NULL=new t9,n})();class io{}class tN{}function i9(){return Ha(Et(),D())}function Ha(n,e){return new Ct(or(n,e))}let Ct=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=i9,n})();function s9(n){return n instanceof Ct?n.nativeElement:n}class $l{}let cs=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function o9(){const n=D(),t=Hn(Et().index,n);return(xn(t)?t:n)[11]}(),n})(),a9=(()=>{class n{}return n.\u0275prov=he({token:n,providedIn:"root",factory:()=>null}),n})();class Gl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const nN=new Gl("14.0.7"),q_={};function Xh(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(dt(s)),Sr(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&Xh(u[1],u,l,r)}const o=t.type;if(8&o)Xh(n,e,t.child,r);else if(32&o){const a=Uy(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=gx(e,t);if(Array.isArray(a))r.push(...a);else{const u=xl(e[16]);Xh(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Hl{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Xh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Sr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(zy(e,r),wh(t,r))}this._attachedToViewContainer=!1}ox(this._lView[1],this._lView)}onDestroy(e){uk(this._lView[1],this._lView,null,e)}markForCheck(){x_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function k_(n,e,t){const r=e[10];r.begin&&r.begin();try{Pl(n,e,n.template,t)}catch(i){throw Ek(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dz(n,e){kl(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e}}class u9 extends Hl{constructor(e){super(e),this._view=e}detectChanges(){yk(this._view)}checkNoChanges(){}get context(){return null}}class W_ extends Jh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Re(e);return new K_(t,this.ngModule)}}function rN(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class c9{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,q_,r);return i!==q_||t===q_?i:this.parentInjector.get(e,t,r)}}class K_ extends tN{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function kz(n){return n.map(xz).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return rN(this.componentDef.inputs)}get outputs(){return rN(this.componentDef.outputs)}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Nl?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new c9(e,s):e,a=o.get($l,null);if(null===a)throw new x(407,!1);const u=o.get(a9,null),l=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function Tq(n,e,t){return n.selectRootElement(e,t===Cr.ShadowDom)}(l,r,this.componentDef.encapsulation):Hy(a.createRenderer(null,this.componentDef),c,function l9(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,f=function Jq(n,e){return{components:[],scheduler:n||tz,clean:Kq,playerHandler:e||null,flags:0}}(),p=T_(0,null,null,1,0,null,null,null,null,null),g=Vh(null,p,f,h,null,null,a,l,u,o,null);let m,_;cy(g);try{const b=function Qq(n,e,t,r,i,s){const o=t[1];t[22]=n;const u=Aa(o,22,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(jh(u,l,!0),null!==n&&(ph(i,n,l),null!==u.classes&&Yy(i,n,u.classes),null!==u.styles&&_x(i,n,u.styles)));const c=r.createRenderer(n,e),d=Vh(t,ak(e),null,e.onPush?32:16,t[22],u,r,c,s||null,null,null);return o.firstCreatePass&&(_h(pl(u,t),o,e.type),hk(o,u),fk(u,t.length,1)),Uh(t,d),t[22]=d}(d,this.componentDef,g,a,l);if(d)if(r)ph(l,d,["ng-version",nN.full]);else{const{attrs:v,classes:M}=function Nz(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Mr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);v&&ph(l,d,v),M&&M.length>0&&Yy(l,d,M.join(" "))}if(_=ny(p,22),void 0!==t){const v=_.projection=[];for(let M=0;M<this.ngContentSelectors.length;M++){const B=t[M];v.push(null!=B?Array.from(B):null)}}m=function Yq(n,e,t,r,i){const s=t[1],o=function Nq(n,e,t){const r=Et();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),pk(n,r,e,Ma(n,e,1,null),t));const i=gl(e,n,r.directiveStart,r);nn(i,e);const s=or(r,e);return s&&nn(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,null!==i)for(const u of i)u(o,e);if(e.contentQueries){const u=Et();e.contentQueries(1,o,u.directiveStart)}const a=Et();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ss(a.index),ck(t[1],a,0,a.directiveStart,a.directiveEnd,e),dk(e,o)),o}(b,this.componentDef,g,f,[Xq]),Bh(p,g,null)}finally{dy()}return new h9(this.componentType,m,Ha(_,g),g,_)}}class h9 extends class r9{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new u9(i),this.componentType=e}get injector(){return new ga(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class iN extends io{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new W_(this);const r=function $n(n,e){const t=n[FA]||null;if(!t&&!0===e)throw new Error(`Type ${Pe(n)} does not have '\u0275mod' property.`);return t}(e);this._bootstrapComponents=function Ci(n){return n instanceof Function?n():n}(r.bootstrap),this._r3Injector=Vx(e,t,[{provide:io,useValue:this},{provide:Jh,useValue:this.componentFactoryResolver}],Pe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(e)}get(e,t=zt.THROW_IF_NOT_FOUND,r=Z.Default){return e===zt||e===io||e===Zy?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Q_ extends class n9{}{constructor(e){super(),this.moduleType=e}create(e){return new iN(this.moduleType,e)}}function fN(n,e,t,r,i,s){const o=e+t;return rn(n,o,i)?ei(n,o+1,s?r.call(s,i):r(i)):function zl(n,e){const t=n[e];return t===se?void 0:t}(n,o+1)}function cr(n,e){const t=_e();let r;const i=n+22;t.firstCreatePass?(r=function R9(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Xs(r.type)),o=Kr(I);try{const a=mh(!1),u=s();return mh(a),function h5(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,D(),i,u),u}finally{Kr(o)}}function dr(n,e,t){const r=n+22,i=D(),s=la(i,r);return function ql(n,e){return n[1].data[e].pure}(i,r)?fN(i,gn(),e,s.transform,t,s):s.transform(t)}function J_(n){return e=>{setTimeout(n,void 0,e)}}const Tt=class B9 extends Ws{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=J_(s),i&&(i=J_(i)),o&&(o=J_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof br&&e.add(a),a}};function U9(){return this._results[to()]()}class X_{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=to(),r=X_.prototype;r[t]||(r[t]=U9)}get changes(){return this._changes||(this._changes=new Tt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=zn(e);(this._changesDetected=!function B4(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ni=(()=>{class n{}return n.__NG_ELEMENT_ID__=G9,n})();const j9=Ni,$9=class extends j9{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=Vh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),Bh(r,i,e),new Hl(i)}};function G9(){return Zh(Et(),D())}function Zh(n,e){return 4&n.type?new $9(e,n,Ha(n,e)):null}let Rr=(()=>{class n{}return n.__NG_ELEMENT_ID__=H9,n})();function H9(){return wN(Et(),D())}const z9=Rr,_N=class extends z9{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ha(this._hostTNode,this._hostLView)}get injector(){return new ga(this._hostTNode,this._hostLView)}get parentInjector(){const e=yh(this._hostTNode,this._hostLView);if(uM(e)){const t=pa(e,this._hostLView),r=fa(e);return new ga(t[1].data[r+8],t)}return new ga(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=vN(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function yl(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new K_(Re(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?l:this.parentInjector).get(Nl,null);h&&(s=h)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[1];if(function o4(n){return Sr(n[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new _N(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function fz(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],vM(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function pz(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=Ky(s,o),u=r[11],l=xh(u,o[7]);return null!==l&&function cz(n,e,t,r,i,s){r[0]=i,r[6]=e,kl(n,r,t,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),vM(Z_(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=vN(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=zy(this._lContainer,t);r&&(wh(Z_(this._lContainer),t),ox(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=zy(this._lContainer,t);return r&&null!=wh(Z_(this._lContainer),t)?new Hl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function vN(n){return n[8]}function Z_(n){return n[8]||(n[8]=[])}function wN(n,e){let t;const r=e[n.index];if(Sr(r))t=r;else{let i;if(8&n.type)i=dt(r);else{const s=e[11];i=s.createComment("");const o=or(n,e);Zs(s,xh(s,o),i,function _z(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=gk(r,e,i,n),Uh(e,t)}return new _N(t,n,e)}class ev{constructor(e){this.queryList=e,this.matches=null}clone(){return new ev(this.queryList)}setDirty(){this.queryList.setDirty()}}class tv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new tv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==TN(e,t).matches&&this.queries[t].setDirty()}}class EN{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class nv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new nv(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class rv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new rv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,K9(t,s)),this.matchTNodeWithReadOption(e,t,vh(t,e,s,!1,!1))}else r===Ni?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,vh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ct||i===Rr||i===Ni&&4&t.type)this.addMatch(t.index,-2);else{const s=vh(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function K9(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function Y9(n,e,t,r){return-1===t?function Q9(n,e){return 11&n.type?Ha(n,e):4&n.type?Zh(n,e):null}(e,n):-2===t?function J9(n,e,t){return t===Ct?Ha(e,n):t===Ni?Zh(e,n):t===Rr?wN(e,n):void 0}(n,e,r):gl(n,n[1],t,e)}function bN(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let u=0;u<o.length;u+=2){const l=o[u];a.push(l<0?null:Y9(e,s[l],o[u+1],t.metadata.read))}i.matches=a}return i.matches}function iv(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=bN(n,e,i,t);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const l=s[a+1],c=e[-u];for(let d=10;d<c.length;d++){const h=c[d];h[17]===h[3]&&iv(h[1],h,l,r)}if(null!==c[9]){const d=c[9];for(let h=0;h<d.length;h++){const f=d[h];iv(f[1],f,l,r)}}}}}return r}function za(n){const e=D(),t=_e(),r=XA();ly(r+1);const i=TN(t,r);if(n.dirty&&zA(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?iv(t,e,r,[]):bN(t,e,i,r);n.reset(s,s9),n.notifyOnChanges()}return!0}return!1}function Wl(n,e,t){const r=_e();r.firstCreatePass&&(CN(r,new EN(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),DN(r,D(),e)}function qa(){return function X9(n,e){return n[19].queries[e].queryList}(D(),XA())}function DN(n,e,t){const r=new X_(4==(4&t));uk(n,e,r,r.destroy),null===e[19]&&(e[19]=new tv),e[19].queries.push(new ev(r))}function CN(n,e,t){null===n.queries&&(n.queries=new nv),n.queries.track(new rv(e,t))}function TN(n,e){return n.queries.getByIndex(e)}function tf(...n){}const lv=new O("Application Initializer");let nf=(()=>{class n{constructor(t){this.appInits=t,this.resolve=tf,this.reject=tf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(zh(s))t.push(s);else if(Rk(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(G(lv,8))},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yl=new O("AppId",{providedIn:"root",factory:function zN(){return`${cv()}${cv()}${cv()}`}});function cv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qN=new O("Platform Initializer"),rf=new O("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),wW=new O("appBootstrapListener"),WN=new O("AnimationModuleType"),Pi=new O("LocaleId",{providedIn:"root",factory:()=>CM(Pi,Z.Optional|Z.SkipSelf)||function EW(){return typeof $localize<"u"&&$localize.locale||$a}()}),TW=(()=>Promise.resolve(0))();function dv(n){typeof Zone>"u"?TW.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class He{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tt(!1),this.onMicrotaskEmpty=new Tt(!1),this.onStable=new Tt(!1),this.onError=new Tt(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function SW(){let n=xe.requestAnimationFrame,e=xe.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function xW(n){const e=()=>{!function MW(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(xe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,fv(n),n.isCheckStableRunning=!0,hv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),fv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return YN(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),JN(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return YN(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),JN(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,fv(n),hv(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!He.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(He.isInAngularZone())throw new x(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,AW,tf,tf);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const AW={};function hv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function fv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function YN(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function JN(n){n._nesting--,hv(n)}class kW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tt,this.onMicrotaskEmpty=new Tt,this.onStable=new Tt,this.onError=new Tt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const XN=new O(""),sf=new O("");let mv,pv=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mv||(function NW(n){mv=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{He.assertNotInAngularZone(),dv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(G(He),G(gv),G(sf))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})(),gv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return mv?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),ds=null;const ZN=new O("AllowMultipleToken"),yv=new O("PlatformDestroyListeners");function tP(n,e,t=[]){const r=`Platform: ${e}`,i=new O(r);return(s=[])=>{let o=_v();if(!o||o.injector.get(ZN,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function OW(n){if(ds&&!ds.get(ZN,!1))throw new x(400,!1);ds=n;const e=n.get(rP);(function eP(n){const e=n.get(qN,null);e&&e.forEach(t=>t())})(n)}(function nP(n=[],e){return zt.create({name:e,providers:[{provide:e_,useValue:"platform"},{provide:yv,useValue:new Set([()=>ds=null])},...n]})}(a,r))}return function LW(n){const e=_v();if(!e)throw new x(401,!1);return e}()}}function _v(){return ds?.get(rP)??null}let rP=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function VW(n,e){let t;return t="noop"===n?new kW:("zone.js"===n?void 0:n)||new He(e),t}(r?.ngZone,function iP(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:He,useValue:i}];return i.run(()=>{const o=zt.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(Ia,null);if(!u)throw new x(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{u.handleError(c)}});a.onDestroy(()=>{af(this._modules,a),l.unsubscribe()})}),function sP(n,e,t){try{const r=t();return zh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const l=a.injector.get(nf);return l.runInitializers(),l.donePromise.then(()=>(function M1(n){jn(n,"Expected localeId to be defined"),"string"==typeof n&&(A1=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Pi,$a)||$a),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=oP({},r);return function PW(n,e,t){const r=new Q_(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(of);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new x(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(yv,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(G(zt))},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function oP(n,e){return Array.isArray(e)?e.reduce(oP,n):{...n,...e}}let of=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new $e(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new $e(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{He.assertNotInAngularZone(),dv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{He.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),l.unsubscribe()}});this.isStable=Zd(s,o.pipe(kA()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof tN;if(!this._injector.get(nf).done)throw!i&&function Ql(n){const e=Re(n)||fn(n)||pn(n);return null!==e&&e.standalone}(t),new x(405,false);let o;o=i?t:this._injector.get(Jh).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function RW(n){return n.isBoundToModule}(o)?void 0:this._injector.get(io),l=o.create(zt.NULL,[],r||o.selector,a),c=l.location.nativeElement,d=l.injector.get(XN,null);return d?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),af(this.components,l),d?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;af(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(wW,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>af(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new x(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(G(He),G(zt),G(Ia))},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function af(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let lP=!1,uf=(()=>{class n{}return n.__NG_ELEMENT_ID__=jW,n})();function jW(n){return function $W(n,e,t){if(ah(n)&&!t){const r=Hn(n.index,e);return new Hl(r,r)}return 47&n.type?new Hl(e[16],e):null}(Et(),D(),16==(16&n))}class fP{constructor(){}supports(e){return Rl(e)}create(e){return new KW(e)}}const WW=(n,e)=>e;class KW{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||WW}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<gP(r,i,s)?t:r,a=gP(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,c=u-i;if(l!=c){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=c-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Rl(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function a5(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[to()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new QW(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new pP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class QW{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class pP{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new YW,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gP(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class mP{constructor(){}supports(e){return e instanceof Map||R_(e)}create(){return new JW}}class JW{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||R_(e)))throw new x(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new XW(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class XW{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yP(){return new df([new fP])}let df=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||yP()),deps:[[n,new Il,new yn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new x(901,!1)}}return n.\u0275prov=he({token:n,providedIn:"root",factory:yP}),n})();function _P(){return new Jl([new mP])}let Jl=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||_P()),deps:[[n,new Il,new yn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new x(901,!1)}}return n.\u0275prov=he({token:n,providedIn:"root",factory:_P}),n})();const t7=tP(null,"core",[]);let n7=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(G(of))},n.\u0275mod=Ht({type:n}),n.\u0275inj=Rt({}),n})();let hf=null;function oo(){return hf}const hr=new O("DocumentToken");class Q7{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bf=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Q7(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),xP(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{xP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(I(Rr),I(Ni),I(df))},n.\u0275dir=K({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function xP(n,e){n.context.$implicit=e.item}let hs=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new J7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){kP("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){kP("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(I(Rr),I(Ni))},n.\u0275dir=K({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class J7{constructor(){this.$implicit=null,this.ngIf=null}}function kP(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Pe(e)}'.`)}class Pv{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let If=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),NP=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Pv(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(I(Rr),I(Ni),I(If,9))},n.\u0275dir=K({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),RP=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:kn.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(I(Ct),I(Jl),I(cs))},n.\u0275dir=K({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();class t8{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class n8{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const r8=new n8,i8=new t8;let Qa=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(zh(t))return r8;if(Pk(t))return i8;throw function Lr(n,e){return new x(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(I(uf,16))},n.\u0275pipe=Mn({name:"async",type:n,pure:!1}),n})(),Df=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=Mn({name:"json",type:n,pure:!1}),n})(),w8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Rt({}),n})();class Fv extends class T8 extends class s7{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function i7(n){hf||(hf=n)}(new Fv)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function S8(){return ec=ec||document.querySelector("base"),ec?ec.getAttribute("href"):null}();return null==t?null:function A8(n){Cf=Cf||document.createElement("a"),Cf.setAttribute("href",n);const e=Cf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ec=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function q7(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Cf,ec=null;const VP=new O("TRANSITION_ID"),x8=[{provide:lv,useFactory:function M8(n,e,t){return()=>{t.get(nf).donePromise.then(()=>{const r=oo(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[VP,hr,zt],multi:!0}];let N8=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const Tf=new O("EventManagerPlugins");let Sf=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(G(Tf),G(He))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();class BP{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=oo().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let UP=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})(),tc=(()=>{class n extends UP{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(jP),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(jP))}}return n.\u0275fac=function(t){return new(t||n)(G(hr))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();function jP(n){oo().remove(n)}const Lv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vv=/%COMP%/g;function Af(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Af(n,i,t):(i=i.replace(Vv,n),t.push(i))}return t}function HP(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Mf=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Bv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Cr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new V8(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Cr.ShadowDom:return new B8(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Af(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(G(Sf),G(tc),G(Yl))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();class Bv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Lv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(qP(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(qP(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Lv[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Lv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(kn.DashCase|kn.Important)?e.style.setProperty(t,r,i&kn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&kn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,HP(r)):this.eventManager.addEventListener(e,t,HP(r))}}function qP(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class V8 extends Bv{constructor(e,t,r,i){super(e),this.component=r;const s=Af(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function O8(n){return"_ngcontent-%COMP%".replace(Vv,n)}(i+"-"+r.id),this.hostAttr=function F8(n){return"_nghost-%COMP%".replace(Vv,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class B8 extends Bv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Af(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let U8=(()=>{class n extends BP{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(G(hr))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const WP=["alt","control","meta","shift"],$8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},KP={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},G8={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let H8=(()=>{class n extends BP{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oo().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(WP.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function z8(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&KP.hasOwnProperty(e)&&(e=KP[e]))}return $8[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),WP.forEach(s=>{s!=i&&G8[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(G(hr))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const QP=[{provide:rf,useValue:"browser"},{provide:qN,useValue:function q8(){Fv.makeCurrent()},multi:!0},{provide:hr,useFactory:function K8(){return function cH(n){Cy=n}(document),document},deps:[]}],Q8=tP(t7,"browser",QP),YP=new O(""),JP=[{provide:sf,useClass:class k8{addToWindow(e){xe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},xe.getAllAngularTestabilities=()=>e.getAllTestabilities(),xe.getAllAngularRootElements=()=>e.getAllRootElements(),xe.frameworkStabilizers||(xe.frameworkStabilizers=[]),xe.frameworkStabilizers.push(r=>{const i=xe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?oo().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:XN,useClass:pv,deps:[He,gv,sf]},{provide:pv,useClass:pv,deps:[He,gv,sf]}],XP=[{provide:e_,useValue:"root"},{provide:Ia,useFactory:function W8(){return new Ia},deps:[]},{provide:Tf,useClass:U8,multi:!0,deps:[hr,He,rf]},{provide:Tf,useClass:H8,multi:!0,deps:[hr]},{provide:Mf,useClass:Mf,deps:[Sf,tc,Yl]},{provide:$l,useExisting:Mf},{provide:UP,useExisting:tc},{provide:tc,useClass:tc,deps:[hr]},{provide:Sf,useClass:Sf,deps:[Tf,He]},{provide:class C8{},useClass:N8,deps:[]},[]];let ZP=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Yl,useValue:t.appId},{provide:VP,useExisting:Yl},x8]}}}return n.\u0275fac=function(t){return new(t||n)(G(YP,12))},n.\u0275mod=Ht({type:n}),n.\u0275inj=Rt({providers:[...XP,...JP],imports:[w8,n7]}),n})();function nR(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){nR(s,r,i,o,a,"next",u)}function a(u){nR(s,r,i,o,a,"throw",u)}o(void 0)})}}typeof window<"u"&&window;const rR=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(rR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new lK;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xf=function(n){return function(n){const e=rR(n);return Gv.encodeByteArray(e,!0)}(n).replace(/\./g,"")},kf=function(n){try{return Gv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Nf=()=>{try{return function hK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&kf(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},sR=()=>{var n;return null===(n=Nf())||void 0===n?void 0:n.config};class Pf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Kn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Hv(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function ao(){try{return"object"==typeof indexedDB}catch{return!1}}function nc(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function zv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Vr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ri.prototype.create)}}class ri{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function DK(n,e){return n.replace(CK,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Vr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const CK=/\{\$([^}]+)}/g;function qv(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(aR(s)&&aR(o)){if(!qv(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function aR(n){return null!==n&&"object"==typeof n}function uR(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class SK{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function AK(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Wv),void 0===i.error&&(i.error=Wv),void 0===i.complete&&(i.complete=Wv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wv(){}function Qv(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Qn(n){return n&&n._delegate?n._delegate:n}class on{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const uo="[DEFAULT]";class RK{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Pf;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function FK(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===uo?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class LK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new RK(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Yv=[];var me=(()=>{return(n=me||(me={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",me;var n})();const lR={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},VK=me.INFO,BK={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},UK=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=BK[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Ya{constructor(e){this.name=e,this._logLevel=VK,this._logHandler=UK,this._userLogHandler=null,Yv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?lR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}let cR,dR;const hR=new WeakMap,Jv=new WeakMap,fR=new WeakMap,Xv=new WeakMap,Zv=new WeakMap;let ew={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Jv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||fR.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ps(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function KK(n){return"function"==typeof n?function WK(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function GK(){return dR||(dR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(tw(this),e),ps(hR.get(this))}:function(...e){return ps(n.apply(tw(this),e))}:function(e,...t){const r=n.call(tw(this),e,...t);return fR.set(r,e.sort?e.sort():[e]),ps(r)}}(n):(n instanceof IDBTransaction&&function zK(n){if(Jv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Jv.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function $K(){return cR||(cR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,ew):n)}function ps(n){if(n instanceof IDBRequest)return function HK(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ps(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&hR.set(t,n)}).catch(()=>{}),Zv.set(e,n),e}(n);if(Xv.has(n))return Xv.get(n);const e=KK(n);return e!==n&&(Xv.set(n,e),Zv.set(e,n)),e}const tw=n=>Zv.get(n),YK=["get","getKey","getAll","getAllKeys","count"],JK=["put","add","delete","clear"],nw=new Map;function pR(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(nw.get(e))return nw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=JK.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!YK.includes(t))return;const s=function(){var o=y(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[t](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return nw.set(e,s),s}!function qK(n){ew=n(ew)}(n=>({...n,get:(e,t,r)=>pR(e,t)||n.get(e,t,r),has:(e,t)=>!!pR(e,t)||n.has(e,t)}));class XK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function ZK(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const rw="@firebase/app",lo=new Ya("@firebase/app"),Of="[DEFAULT]",CQ={[rw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},co=new Map,Ff=new Map;function TQ(n,e){try{n.container.addComponent(e)}catch(t){lo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function En(n){const e=n.name;if(Ff.has(e))return lo.debug(`There were multiple attempts to register component ${e}.`),!1;Ff.set(e,n);for(const t of co.values())TQ(t,n);return!0}function Lf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Fi=new ri("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class AQ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new on("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}const rc="9.23.0";function mR(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Of,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Fi.create("bad-app-name",{appName:String(i)});if(t||(t=sR()),!t)throw Fi.create("no-options");const s=co.get(i);if(s){if(qv(t,s.options)&&qv(r,s.config))return s;throw Fi.create("duplicate-app",{appName:i})}const o=new LK(i);for(const u of Ff.values())o.addComponent(u);const a=new AQ(t,r,o);return co.set(i,a),a}function yR(n=Of){const e=co.get(n);if(!e&&n===Of&&sR())return mR();if(!e)throw Fi.create("no-app",{appName:n});return e}function _R(){return Array.from(co.values())}function ot(n,e,t){var r;let i=null!==(r=CQ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void lo.warn(a.join(" "))}En(new on(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const ic="firebase-heartbeat-store";let DR,CR,sw=null;function vR(){return sw||(sw=function QK(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=ps(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ps(o.result),u.oldVersion,u.newVersion,ps(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ic)}}).catch(n=>{throw Fi.create("idb-open",{originalErrorMessage:n.message})})),sw}function ow(){return(ow=y(function*(n){try{return yield(yield vR()).transaction(ic).objectStore(ic).get(ER(n))}catch(e){if(e instanceof Vr)lo.warn(e.message);else{const t=Fi.create("idb-get",{originalErrorMessage:e?.message});lo.warn(t.message)}}})).apply(this,arguments)}function wR(n,e){return aw.apply(this,arguments)}function aw(){return(aw=y(function*(n,e){try{const r=(yield vR()).transaction(ic,"readwrite");yield r.objectStore(ic).put(e,ER(n)),yield r.done}catch(t){if(t instanceof Vr)lo.warn(t.message);else{const r=Fi.create("idb-set",{originalErrorMessage:t?.message});lo.warn(r.message)}}})).apply(this,arguments)}function ER(n){return`${n.name}!${n.options.appId}`}class RQ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new FQ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bR();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=bR(),{heartbeatsToSend:r,unsentEntries:i}=function OQ(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),IR(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),IR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=xf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function bR(){return(new Date).toISOString().substring(0,10)}class FQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!ao()&&nc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function kQ(n){return ow.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return y(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return wR(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return y(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return wR(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function IR(n){return xf(JSON.stringify({version:2,heartbeats:n})).length}!function LQ(n){En(new on("platform-logger",e=>new XK(e),"PRIVATE")),En(new on("heartbeat",e=>new RQ(e),"PRIVATE")),ot(rw,"0.9.13",n),ot(rw,"0.9.13","esm2017"),ot("fire-js","")}(""),ot("firebase","9.23.0","app");const TR=new WeakMap,uw=new WeakMap,SR=new WeakMap,lw=new WeakMap,cw=new WeakMap;let dw={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return uw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||SR.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return gs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function WQ(n){return"function"==typeof n?function qQ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $Q(){return CR||(CR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(hw(this),e),gs(TR.get(this))}:function(...e){return gs(n.apply(hw(this),e))}:function(e,...t){const r=n.call(hw(this),e,...t);return SR.set(r,e.sort?e.sort():[e]),gs(r)}}(n):(n instanceof IDBTransaction&&function HQ(n){if(uw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});uw.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function jQ(){return DR||(DR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,dw):n)}function gs(n){if(n instanceof IDBRequest)return function GQ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(gs(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&TR.set(t,n)}).catch(()=>{}),cw.set(e,n),e}(n);if(lw.has(n))return lw.get(n);const e=WQ(n);return e!==n&&(lw.set(n,e),cw.set(e,n)),e}const hw=n=>cw.get(n),QQ=["get","getKey","getAll","getAllKeys","count"],YQ=["put","add","delete","clear"],fw=new Map;function AR(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(fw.get(e))return fw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=YQ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!QQ.includes(t))return;const s=function(){var o=y(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[t](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return fw.set(e,s),s}!function zQ(n){dw=n(dw)}(n=>({...n,get:(e,t,r)=>AR(e,t)||n.get(e,t,r),has:(e,t)=>!!AR(e,t)||n.has(e,t)}));const MR="@firebase/installations",kR="w:0.6.4",NR="FIS_v2",Li=new ri("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function PR(n){return n instanceof Vr&&n.code.includes("request-failed")}function gw({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function RR(n){return{token:n.token,requestStatus:2,expiresIn:nY(n.expiresIn),creationTime:Date.now()}}function mw(n,e){return yw.apply(this,arguments)}function yw(){return(yw=y(function*(n,e){const r=(yield e.json()).error;return Li.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function OR({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function FR(n,{refreshToken:e}){const t=OR(n);return t.append("Authorization",function rY(n){return`${NR} ${n}`}(e)),t}function _w(n){return vw.apply(this,arguments)}function vw(){return(vw=y(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function nY(n){return Number(n.replace("s","000"))}function iY(n,e){return ww.apply(this,arguments)}function ww(){return(ww=y(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=gw(n),i=OR(n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:NR,appId:n.appId,sdkVersion:kR})},u=yield _w(()=>fetch(r,a));if(u.ok){const l=yield u.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:RR(l.authToken)}}throw yield mw("Create Installation",u)})).apply(this,arguments)}function LR(n){return new Promise(e=>{setTimeout(e,n)})}const oY=/^[cdef][\w-]{21}$/;function aY(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function uY(n){return function sY(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return oY.test(t)?t:""}catch{return""}}function Ja(n){return`${n.appName}!${n.appId}`}const Xa=new Map;function VR(n,e){const t=Ja(n);BR(t,e),function dY(n,e){const t=function UR(){return!ho&&"BroadcastChannel"in self&&(ho=new BroadcastChannel("[Firebase] FID Change"),ho.onmessage=n=>{BR(n.data.key,n.data.fid)}),ho}();t&&t.postMessage({key:n,fid:e}),function jR(){0===Xa.size&&ho&&(ho.close(),ho=null)}()}(t,e)}function BR(n,e){const t=Xa.get(n);if(t)for(const r of t)r(e)}let ho=null;const fo="firebase-installations-store";let bw=null;function Iw(){return bw||(bw=function KQ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=gs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(gs(o.result),u.oldVersion,u.newVersion,gs(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(fo)}})),bw}function Vf(n,e){return Dw.apply(this,arguments)}function Dw(){return(Dw=y(function*(n,e){const t=Ja(n),i=(yield Iw()).transaction(fo,"readwrite"),s=i.objectStore(fo),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&VR(n,e.fid),e})).apply(this,arguments)}function Cw(n){return Tw.apply(this,arguments)}function Tw(){return(Tw=y(function*(n){const e=Ja(n),r=(yield Iw()).transaction(fo,"readwrite");yield r.objectStore(fo).delete(e),yield r.done})).apply(this,arguments)}function sc(n,e){return Sw.apply(this,arguments)}function Sw(){return(Sw=y(function*(n,e){const t=Ja(n),i=(yield Iw()).transaction(fo,"readwrite"),s=i.objectStore(fo),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&VR(n,a.fid),a})).apply(this,arguments)}function Aw(n){return Mw.apply(this,arguments)}function Mw(){return(Mw=y(function*(n){let e;const t=yield sc(n.appConfig,r=>{const i=pY(r),s=gY(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function pY(n){return GR(n||{fid:aY(),registrationStatus:0})}function gY(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Li.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function mY(n,e){return xw.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:yY(n)}:{installationEntry:e}}function xw(){return(xw=y(function*(n,e){try{const t=yield iY(n,e);return Vf(n.appConfig,t)}catch(t){throw PR(t)&&409===t.customData.serverCode?yield Cw(n.appConfig):yield Vf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function yY(n){return kw.apply(this,arguments)}function kw(){return(kw=y(function*(n){let e=yield $R(n.appConfig);for(;1===e.registrationStatus;)yield LR(100),e=yield $R(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Aw(n);return r||t}return e})).apply(this,arguments)}function $R(n){return sc(n,e=>{if(!e)throw Li.create("installation-not-found");return GR(e)})}function GR(n){return function _Y(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function vY(n,e){return Nw.apply(this,arguments)}function Nw(){return(Nw=y(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=wY(n,t),i=FR(n,t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:kR,appId:n.appId}})},u=yield _w(()=>fetch(r,a));if(u.ok)return RR(yield u.json());throw yield mw("Generate Auth Token",u)})).apply(this,arguments)}function wY(n,{fid:e}){return`${gw(n)}/${e}/authTokens:generate`}function Pw(n){return Rw.apply(this,arguments)}function Rw(){return(Rw=y(function*(n,e=!1){let t;const r=yield sc(n.appConfig,s=>{if(!zR(s))throw Li.create("not-registered");const o=s.authToken;if(!e&&IY(o))return s;if(1===o.requestStatus)return t=EY(n,e),s;{if(!navigator.onLine)throw Li.create("app-offline");const a=CY(s);return t=bY(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function EY(n,e){return Ow.apply(this,arguments)}function Ow(){return(Ow=y(function*(n,e){let t=yield HR(n.appConfig);for(;1===t.authToken.requestStatus;)yield LR(100),t=yield HR(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Pw(n,e):r})).apply(this,arguments)}function HR(n){return sc(n,e=>{if(!zR(e))throw Li.create("not-registered");return function TY(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function bY(n,e){return Fw.apply(this,arguments)}function Fw(){return(Fw=y(function*(n,e){try{const t=yield vY(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Vf(n.appConfig,r),t}catch(t){if(!PR(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Vf(n.appConfig,r)}else yield Cw(n.appConfig);throw t}})).apply(this,arguments)}function zR(n){return void 0!==n&&2===n.registrationStatus}function IY(n){return 2===n.requestStatus&&!function DY(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function CY(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Lw(){return(Lw=y(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Aw(e);return r?r.catch(console.error):Pw(e).catch(console.error),t.fid})).apply(this,arguments)}function Vw(){return(Vw=y(function*(n,e=!1){const t=n;return yield MY(t),(yield Pw(t,e)).token})).apply(this,arguments)}function MY(n){return Bw.apply(this,arguments)}function Bw(){return(Bw=y(function*(n){const{registrationPromise:e}=yield Aw(n);e&&(yield e)})).apply(this,arguments)}function $w(n){return Li.create("missing-app-config-values",{valueName:n})}const qR="installations",RY=n=>{const e=n.getProvider("app").getImmediate(),t=function NY(n){if(!n||!n.options)throw $w("App Configuration");if(!n.name)throw $w("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw $w(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Lf(e,"heartbeat"),_delete:()=>Promise.resolve()}},OY=n=>{const t=Lf(n.getProvider("app").getImmediate(),qR).getImmediate();return{getId:()=>function SY(n){return Lw.apply(this,arguments)}(t),getToken:i=>function AY(n){return Vw.apply(this,arguments)}(t,i)}};(function FY(){En(new on(qR,RY,"PUBLIC")),En(new on("installations-internal",OY,"PRIVATE"))})(),ot(MR,"0.6.4"),ot(MR,"0.6.4","esm2017");const Gw="@firebase/remote-config",Pn=new ri("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class WY{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return y(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function KY(n=navigator){return n.languages&&n.languages[0]||n.language}class QY{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return y(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:KY()},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(o,l),d=new Promise((_,b)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",b(v)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(_){let b="fetch-client-network";throw"AbortError"===_?.name&&(b="fetch-timeout"),Pn.create(b,{originalErrorMessage:_?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let _;try{_=yield h.json()}catch(b){throw Pn.create("fetch-client-parse",{originalErrorMessage:b?.message})}g=_.entries,m=_.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw Pn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class XY{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return y(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return y(function*(){yield function YY(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function JY(n){if(!(n instanceof Vr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Qv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class tJ{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Uf(n,e){const t=n.target.error||void 0;return Pn.create(e,{originalErrorMessage:t&&t?.message})}const po="app_namespace_store";class sJ{constructor(e,t,r,i=function iJ(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Uf(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(po,{keyPath:"compositeKey"})}}catch(t){e(Pn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([po],"readonly").objectStore(po),u=t.createCompositeKey(e);try{const l=a.get(u);l.onerror=c=>{s(Uf(c,"storage-get"))},l.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(l){s(Pn.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([po],"readwrite").objectStore(po),l=r.createCompositeKey(e);try{const c=u.put({compositeKey:l,value:t});c.onerror=d=>{o(Uf(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(Pn.create("storage-set",{originalErrorMessage:c?.message}))}})})()}delete(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([po],"readwrite").objectStore(po),u=t.createCompositeKey(e);try{const l=a.delete(u);l.onerror=c=>{s(Uf(c,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(Pn.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class oJ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function uJ(){return Kw.apply(this,arguments)}function Kw(){return(Kw=y(function*(){if(!ao())return!1;try{return yield nc()}catch{return!1}})).apply(this,arguments)}let YR,JR;!function aJ(){En(new on("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Pn.create("registration-window");if(!ao())throw Pn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Pn.create("registration-project-id");if(!o)throw Pn.create("registration-api-key");if(!a)throw Pn.create("registration-app-id");const u=new sJ(a,r.name,t=t||"firebase"),l=new oJ(u),c=new Ya(Gw);c.logLevel=me.ERROR;const d=new QY(i,rc,t,s,o,a),h=new XY(d,u),f=new WY(h,u,l,c),p=new tJ(r,f,l,u,c);return function HY(n){const e=Qn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ot(Gw,"0.4.4"),ot(Gw,"0.4.4","esm2017")}();const XR=new WeakMap,Qw=new WeakMap,ZR=new WeakMap,Yw=new WeakMap,Jw=new WeakMap;let Xw={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Qw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||ZR.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function mJ(n){return"function"==typeof n?function gJ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dJ(){return JR||(JR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Zw(this),e),Vi(XR.get(this))}:function(...e){return Vi(n.apply(Zw(this),e))}:function(e,...t){const r=n.call(Zw(this),e,...t);return ZR.set(r,e.sort?e.sort():[e]),Vi(r)}}(n):(n instanceof IDBTransaction&&function fJ(n){if(Qw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Qw.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function cJ(){return YR||(YR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Xw):n)}function Vi(n){if(n instanceof IDBRequest)return function hJ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Vi(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&XR.set(t,n)}).catch(()=>{}),Jw.set(e,n),e}(n);if(Yw.has(n))return Yw.get(n);const e=mJ(n);return e!==n&&(Yw.set(n,e),Jw.set(e,n)),e}const Zw=n=>Jw.get(n);function eO(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Vi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Vi(o.result),u.oldVersion,u.newVersion,Vi(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function eE(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Vi(t).then(()=>{})}const yJ=["get","getKey","getAll","getAllKeys","count"],_J=["put","add","delete","clear"],tE=new Map;function tO(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(tE.get(e))return tE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=_J.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!yJ.includes(t))return;const s=function(){var o=y(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[t](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return tE.set(e,s),s}!function pJ(n){Xw=n(Xw)}(n=>({...n,get:(e,t,r)=>tO(e,t)||n.get(e,t,r),has:(e,t)=>!!tO(e,t)||n.has(e,t)}));const vJ="/firebase-messaging-sw.js",wJ="/firebase-cloud-messaging-push-scope",nO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",rO="google.c.a.c_id",bJ="google.c.a.c_l",IJ="google.c.a.ts",DJ="google.c.a.e";var Za=(()=>{return(n=Za||(Za={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Za;var n})();function Bi(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function CJ(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const nE="fcm_token_details_db",iO="fcm_token_object_Store";function SJ(n){return rE.apply(this,arguments)}function rE(){return rE=y(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(nE))return null;let e=null;return(yield eO(nE,5,{upgrade:(r=y(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(iO))return;const l=a.objectStore(iO),c=yield l.index("fcmSenderId").get(n);if(yield l.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Bi(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Bi(d.auth),p256dh:Bi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Bi(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Bi(d.auth),p256dh:Bi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Bi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield eE(nE),yield eE("fcm_vapid_details_db"),yield eE("undefined"),AJ(e)?e:null;var r}),rE.apply(this,arguments)}function AJ(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const go="firebase-messaging-store";let iE=null;function sE(){return iE||(iE=eO("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(go)}})),iE}function sO(n){return oE.apply(this,arguments)}function oE(){return(oE=y(function*(n){const e=cE(n),r=yield(yield sE()).transaction(go).objectStore(go).get(e);if(r)return r;{const i=yield SJ(n.appConfig.senderId);if(i)return yield aE(n,i),i}})).apply(this,arguments)}function aE(n,e){return uE.apply(this,arguments)}function uE(){return(uE=y(function*(n,e){const t=cE(n),i=(yield sE()).transaction(go,"readwrite");return yield i.objectStore(go).put(e,t),yield i.done,e})).apply(this,arguments)}function kJ(n){return lE.apply(this,arguments)}function lE(){return(lE=y(function*(n){const e=cE(n),r=(yield sE()).transaction(go,"readwrite");yield r.objectStore(go).delete(e),yield r.done})).apply(this,arguments)}function cE({appConfig:n}){return n.appId}const qt=new ri("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function PJ(n,e){return dE.apply(this,arguments)}function dE(){return(dE=y(function*(n,e){const t=yield gE(n),r=aO(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(pE(n.appConfig),i)).json()}catch(o){throw qt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw qt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function RJ(n,e){return hE.apply(this,arguments)}function hE(){return(hE=y(function*(n,e){const t=yield gE(n),r=aO(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${pE(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw qt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw qt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-update-no-token");return s.token})).apply(this,arguments)}function oO(n,e){return fE.apply(this,arguments)}function fE(){return(fE=y(function*(n,e){const r={method:"DELETE",headers:yield gE(n)};try{const s=yield(yield fetch(`${pE(n.appConfig)}/${e}`,r)).json();if(s.error)throw qt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw qt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function pE({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function gE(n){return mE.apply(this,arguments)}function mE(){return(mE=y(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function aO({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==nO&&(i.web.applicationPubKey=r),i}const OJ=6048e5;function FJ(n){return yE.apply(this,arguments)}function yE(){return(yE=y(function*(n){const e=yield VJ(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Bi(e.getKey("auth")),p256dh:Bi(e.getKey("p256dh"))},r=yield sO(n.firebaseDependencies);if(r){if(BJ(r.subscriptionOptions,t))return Date.now()>=r.createTime+OJ?LJ(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield oO(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return lO(n.firebaseDependencies,t)}return lO(n.firebaseDependencies,t)})).apply(this,arguments)}function uO(n){return _E.apply(this,arguments)}function _E(){return(_E=y(function*(n){const e=yield sO(n.firebaseDependencies);e&&(yield oO(n.firebaseDependencies,e.token),yield kJ(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function LJ(n,e){return vE.apply(this,arguments)}function vE(){return(vE=y(function*(n,e){try{const t=yield RJ(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield aE(n.firebaseDependencies,r),t}catch(t){throw yield uO(n),t}})).apply(this,arguments)}function lO(n,e){return wE.apply(this,arguments)}function wE(){return(wE=y(function*(n,e){const r={token:yield PJ(n,e),createTime:Date.now(),subscriptionOptions:e};return yield aE(n,r),r.token})).apply(this,arguments)}function VJ(n,e){return EE.apply(this,arguments)}function EE(){return(EE=y(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:CJ(e)})})).apply(this,arguments)}function BJ(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function cO(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function UJ(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function jJ(n,e){!e.data||(n.data=e.data)}(e,n),function $J(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}(e,n),e}function GJ(n){return"object"==typeof n&&!!n&&rO in n}function dO(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function bE(n){return qt.create("missing-app-config-values",{valueName:n})}dO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zJ{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function HJ(n){if(!n||!n.options)throw bE("App Configuration Object");if(!n.name)throw bE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw bE(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function hO(n){return IE.apply(this,arguments)}function IE(){return(IE=y(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(vJ,{scope:wJ}),n.swRegistration.update().catch(()=>{})}catch(e){throw qt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function qJ(n,e){return DE.apply(this,arguments)}function DE(){return(DE=y(function*(n,e){if(!e&&!n.swRegistration&&(yield hO(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw qt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function WJ(n,e){return CE.apply(this,arguments)}function CE(){return(CE=y(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=nO)})).apply(this,arguments)}function TE(){return(TE=y(function*(n,e){if(!navigator)throw qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qt.create("permission-blocked");return yield WJ(n,e?.vapidKey),yield qJ(n,e?.serviceWorkerRegistration),FJ(n)})).apply(this,arguments)}function KJ(n,e,t){return SE.apply(this,arguments)}function SE(){return(SE=y(function*(n,e,t){const r=QJ(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[rO],message_name:t[bJ],message_time:t[IJ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function QJ(n){switch(n){case Za.NOTIFICATION_CLICKED:return"notification_open";case Za.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function AE(){return(AE=y(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Za.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(cO(t)):n.onMessageHandler.next(cO(t)));const r=t.data;GJ(r)&&"1"===r[DJ]&&(yield KJ(n,t.messageType,r))})).apply(this,arguments)}const pO="@firebase/messaging",JJ=n=>{const e=new zJ(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function YJ(n,e){return AE.apply(this,arguments)}(e,t)),e},XJ=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function fO(n,e){return TE.apply(this,arguments)}(e,r)}};function mO(){return ME.apply(this,arguments)}function ME(){return(ME=y(function*(){try{yield nc()}catch{return!1}return typeof window<"u"&&ao()&&zv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ZJ(){En(new on("messaging",JJ,"PUBLIC")),En(new on("messaging-internal",XJ,"PRIVATE")),ot(pO,"0.12.4"),ot(pO,"0.12.4","esm2017")}();const jf="analytics",nX="firebase_id",sX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",NE="https://www.googletagmanager.com/gtag/js",Ft=new Ya("@firebase/analytics"),bn=new ri("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function aX(n){if(!n.startsWith(NE)){const e=bn.create("invalid-gtag-resource",{gtagURL:n});return Ft.warn(e.message),""}return n}function yO(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function lX(n,e){const t=function uX(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:aX}),r=document.createElement("script"),i=`${NE}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function dX(n,e,t,r,i,s){return PE.apply(this,arguments)}function PE(){return(PE=y(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield yO(t)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){Ft.error(a)}n("config",i,s)})).apply(this,arguments)}function hX(n,e,t,r,i){return RE.apply(this,arguments)}function RE(){return(RE=y(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield yO(t);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Ft.error(s)}})).apply(this,arguments)}function gX(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(NE)&&t.src.includes(n))return t;return null}const _O=new class _X{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function vX(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function wX(n){return OE.apply(this,arguments)}function OE(){return(OE=y(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:vX(r)},s=sX.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function EX(n){return FE.apply(this,arguments)}function FE(){return(FE=y(function*(n,e=_O,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw bn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw bn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new DX;return setTimeout(y(function*(){a.abort()}),void 0!==t?t:6e4),vO({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function vO(n,e,t){return LE.apply(this,arguments)}function LE(){return(LE=y(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=_O){var s;const{appId:o,measurementId:a}=n;try{yield bX(r,e)}catch(u){if(a)return Ft.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield wX(n);return i.deleteThrottleMetadata(o),u}catch(u){const l=u;if(!IX(l)){if(i.deleteThrottleMetadata(o),a)return Ft.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw u}const c=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?Qv(t,i.intervalMillis,30):Qv(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:t+1};return i.setThrottleMetadata(o,d),Ft.debug(`Calling attemptFetch again in ${c} millis`),vO(n,d,r,i)}})).apply(this,arguments)}function bX(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function IX(n){if(!(n instanceof Vr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class DX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let VE,zE;function BE(){return(BE=y(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function wO(n){zE=n}function EO(n){VE=n}function kX(){return qE.apply(this,arguments)}function qE(){return(qE=y(function*(){if(!ao())return Ft.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield nc()}catch(n){return Ft.warn(bn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function WE(){return(WE=y(function*(n,e,t,r,i,s,o){var a;const u=EX(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Ft.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ft.error(f)),e.push(u);const l=kX().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);gX(s)||lX(s,c.measurementId),zE&&(i("consent","default",zE),wO(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[nX]=d),i("config",c.measurementId,h),VE&&(i("set",VE),EO(void 0)),c.measurementId})).apply(this,arguments)}class PX{constructor(e){this.app=e}_delete(){return delete ii[this.app.options.appId],Promise.resolve()}}let ii={},bO=[];const IO={};let CO,si,$f="dataLayer",KE=!1;function OX(n,e,t){!function RX(){const n=[];if(Hv()&&n.push("This is a browser extension environment."),zv()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=bn.create("invalid-analytics-context",{errorInfo:e});Ft.warn(t.message)}}();const r=n.options.appId;if(!r)throw bn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw bn.create("no-api-key");Ft.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ii[r])throw bn.create("already-exists",{id:r});if(!KE){!function cX(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}($f);const{wrappedGtag:s,gtagCore:o}=function pX(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function fX(n,e,t,r){function s(){return(s=y(function*(o,...a){try{if("event"===o){const[u,l]=a;yield hX(n,e,t,u,l)}else if("config"===o){const[u,l]=a;yield dX(n,e,t,r,u,l)}else if("consent"===o){const[u]=a;n("consent","update",u)}else if("get"===o){const[u,l,c]=a;n("get",u,l,c)}else if("set"===o){const[u]=a;n("set",u)}else n(o,...a)}catch(u){Ft.error(u)}})).apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(ii,bO,IO,$f,"gtag");si=s,CO=o,KE=!0}return ii[r]=function NX(n,e,t,r,i,s,o){return WE.apply(this,arguments)}(n,bO,IO,e,CO,$f,t),new PX(n)}function LX(){return QE.apply(this,arguments)}function QE(){return(QE=y(function*(){if(Hv()||!zv()||!ao())return!1;try{return yield nc()}catch{return!1}})).apply(this,arguments)}const TO="@firebase/analytics";!function BX(){En(new on(jf,(e,{options:t})=>OX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),En(new on("analytics-internal",function n(e){try{const t=e.getProvider(jf).getImmediate();return{logEvent:(r,i,s)=>function VX(n,e,t,r){n=Qn(n),function CX(n,e,t,r,i){return BE.apply(this,arguments)}(si,ii[n.app.options.appId],e,t,r).catch(i=>Ft.error(i))}(t,r,i,s)}}catch(t){throw bn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),ot(TO,"0.10.0"),ot(TO,"0.10.0","esm2017")}();class UX extends br{constructor(e,t){super()}schedule(e,t=0){return this}}const Gf={setInterval(n,e,...t){const{delegate:r}=Gf;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Gf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class AO extends UX{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Gf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Gf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Wd(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const JE={now:()=>(JE.delegate||Date).now(),delegate:void 0};class oc{constructor(e,t=oc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}oc.now=JE.now;class MO extends oc{constructor(e,t=oc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const xO=new class $X extends MO{}(class jX extends AO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),eu=new MO(AO),GX=eu;function In(n,e,t){const r=ge(n)||e||t?{next:n,error:e,complete:t}:n;return r?Nt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(wt(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ol}const XE=new Gl("7.6.1"),ZE="__angularfire_symbol__analyticsIsSupportedValue",eb="__angularfire_symbol__analyticsIsSupported",tb="__angularfire_symbol__remoteConfigIsSupportedValue",nb="__angularfire_symbol__remoteConfigIsSupported",rb="__angularfire_symbol__messagingIsSupportedValue",ib="__angularfire_symbol__messagingIsSupported";globalThis[eb]||(globalThis[eb]=LX().then(n=>globalThis[ZE]=n).catch(()=>globalThis[ZE]=!1)),globalThis[ib]||(globalThis[ib]=mO().then(n=>globalThis[rb]=n).catch(()=>globalThis[rb]=!1)),globalThis[nb]||(globalThis[nb]=uJ().then(n=>globalThis[tb]=n).catch(()=>globalThis[tb]=!1));const ab=(n,e)=>{const t=e?[e]:_R(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function tu(){}class kO{constructor(e,t=xO){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class HX{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tu,{},tu,tu)),t.pipe(In({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let NO=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new kO(Zone.current)),this.insideAngular=t.run(()=>new kO(Zone.current,eu)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(G(He))},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mo(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function zX(n){return mo().ngZone.runOutsideAngular(()=>n())}function yo(n){return mo().ngZone.run(()=>n())}function qX(n){return mo(),function WX(n){return function(t){return(t=t.lift(new HX(n.ngZone))).pipe(Xd(n.outsideAngular),ra(n.insideAngular))}}(mo())(n)}const KX=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),yo(()=>n.apply(void 0,r))},nu=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=yo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tu,{},tu,tu)))),r[s]=KX(r[s],t));const i=zX(()=>n.apply(this,r));if(!e){if(i instanceof $e){const s=mo();return i.pipe(Xd(s.outsideAngular),ra(s.insideAngular))}return yo(()=>i)}return i instanceof $e?i.pipe(qX):i instanceof Promise?yo(()=>new Promise((s,o)=>i.then(a=>yo(()=>s(a)),a=>yo(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:yo(()=>i)};class ru{constructor(e){return e}}class PO{constructor(){return _R()}}const ub=new O("angularfire2._apps"),YX={provide:ru,useFactory:function QX(n){return n&&1===n.length?n[0]:new ru(yR())},deps:[[new yn,ub]]},JX={provide:PO,deps:[[new yn,ub]]};function XX(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ru(r)}}let ZX=(()=>{class n{constructor(t){ot("angularfire",XE.full,"core"),ot("angularfire",XE.full,"app"),ot("angular",nN.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(G(rf))},n.\u0275mod=Ht({type:n}),n.\u0275inj=Rt({providers:[YX,JX]}),n})();function eZ(n,...e){return{ngModule:ZX,providers:[{provide:ub,useFactory:XX(n),multi:!0,deps:[He,zt,NO,...e]}]}}const tZ=nu(mR,!0);const nZ=function RO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},OO=new ri("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Hf=new Ya("@firebase/auth");function zf(n,...e){Hf.logLevel<=me.ERROR&&Hf.error(`Auth (${rc}): ${n}`,...e)}function Rn(n,...e){throw lb(n,...e)}function oi(n,...e){return lb(n,...e)}function FO(n,e,t){const r=Object.assign(Object.assign({},nZ()),{[e]:t});return new ri("auth","Firebase",r).create(e,{appName:n.name})}function lb(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return OO.create(n,...e)}function k(n,e,...t){if(!n)throw lb(e,...t)}function ai(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zf(e),new Error(e)}function ms(n,e){n||ai(e)}function LO(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class uc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ms(t>e,"Short delay should be less than long delay!"),this.isMobile=function wK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}()||function bK(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function iZ(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function cb(){return"http:"===LO()||"https:"===LO()}()||Hv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class VO{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},aZ=new uc(3e4,6e4);function We(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function et(n,e,t,r){return hb.apply(this,arguments)}function hb(){return(hb=y(function*(n,e,t,r,i={}){return BO(n,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=uR(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),VO.fetch()(UO(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function BO(n,e,t){return fb.apply(this,arguments)}function fb(){return(fb=y(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},oZ),e);try{const i=new uZ(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw lc(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw lc(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw lc(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw lc(n,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw FO(n,c,l);Rn(n,c)}}catch(i){if(i instanceof Vr)throw i;Rn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function UO(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function db(n,e){ms(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class uZ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),aZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=oi(n,e,r);return i.customData._tokenResponse=t,i}function gb(){return(gb=y(function*(n,e){return et(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function dZ(n,e){return yb.apply(this,arguments)}function yb(){return(yb=y(function*(n,e){return et(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function cc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function _b(){return(_b=y(function*(n,e=!1){const t=Qn(n),r=yield t.getIdToken(e),i=qf(r);k(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:cc(vb(i.auth_time)),issuedAtTime:cc(vb(i.iat)),expirationTime:cc(vb(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function vb(n){return 1e3*Number(n)}function qf(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return zf("JWT malformed, contained fewer than 3 sections"),null;try{const i=kf(t);return i?JSON.parse(i):(zf("Failed to decode base64 JWT payload"),null)}catch(i){return zf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ji(n,e){return wb.apply(this,arguments)}function wb(){return(wb=y(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Vr&&pZ(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function pZ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class gZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield t.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class jO{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cc(this.lastLoginAt),this.creationTime=cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dc(n){return Eb.apply(this,arguments)}function Eb(){return(Eb=y(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ji(n,dZ(t,{idToken:r}));k(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?_Z(s.providerUserInfo):[],a=yZ(n.providerData,o),c=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jO(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,d)})).apply(this,arguments)}function bb(){return(bb=y(function*(n){const e=Qn(n);yield dc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function yZ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _Z(n){return n.map(e=>{var{providerId:t}=e,r=Rm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Ib(){return(Ib=y(function*(n,e){const t=yield BO(n,{},y(function*(){const r=uR({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=UO(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",VO.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class hc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function fZ(n){const e=qf(n);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return y(function*(){return k(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function vZ(n,e){return Ib.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new hc;return r&&(k("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(k("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(k("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hc,this.toJSON())}_performRefresh(){return ai("not implemented")}}function ys(n,e){k("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class _o{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Rm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jO(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return y(function*(){const r=yield ji(t,t.stsTokenManager.getToken(t.auth,e));return k(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function hZ(n){return _b.apply(this,arguments)}(this,e)}reload(){return function mZ(n){return bb.apply(this,arguments)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _o(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield dc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const t=yield e.getIdToken();return yield ji(e,function lZ(n,e){return gb.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,_=null!==(l=t.createdAt)&&void 0!==l?l:void 0,b=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:M,isAnonymous:B,providerData:j,stsTokenManager:le}=t;k(v&&le,e,"internal-error");const Qe=hc.fromJSON(this.name,le);k("string"==typeof v,e,"internal-error"),ys(d,e.name),ys(h,e.name),k("boolean"==typeof M,e,"internal-error"),k("boolean"==typeof B,e,"internal-error"),ys(f,e.name),ys(p,e.name),ys(g,e.name),ys(m,e.name),ys(_,e.name),ys(b,e.name);const vt=new _o({uid:v,auth:e,email:h,emailVerified:M,displayName:d,isAnonymous:B,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Qe,createdAt:_,lastLoginAt:b});return j&&Array.isArray(j)&&(vt.providerData=j.map(Sn=>Object.assign({},Sn))),m&&(vt._redirectEventId=m),vt}static _fromIdTokenResponse(e,t,r=!1){return y(function*(){const i=new hc;i.updateFromServerResponse(t);const s=new _o({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield dc(s),s})()}}const $O=new Map;function $i(n){ms(n instanceof Function,"Expected a class definition");let e=$O.get(n);return e?(ms(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,$O.set(n,e),e)}const GO=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(t,r){var i=this;return y(function*(){i.storage[t]=r})()}_get(t){var r=this;return y(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return y(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Wf(n,e,t){return`firebase:${n}:${e}:${t}`}class su{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Wf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Wf("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?_o._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return y(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return y(function*(){if(!t.length)return new su($i(GO),e,r);const i=(yield Promise.all(t.map(function(){var l=y(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||$i(GO);const o=Wf(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const c=yield l._get(o);if(c){const d=_o._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=y(function*(c){if(c!==s)try{yield c._remove(o)}catch{}});return function(c){return l.apply(this,arguments)}}())),new su(s,e,r)):new su(s,e,r)})()}}function HO(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function WO(n=Kn()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function zO(n=Kn()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function QO(n=Kn()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function YO(n=Kn()){return/webos/i.test(n)}(e))return"Webos";if(function Db(n=Kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function qO(n=Kn()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function KO(n=Kn()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function JO(n,e=[]){let t;switch(n){case"Browser":t=HO(Kn());break;case"Worker":t=`${HO(Kn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${rc}/${r}`}function XO(n,e){return Tb.apply(this,arguments)}function Tb(){return(Tb=y(function*(n,e){return et(n,"GET","/v2/recaptchaConfig",We(n,e))})).apply(this,arguments)}function eF(n){return void 0!==n&&void 0!==n.enterprise}class tF{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class rF{constructor(e){this.type="recaptcha-enterprise",this.auth=Lt(e)}verify(e="verify",t=!1){var r=this;return y(function*(){function s(){return s=y(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=y(function*(l,c){XO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new tF(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}c(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{c(d)})});return function(l,c){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,l){const c=window.grecaptcha;eF(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!t&&eF(window.grecaptcha))o(l,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function Sb(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=oi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function IZ(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,u)}).catch(c=>{u(c)})}}).catch(l=>{u(l)})})})()}}class SZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return y(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class AZ{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iF(this),this.idTokenSubscription=new iF(this),this.beforeStateQueue=new SZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=$i(t)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield su.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return y(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===u)&&l?.user&&(s=l.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return k(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return y(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return y(function*(){try{yield dc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function sZ(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return y(function*(){const r=e?Qn(e):null;return r&&k(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return y(function*(){if(!r._deleted)return e&&k(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(y(function*(){yield t.assertedPersistence.setPersistence($i(e))}))}initializeRecaptchaConfig(){var e=this;return y(function*(){const t=yield XO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new tF(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new rF(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ri("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return y(function*(){if(!t.redirectPersistenceManager){const r=e&&$i(e)||t._popupRedirectResolver;k(r,t,"argument-error"),t.redirectPersistenceManager=yield su.create(t,[$i(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return y(function*(){var r,i;return t._isInitialized&&(yield t.queue(y(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return y(function*(){if(e===t.currentUser)return t.queue(y(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return k(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return y(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return y(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function rZ(n,...e){Hf.logLevel<=me.WARN&&Hf.warn(`Auth (${rc}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Lt(n){return Qn(n)}class iF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function TK(n,e){const t=new SK(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function nF(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new uc(3e4,6e4),new uc(2e3,1e4),new uc(3e4,6e4),new uc(5e3,15e3),encodeURIComponent("fac");var PF="@firebase/auth";class wte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return y(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Nf(),function bte(n){En(new on("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;k(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JO(n)},l=new AZ(r,i,s,u);return function xZ(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map($i);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),En(new on("auth-internal",e=>{const t=Lt(e.getProvider("auth").getImmediate());return new wte(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ot(PF,"0.23.2",function Ete(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),ot(PF,"0.23.2","esm2017")}("Browser");class LF{constructor(){return ab("auth")}}const gD=new Map,VF={activated:!1,tokenObservers:[]},Mte={initialized:!1,enabled:!1};function tt(n){return gD.get(n)||Object.assign({},VF)}function op(){return Mte}class Ote{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return y(function*(){t.stop();try{t.pending=new Pf,yield function Fte(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Pf,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Wt=new ri("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function yD(n){if(!tt(n).activated)throw Wt.create("use-before-activation",{appName:n.name})}function lp(n,e){return vD.apply(this,arguments)}function vD(){return vD=y(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw Wt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Wt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Wt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Wt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(u[1]),c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}),vD.apply(this,arguments)}function UF(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const yc="firebase-app-check-store";let cp=null;function $F(){return cp||(cp=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Wt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(yc,{keyPath:"compositeKey"})}}catch(t){e(Wt.create("storage-open",{originalErrorMessage:t?.message}))}}),cp)}function wD(){return wD=y(function*(n,e){const r=(yield $F()).transaction(yc,"readwrite"),s=r.objectStore(yc).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(Wt.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})}),wD.apply(this,arguments)}const _c=new Ya("@firebase/app-check");function ID(n,e){return ao()?function Gte(n,e){return function GF(n,e){return wD.apply(this,arguments)}(function zF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{_c.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function CD(){return op().enabled}function TD(){return SD.apply(this,arguments)}function SD(){return SD=y(function*(){const n=op();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),SD.apply(this,arguments)}const Qte={error:"UNKNOWN_ERROR"};function Yte(n){return Gv.encodeString(JSON.stringify(n),!1)}function dp(n){return AD.apply(this,arguments)}function AD(){return AD=y(function*(n,e=!1){const t=n.app;yD(t);const r=tt(t);let s,i=r.token;if(i&&!au(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(au(u)?i=u:yield ID(t,void 0))}if(!e&&i&&au(i))return{token:i.token};let a,o=!1;if(CD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=lp(UF(t,yield TD()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield ID(t,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield tt(t).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?_c.warn(u.message):_c.error(u),s=u}return i?s?a=au(i)?{token:i.token,internalError:s}:QF(s):(a={token:i.token},r.token=i,yield ID(t,i)):a=QF(s),o&&KF(t,a),a}),AD.apply(this,arguments)}function MD(){return MD=y(function*(n){const e=n.app;yD(e);const{provider:t}=tt(e);if(CD()){const r=yield TD(),{token:i}=yield lp(UF(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),MD.apply(this,arguments)}function kD(n,e){const t=tt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function WF(n){const{app:e}=n,t=tt(e);let r=t.tokenRefresher;r||(r=function Jte(n){const{app:e}=n;return new Ote(y(function*(){let r;if(r=tt(e).token?yield dp(n,!0):yield dp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=tt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function KF(n,e){const t=tt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function au(n){return n.expireTimeMillis-Date.now()>0}function QF(n){return{token:Yte(Qte),error:n}}class Xte{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=tt(this.app);for(const t of e)kD(this.app,t.next);return Promise.resolve()}}const rL="app-check-internal";!function hne(){En(new on("app-check",n=>function Zte(n,e){return new Xte(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(rL).initialize()})),En(new on(rL,n=>function ene(n){return{getToken:e=>dp(n,e),getLimitedUseToken:()=>function qF(n){return MD.apply(this,arguments)}(n),addTokenListener:e=>function xD(n,e,t,r){const{app:i}=n,s=tt(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&au(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),WF(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>WF(n))}(n,"INTERNAL",e),removeTokenListener:e=>kD(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ot("@firebase/app-check","0.8.0")}();class sL{constructor(){return ab("app-check")}}typeof window<"u"&&window;var F,yne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Br={},FD=FD||{},re=yne||self;function fp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function vc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var LD="closure_uid_"+(1e9*Math.random()>>>0),vne=0;function wne(n,e,t){return n.call.apply(n.bind,arguments)}function Ene(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function an(n,e,t){return(an=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wne:Ene).apply(null,arguments)}function pp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Vt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function vs(){this.s=this.s,this.o=this.o}vs.prototype.s=!1,vs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function _ne(n){Object.prototype.hasOwnProperty.call(n,LD)&&n[LD]||(n[LD]=++vne)}(this)},vs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oL=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function VD(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function aL(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(fp(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function un(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}un.prototype.h=function(){this.defaultPrevented=!0};var Ine=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{re.addEventListener("test",()=>{},e),re.removeEventListener("test",()=>{},e)}catch{}return n}();function wc(n){return/^[\s\xa0]*$/.test(n)}function gp(){var n=re.navigator;return n&&(n=n.userAgent)?n:""}function ui(n){return-1!=gp().indexOf(n)}function BD(n){return BD[" "](n),n}BD[" "]=function(){};var jD,Cne=ui("Opera"),uu=ui("Trident")||ui("MSIE"),uL=ui("Edge"),UD=uL||uu,lL=ui("Gecko")&&!(-1!=gp().toLowerCase().indexOf("webkit")&&!ui("Edge"))&&!(ui("Trident")||ui("MSIE"))&&!ui("Edge"),Tne=-1!=gp().toLowerCase().indexOf("webkit")&&!ui("Edge");function cL(){var n=re.document;return n?n.documentMode:void 0}e:{var $D="",GD=function(){var n=gp();return lL?/rv:([^\);]+)(\)|;)/.exec(n):uL?/Edge\/([\d\.]+)/.exec(n):uu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Tne?/WebKit\/(\S+)/.exec(n):Cne?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(GD&&($D=GD?GD[1]:""),uu){var HD=cL();if(null!=HD&&HD>parseFloat($D)){jD=String(HD);break e}}jD=$D}var Sne=re.document&&uu&&(cL()||parseInt(jD,10))||void 0;function Ec(n,e){if(un.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(lL){e:{try{BD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ane[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ec.$.h.call(this)}}Vt(Ec,un);var Ane={2:"touch",3:"pen",4:"mouse"};Ec.prototype.h=function(){Ec.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var bc="closure_listenable_"+(1e6*Math.random()|0),Mne=0;function xne(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Mne,this.fa=this.ia=!1}function mp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function qD(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function hL(n){const e={};for(const t in n)e[t]=n[t];return e}const fL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pL(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<fL.length;s++)t=fL[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function yp(n){this.src=n,this.g={},this.h=0}function WD(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=oL(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(mp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function KD(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}yp.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=KD(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new xne(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var QD="closure_lm_"+(1e6*Math.random()|0),YD={};function gL(n,e,t,r,i){if(r&&r.once)return yL(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)gL(n,e[s],t,r,i);return null}return t=e0(t),n&&n[bc]?n.O(e,t,vc(r)?!!r.capture:!!r,i):mL(n,e,t,!1,r,i)}function mL(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=vc(i)?!!i.capture:!!i,a=XD(n);if(a||(n[QD]=a=new yp(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Nne(){const e=Pne;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Ine||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(vL(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function yL(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)yL(n,e[s],t,r,i);return null}return t=e0(t),n&&n[bc]?n.P(e,t,vc(r)?!!r.capture:!!r,i):mL(n,e,t,!0,r,i)}function _L(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)_L(n,e[s],t,r,i);else r=vc(r)?!!r.capture:!!r,t=e0(t),n&&n[bc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=KD(s=n.g[e],t,r,i))&&(mp(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=XD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=KD(e,t,r,i)),(t=-1<n?e[n]:null)&&JD(t))}function JD(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[bc])WD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(vL(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=XD(e))?(WD(t,n),0==t.h&&(t.src=null,e[QD]=null)):mp(n)}}}function vL(n){return n in YD?YD[n]:YD[n]="on"+n}function Pne(n,e){if(n.fa)n=!0;else{e=new Ec(e,this);var t=n.listener,r=n.la||n.src;n.ia&&JD(n),n=t.call(r,e)}return n}function XD(n){return(n=n[QD])instanceof yp?n:null}var ZD="__closure_events_fn_"+(1e9*Math.random()>>>0);function e0(n){return"function"==typeof n?n:(n[ZD]||(n[ZD]=function(e){return n.handleEvent(e)}),n[ZD])}function Bt(){vs.call(this),this.i=new yp(this),this.S=this,this.J=null}function Kt(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new un(e,n);else if(e instanceof un)e.target=e.target||n;else{var i=e;pL(e=new un(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=_p(o,r,!0,e)&&i}if(i=_p(o=e.g=n,r,!0,e)&&i,i=_p(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=_p(o=e.g=t[s],r,!1,e)&&i}function _p(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&WD(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Vt(Bt,vs),Bt.prototype[bc]=!0,Bt.prototype.removeEventListener=function(n,e,t,r){_L(this,n,e,t,r)},Bt.prototype.N=function(){if(Bt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)mp(t[r]);delete n.g[e],n.h--}}this.J=null},Bt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Bt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var t0=re.JSON.stringify;function One(){var n=n0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var wL=new class Rne{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Lne,n=>n.reset());class Lne{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Vne(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Bne(n){re.setTimeout(()=>{throw n},0)}let Ic,Dc=!1,n0=new class Fne{constructor(){this.h=this.g=null}add(e,t){const r=wL.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},EL=()=>{const n=re.Promise.resolve(void 0);Ic=()=>{n.then(Une)}};var Une=()=>{for(var n;n=One();){try{n.h.call(n.g)}catch(t){Bne(t)}var e=wL;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Dc=!1};function vp(n,e){Bt.call(this),this.h=n||1,this.g=e||re,this.j=an(this.qb,this),this.l=Date.now()}function r0(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function s0(n,e,t){if("function"==typeof n)t&&(n=an(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=an(n.handleEvent,n)}return 2147483647<Number(e)?-1:re.setTimeout(n,e||0)}function bL(n){n.g=s0(()=>{n.g=null,n.i&&(n.i=!1,bL(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Vt(vp,Bt),(F=vp.prototype).ga=!1,F.T=null,F.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kt(this,"tick"),this.ga&&(r0(this),this.start()))}},F.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},F.N=function(){vp.$.N.call(this),r0(this),delete this.g};class jne extends vs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bL(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cc(n){vs.call(this),this.h=n,this.g={}}Vt(Cc,vs);var IL=[];function DL(n,e,t,r){Array.isArray(t)||(t&&(IL[0]=t.toString()),t=IL);for(var i=0;i<t.length;i++){var s=gL(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function CL(n){qD(n.g,function(e,t){this.g.hasOwnProperty(t)&&JD(e)},n),n.g={}}function wp(){this.g=!0}function lu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zne(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return t0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Cc.prototype.N=function(){Cc.$.N.call(this),CL(this)},Cc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wp.prototype.Ea=function(){this.g=!1},wp.prototype.info=function(){};var bo={},TL=null;function Ep(){return TL=TL||new Bt}function SL(n){un.call(this,bo.Ta,n)}function Tc(n){const e=Ep();Kt(e,new SL(e))}function AL(n,e){un.call(this,bo.STAT_EVENT,n),this.stat=e}function Dn(n){const e=Ep();Kt(e,new AL(e,n))}function ML(n,e){un.call(this,bo.Ua,n),this.size=e}function Sc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){n()},e)}bo.Ta="serverreachability",Vt(SL,un),bo.STAT_EVENT="statevent",Vt(AL,un),bo.Ua="timingevent",Vt(ML,un);var bp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function o0(){}function NL(){}o0.prototype.h=null;var l0,Ac={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function a0(){un.call(this,"d")}function u0(){un.call(this,"c")}function Ip(){}function Mc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Cc(this),this.P=qne,this.V=new vp(n=UD?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new PL}function PL(){this.i=null,this.g="",this.h=!1}Vt(a0,un),Vt(u0,un),Vt(Ip,o0),Ip.prototype.g=function(){return new XMLHttpRequest},Ip.prototype.i=function(){return{}},l0=new Ip;var qne=45e3,c0={},Dp={};function d0(n,e,t){n.L=1,n.v=Ap(Hi(e)),n.s=t,n.S=!0,RL(n,null)}function RL(n,e){n.G=Date.now(),xc(n),n.A=Hi(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),HL(t.i,"t",r),n.C=0,t=n.l.J,n.h=new PL,n.g=pV(n.l,t?e:null,!n.s),0<n.O&&(n.M=new jne(an(n.Pa,n,n.g),n.O)),DL(n.U,n.g,"readystatechange",n.nb),e=n.I?hL(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Tc(),function $ne(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function OL(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function FL(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=Wne(n,t),i==Dp){4==e&&(n.o=4,Dn(14),r=!1),lu(n.j,n.m,null,"[Incomplete Response]");break}if(i==c0){n.o=4,Dn(15),lu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}lu(n.j,n.m,i,null),h0(n,i)}OL(n)&&i!=Dp&&i!=c0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Dn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),v0(e),e.M=!0,Dn(11))):(lu(n.j,n.m,t,"[Invalid Chunked Response]"),Io(n),kc(n))}function Wne(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Dp:(t=Number(e.substring(t,r)),isNaN(t)?c0:(r+=1)+t>e.length?Dp:(e=e.slice(r,r+t),n.C=r+t,e))}function xc(n){n.Y=Date.now()+n.P,LL(n,n.P)}function LL(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Sc(an(n.lb,n),e)}function Cp(n){n.B&&(re.clearTimeout(n.B),n.B=null)}function kc(n){0==n.l.H||n.J||cV(n.l,n)}function Io(n){Cp(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,r0(n.V),CL(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function h0(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||f0(t.i,n)))if(!n.K&&f0(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Rp(t),Np(t)}_0(t),Dn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Sc(an(t.ib,t),6e3));if(1>=WL(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Co(t,11)}else if((n.K||t.g==n)&&Rp(t),!wc(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const c=l[3];null!=c&&(t.ra=c,t.l.info("VER="+t.ra));const d=l[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(p0(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ve(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=fV(r,r.J?r.pa:null,r.Y),o.K){KL(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Cp(a),xc(a)),r.g=o}else uV(r);0<t.j.length&&Pp(t)}else"stop"!=l[0]&&"close"!=l[0]||Co(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Co(t,7):y0(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}Tc()}catch{}}function VL(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(fp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Qne(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(fp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Kne(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(fp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(F=Mc.prototype).setTimeout=function(n){this.P=n},F.nb=function(n){n=n.target;const e=this.M;e&&3==li(n)?e.l():this.Pa(n)},F.Pa=function(n){try{if(n==this.g)e:{const c=li(this.g);var e=this.g.Ia();if(this.g.da(),!(3>c)&&(3!=c||UD||this.g&&(this.h.h||this.g.ja()||nV(this.g)))){this.J||4!=c||7==e||Tc(),Cp(this);var t=this.g.da();this.ca=t;t:if(OL(this)){var r=nV(this.g);n="";var i=r.length,s=4==li(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Io(this),kc(this);var o="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function Gne(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,c,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wc(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,Dn(12),Io(this),kc(this);break e}lu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,h0(this,t)}this.S?(FL(this,c,o),UD&&this.i&&3==c&&(DL(this.U,this.V,"tick",this.mb),this.V.start())):(lu(this.j,this.m,o,null),h0(this,o)),4==c&&Io(this),this.i&&!this.J&&(4==c?cV(this.l,this):(this.i=!1,xc(this)))}else(function fre(n){const e={};n=(n.g&&2<=li(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(wc(n[r]))continue;var t=Vne(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function kne(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Dn(12)):(this.o=0,Dn(13)),Io(this),kc(this)}}}catch{}},F.mb=function(){if(this.g){var n=li(this.g),e=this.g.ja();this.C<e.length&&(Cp(this),FL(this,n,e),this.i&&4!=n&&xc(this))}},F.cancel=function(){this.J=!0,Io(this)},F.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Hne(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Tc(),Dn(17)),Io(this),this.o=2,kc(this)):LL(this,this.Y-n)};var BL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Do(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Do){this.h=n.h,Tp(this,n.j),this.s=n.s,this.g=n.g,Sp(this,n.m),this.l=n.l;var e=n.i,t=new Rc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),UL(this,t),this.o=n.o}else n&&(e=String(n).match(BL))?(this.h=!1,Tp(this,e[1]||"",!0),this.s=Nc(e[2]||""),this.g=Nc(e[3]||"",!0),Sp(this,e[4]),this.l=Nc(e[5]||"",!0),UL(this,e[6]||"",!0),this.o=Nc(e[7]||"")):(this.h=!1,this.i=new Rc(null,this.h))}function Hi(n){return new Do(n)}function Tp(n,e,t){n.j=t?Nc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Sp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function UL(n,e,t){e instanceof Rc?(n.i=e,function nre(n,e){e&&!n.j&&(ws(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&($L(this,r),HL(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Pc(e,ere)),n.i=new Rc(e,n.h))}function Ve(n,e,t){n.i.set(e,t)}function Ap(n){return Ve(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Nc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Pc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Jne),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Jne(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Do.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Pc(e,jL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Pc(e,jL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Pc(t,"/"==t.charAt(0)?Zne:Xne,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Pc(t,tre)),n.join("")};var jL=/[#\/\?@]/g,Xne=/[#\?:]/g,Zne=/[#\?]/g,ere=/[#\?@]/g,tre=/#/g;function Rc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ws(n){n.g||(n.g=new Map,n.h=0,n.i&&function Yne(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function $L(n,e){ws(n),e=cu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function GL(n,e){return ws(n),e=cu(n,e),n.g.has(e)}function HL(n,e,t){$L(n,e),0<t.length&&(n.i=null,n.g.set(cu(n,e),VD(t)),n.h+=t.length)}function cu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function zL(n){this.l=n||ire,n=re.PerformanceNavigationTiming?0<(n=re.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(F=Rc.prototype).add=function(n,e){ws(this),this.i=null,n=cu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},F.forEach=function(n,e){ws(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},F.ta=function(){ws(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},F.Z=function(n){ws(this);let e=[];if("string"==typeof n)GL(this,n)&&(e=e.concat(this.g.get(cu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},F.set=function(n,e){return ws(this),this.i=null,GL(this,n=cu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},F.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var ire=10;function qL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function WL(n){return n.h?1:n.g?n.g.size:0}function f0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function p0(n,e){n.g?n.g.add(e):n.h=e}function KL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function QL(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return VD(n.i)}function ore(){this.g=new class{stringify(n){return re.JSON.stringify(n,void 0)}parse(n){return re.JSON.parse(n,void 0)}}}function are(n,e,t){const r=t||"";try{VL(n,function(i,s){let o=i;vc(i)&&(o=t0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Mp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Oc(n){this.l=n.fc||null,this.j=n.ob||!1}function xp(n,e){Bt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=g0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zL.prototype.cancel=function(){if(this.i=QL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Vt(Oc,o0),Oc.prototype.g=function(){return new xp(this.l,this.j)},Oc.prototype.i=function(n){return function(){return n}}({}),Vt(xp,Bt);var g0=0;function YL(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Fc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Lc(n)}function Lc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(F=xp.prototype).open=function(n,e){if(this.readyState!=g0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Lc(this)},F.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fc(this)),this.readyState=g0},F.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Lc(this)),this.g&&(this.readyState=3,Lc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;YL(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},F.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Fc(this):Lc(this),3==this.readyState&&YL(this)}},F.Za=function(n){this.g&&(this.response=this.responseText=n,Fc(this))},F.Ya=function(n){this.g&&(this.response=n,Fc(this))},F.ka=function(){this.g&&Fc(this)},F.setRequestHeader=function(n,e){this.v.append(n,e)},F.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},F.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(xp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var lre=re.JSON.parse;function nt(n){Bt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=JL,this.L=this.M=!1}Vt(nt,Bt);var JL="",cre=/^https?$/i,dre=["POST","PUT"];function XL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ZL(n),kp(n)}function ZL(n){n.F||(n.F=!0,Kt(n,"complete"),Kt(n,"error"))}function eV(n){if(n.h&&typeof FD<"u"&&(!n.C[1]||4!=li(n)||2!=n.da()))if(n.v&&4==li(n))s0(n.La,0,n);else if(Kt(n,"readystatechange"),4==li(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(BL)[1]||null;!i&&re.self&&re.self.location&&(i=re.self.location.protocol.slice(0,-1)),r=!cre.test(i?i.toLowerCase():"")}t=r}if(t)Kt(n,"complete"),Kt(n,"success");else{n.m=6;try{var s=2<li(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",ZL(n)}}finally{kp(n)}}}function kp(n,e){if(n.g){tV(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Kt(n,"ready");try{t.onreadystatechange=r}catch{}}}function tV(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(re.clearTimeout(n.A),n.A=null)}function li(n){return n.g?n.g.readyState:0}function nV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case JL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function rV(n){let e="";return qD(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function m0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=rV(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ve(n,e,t))}function Vc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function iV(n){this.Ga=0,this.j=[],this.l=new wp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vc("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vc("baseRetryDelayMs",5e3,n),this.hb=Vc("retryDelaySeedMs",1e4,n),this.eb=Vc("forwardChannelMaxRetries",2,n),this.xa=Vc("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new zL(n&&n.concurrentRequestLimit),this.Ja=new ore,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function y0(n){if(sV(n),3==n.H){var e=n.W++,t=Hi(n.I);if(Ve(t,"SID",n.K),Ve(t,"RID",e),Ve(t,"TYPE","terminate"),Bc(n,t),(e=new Mc(n,n.l,e)).L=2,e.v=Ap(Hi(t)),t=!1,re.navigator&&re.navigator.sendBeacon)try{t=re.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&re.Image&&((new Image).src=e.v,t=!0),t||(e.g=pV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),xc(e)}hV(n)}function Np(n){n.g&&(v0(n),n.g.cancel(),n.g=null)}function sV(n){Np(n),n.u&&(re.clearTimeout(n.u),n.u=null),Rp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&re.clearTimeout(n.m),n.m=null)}function Pp(n){if(!qL(n.i)&&!n.m){n.m=!0;var e=n.Na;Ic||EL(),Dc||(Ic(),Dc=!0),n0.add(e,n),n.C=0}}function oV(n,e){var t;t=e?e.m:n.W++;const r=Hi(n.I);Ve(r,"SID",n.K),Ve(r,"RID",t),Ve(r,"AID",n.V),Bc(n,r),n.o&&n.s&&m0(r,n.o,n.s),t=new Mc(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=aV(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),p0(n.i,t),d0(t,r,e)}function Bc(n,e){n.na&&qD(n.na,function(t,r){Ve(e,r,t)}),n.h&&VL({},function(t,r){Ve(e,r,t)})}function aV(n,e,t){t=Math.min(n.j.length,t);var r=n.h?an(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{are(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function uV(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Ic||EL(),Dc||(Ic(),Dc=!0),n0.add(e,n),n.A=0}}function _0(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Sc(an(n.Ma,n),dV(n,n.A)),n.A++,0))}function v0(n){null!=n.B&&(re.clearTimeout(n.B),n.B=null)}function lV(n){n.g=new Mc(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Hi(n.wa);Ve(e,"RID","rpc"),Ve(e,"SID",n.K),Ve(e,"AID",n.V),Ve(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ve(e,"TO",n.qa),Ve(e,"TYPE","xmlhttp"),Bc(n,e),n.o&&n.s&&m0(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Ap(Hi(e)),t.s=null,t.S=!0,RL(t,n)}function Rp(n){null!=n.v&&(re.clearTimeout(n.v),n.v=null)}function cV(n,e){var t=null;if(n.g==e){Rp(n),v0(n),n.g=null;var r=2}else{if(!f0(n.i,e))return;t=e.F,KL(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Kt(r=Ep(),new ML(r,t)),Pp(n)}else uV(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function pre(n,e){return!(WL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Sc(an(n.Na,n,e),dV(n,n.C)),n.C++,0)))}(n,e)||2==r&&_0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Co(n,5);break;case 4:Co(n,10);break;case 3:Co(n,6);break;default:Co(n,2)}}function dV(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Co(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=an(n.pb,n);t||(t=new Do("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||Tp(t,"https"),Ap(t)),function ure(n,e){const t=new wp;if(re.Image){const r=new Image;r.onload=pp(Mp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=pp(Mp,t,r,"TestLoadImage: error",!1,e),r.onabort=pp(Mp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=pp(Mp,t,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Dn(2);n.H=0,n.h&&n.h.za(e),hV(n),sV(n)}function hV(n){if(n.H=0,n.ma=[],n.h){const e=QL(n.i);(0!=e.length||0!=n.j.length)&&(aL(n.ma,e),aL(n.ma,n.j),n.i.i.length=0,VD(n.j),n.j.length=0),n.h.ya()}}function fV(n,e,t){var r=t instanceof Do?Hi(t):new Do(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Sp(r,r.m);else{var i=re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Do(null);r&&Tp(s,r),e&&(s.g=e),i&&Sp(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Ve(r,t,e),Ve(r,"VER",n.ra),Bc(n,r),r}function pV(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nt(t&&n.Ha&&!n.va?new Oc({ob:!0}):n.va)).Oa(n.J),e}function gV(){}function Op(){if(uu&&!(10<=Number(Sne)))throw Error("Environmental error: no available transport.")}function Yn(n,e){Bt.call(this),this.g=new iV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!wc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wc(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new du(this)}function mV(n){a0.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function yV(){u0.call(this),this.status=1}function du(n){this.g=n}function Ur(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function w0(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Ae(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(F=nt.prototype).Oa=function(n){this.M=n},F.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():l0.g(),this.C=function kL(n){return n.h||(n.h=n.i())}(this.u?this.u:l0),this.g.onreadystatechange=an(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void XL(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=re.FormData&&n instanceof re.FormData,!(0<=oL(dre,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tV(this),0<this.B&&((this.L=function hre(n){return uu&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=an(this.ua,this)):this.A=s0(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){XL(this,s)}},F.ua=function(){typeof FD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))},F.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Kt(this,"complete"),Kt(this,"abort"),kp(this))},F.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kp(this,!0)),nt.$.N.call(this)},F.La=function(){this.s||(this.G||this.v||this.l?eV(this):this.kb())},F.kb=function(){eV(this)},F.isActive=function(){return!!this.g},F.da=function(){try{return 2<li(this)?this.g.status:-1}catch{return-1}},F.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},F.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),lre(e)}},F.Ia=function(){return this.m},F.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(F=iV.prototype).ra=8,F.H=1,F.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Mc(this,this.l,n);let s=this.s;if(this.U&&(s?(s=hL(s),pL(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=aV(this,i,e),Ve(t=Hi(this.I),"RID",n),Ve(t,"CVER",22),this.F&&Ve(t,"X-HTTP-Session-Id",this.F),Bc(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(rV(s)))+"&"+e:this.o&&m0(t,this.o,s)),p0(this.i,i),this.bb&&Ve(t,"TYPE","init"),this.P?(Ve(t,"$req",e),Ve(t,"SID","null"),i.aa=!0,d0(i,t,null)):d0(i,t,e),this.H=2}}else 3==this.H&&(n?oV(this,n):0==this.j.length||qL(this.i)||oV(this))},F.Ma=function(){if(this.u=null,lV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Sc(an(this.jb,this),n)}},F.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dn(10),Np(this),lV(this))},F.ib=function(){null!=this.v&&(this.v=null,Np(this),_0(this),Dn(19))},F.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Dn(2)):(this.l.info("Failed to ping google.com"),Dn(1))},F.isActive=function(){return!!this.h&&this.h.isActive(this)},(F=gV.prototype).Ba=function(){},F.Aa=function(){},F.za=function(){},F.ya=function(){},F.isActive=function(){return!0},F.Va=function(){},Op.prototype.g=function(n,e){return new Yn(n,e)},Vt(Yn,Bt),Yn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Dn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=fV(n,null,n.Y),Pp(n)},Yn.prototype.close=function(){y0(this.g)},Yn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=t0(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Pp(e)},Yn.prototype.N=function(){this.g.h=null,delete this.j,y0(this.g),delete this.g,Yn.$.N.call(this)},Vt(mV,a0),Vt(yV,u0),Vt(du,gV),du.prototype.Ba=function(){Kt(this.g,"a")},du.prototype.Aa=function(n){Kt(this.g,new mV(n))},du.prototype.za=function(n){Kt(this.g,new yV)},du.prototype.ya=function(){Kt(this.g,"b")},Vt(Ur,function gre(){this.blockSize=-1}),Ur.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ur.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)w0(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){w0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){w0(this,r),i=0;break}}this.h=i,this.i+=e},Ur.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var mre={};function E0(n){return-128<=n&&128>n?function Dne(n,e){var t=mre;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ae([0|e],0>e?-1:0)}):new Ae([0|n],0>n?-1:0)}function ci(n){if(isNaN(n)||!isFinite(n))return hu;if(0>n)return Qt(ci(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=b0;return new Ae(e,0)}var b0=4294967296,hu=E0(0),I0=E0(1),vV=E0(16777216);function zi(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function mr(n){return-1==n.h}function Qt(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Ae(t,~n.h).add(I0)}function Fp(n,e){return n.add(Qt(e))}function Lp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Uc(n,e){this.g=n,this.h=e}function Vp(n,e){if(zi(e))throw Error("division by zero");if(zi(n))return new Uc(hu,hu);if(mr(n))return e=Vp(Qt(n),e),new Uc(Qt(e.g),Qt(e.h));if(mr(e))return e=Vp(n,Qt(e)),new Uc(Qt(e.g),e.h);if(30<n.g.length){if(mr(n)||mr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=I0,r=e;0>=r.X(n);)t=wV(t),r=wV(r);var i=fu(t,1),s=fu(r,1);for(r=fu(r,2),t=fu(t,2);!zi(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=fu(r,1),t=fu(t,1)}return e=Fp(n,i.R(e)),new Uc(i,e)}for(i=hu;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ci(t)).R(e);mr(o)||0<o.X(n);)o=(s=ci(t-=r)).R(e);zi(s)&&(s=I0),i=i.add(s),n=Fp(n,o)}return new Uc(i,n)}function wV(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Ae(t,n.h)}function fu(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Ae(i,n.h)}(F=Ae.prototype).ea=function(){if(mr(this))return-Qt(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:b0+r)*e,e*=b0}return n},F.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(zi(this))return"0";if(mr(this))return"-"+Qt(this).toString(n);for(var e=ci(Math.pow(n,6)),t=this,r="";;){var i=Vp(t,e).g,s=((0<(t=Fp(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(zi(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},F.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},F.X=function(n){return mr(n=Fp(this,n))?-1:zi(n)?0:1},F.abs=function(){return mr(this)?Qt(this):this},F.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Ae(t,-2147483648&t[t.length-1]?-1:0)},F.R=function(n){if(zi(this)||zi(n))return hu;if(mr(this))return mr(n)?Qt(this).R(Qt(n)):Qt(Qt(this).R(n));if(mr(n))return Qt(this.R(Qt(n)));if(0>this.X(vV)&&0>n.X(vV))return ci(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,Lp(t,2*r+2*i),t[2*r+2*i+1]+=s*u,Lp(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,Lp(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,Lp(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Ae(t,0)},F.gb=function(n){return Vp(this,n).h},F.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Ae(t,this.h&n.h)},F.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Ae(t,this.h|n.h)},F.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Ae(t,this.h^n.h)},Op.prototype.createWebChannel=Op.prototype.g,Yn.prototype.send=Yn.prototype.u,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,bp.NO_ERROR=0,bp.TIMEOUT=8,bp.HTTP_ERROR=6,xL.COMPLETE="complete",NL.EventType=Ac,Ac.OPEN="a",Ac.CLOSE="b",Ac.ERROR="c",Ac.MESSAGE="d",Bt.prototype.listen=Bt.prototype.O,nt.prototype.listenOnce=nt.prototype.P,nt.prototype.getLastError=nt.prototype.Sa,nt.prototype.getLastErrorCode=nt.prototype.Ia,nt.prototype.getStatus=nt.prototype.da,nt.prototype.getResponseJson=nt.prototype.Wa,nt.prototype.getResponseText=nt.prototype.ja,nt.prototype.send=nt.prototype.ha,nt.prototype.setWithCredentials=nt.prototype.Oa,Ur.prototype.digest=Ur.prototype.l,Ur.prototype.reset=Ur.prototype.reset,Ur.prototype.update=Ur.prototype.j,Ae.prototype.add=Ae.prototype.add,Ae.prototype.multiply=Ae.prototype.R,Ae.prototype.modulo=Ae.prototype.gb,Ae.prototype.compare=Ae.prototype.X,Ae.prototype.toNumber=Ae.prototype.ea,Ae.prototype.toString=Ae.prototype.toString,Ae.prototype.getBits=Ae.prototype.D,Ae.fromNumber=ci,Ae.fromString=function _V(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Qt(_V(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ci(Math.pow(e,8)),r=hu,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=ci(Math.pow(e,s)),r=r.R(s).add(ci(o))):r=(r=r.R(t)).add(ci(o))}return r};var yre=Br.createWebChannelTransport=function(){return new Op},_re=Br.getStatEventTarget=function(){return Ep()},D0=Br.ErrorCode=bp,vre=Br.EventType=xL,wre=Br.Event=bo,EV=Br.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ere=Br.FetchXmlHttpFactory=Oc,Bp=Br.WebChannel=NL,bre=Br.XhrIo=nt,Ire=Br.Md5=Ur,pu=Br.Integer=Ae;const bV="@firebase/firestore";class Ut{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");let gu="9.23.0";const Es=new Ya("@firebase/firestore");function C0(){return Es.logLevel}function A(n,...e){if(Es.logLevel<=me.DEBUG){const t=e.map(T0);Es.debug(`Firestore (${gu}): ${n}`,...t)}}function at(n,...e){if(Es.logLevel<=me.ERROR){const t=e.map(T0);Es.error(`Firestore (${gu}): ${n}`,...t)}}function jr(n,...e){if(Es.logLevel<=me.WARN){const t=e.map(T0);Es.warn(`Firestore (${gu}): ${n}`,...t)}}function T0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function U(n="Unexpected state"){const e=`FIRESTORE (${gu}) INTERNAL ASSERTION FAILED: `+n;throw at(e),new Error(e)}function H(n,e){n||U()}function P(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class At{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class IV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ut.UNAUTHENTICATED))}shutdown(){}}class Cre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Tre{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new At;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new At,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(y(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new At)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(H("string"==typeof r.accessToken),new IV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return H(null===e||"string"==typeof e),new Ut(e)}}class Sre{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Are{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Sre(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mre{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(H("string"==typeof t.token),this.T=t.token,new DV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function xre(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class CV{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=xre(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function te(n,e){return n<e?-1:n>e?1:0}function mu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Ke{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new C(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new C(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new C(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ke(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new z(e)}static min(){return new z(new Ke(0,0))}static max(){return new z(new Ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jc{constructor(e,t,r){void 0===t?t=0:t>e.length&&U(),void 0===r?r=e.length-t:r>e.length-t&&U(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===jc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class we extends jc{construct(e,t,r){return new we(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new we(t)}static emptyPath(){return new we([])}}const kre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends jc{construct(e,t,r){return new ut(e,t,r)}static isValidIdentifier(e){return kre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ut(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(t)}static emptyPath(){return new ut([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(we.fromString(e))}static fromName(e){return new N(we.fromString(e).popFirst(5))}static empty(){return new N(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===we.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return we.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new we(e.slice()))}}function AV(n){return new Jn(n.readTime,n.key,-1)}class Jn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Jn(z.min(),N.empty(),-1)}static max(){return new Jn(z.max(),N.empty(),-1)}}function A0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=N.comparator(n.documentKey,e.documentKey),0!==t?t:te(n.largestBatchId,e.largestBatchId))}const MV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function bs(n){return M0.apply(this,arguments)}function M0(){return M0=y(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==MV)throw n;A("LocalStore","Unexpectedly lost primary lease")}),M0.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;t(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,t){return new w((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Is(n){return"IndexedDbTransactionError"===n.name}let Xn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Hc(n){return null==n}function zc(n){return 0===n&&1/n==-1/0}function VV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ds(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function BV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Le{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new Le(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hp(this.root,e,this.comparator,!0)}}class Hp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Yt.RED,this.left=i??Yt.EMPTY,this.right=s??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Yt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();const e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1,Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Yt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new UV(this.data.getIterator())}getIteratorFrom(e){return new UV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Be(this.comparator);return t.data=e,t}}class UV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new On([])}unionWith(e){let t=new Be(ut.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new On(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class jV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new jV("Invalid base64 string: "+i):i}}(e);return new Mt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const rie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(n){if(H(!!n),"string"==typeof n){let e=0;const t=rie.exec(n);if(H(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(n.seconds),nanos:rt(n.nanos)}}function rt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function qi(n){return"string"==typeof n?Mt.fromBase64String(n):Mt.fromUint8Array(n)}function zp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function qp(n){const e=n.mapValue.fields.__previous_value__;return zp(e)?qp(e):e}function qc(n){const e=Cs(n.mapValue.fields.__local_write_time__.timestampValue);return new Ke(e.seconds,e.nanos)}class iie{constructor(e,t,r,i,s,o,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Ao{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ao("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ao&&e.projectId===this.projectId&&e.database===this.database}}const Ts_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Ss(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zp(n)?4:zV(n)?9007199254740991:10:U()}function hi(n,e){if(n===e)return!0;const t=Ss(n);if(t!==Ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qc(n).isEqual(qc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Cs(r.timestampValue),o=Cs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,qi(n.bytesValue).isEqual(qi(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return rt(r.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(r.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return rt(r.integerValue)===rt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=rt(r.doubleValue),o=rt(i.doubleValue);return s===o?zc(s)===zc(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return mu(n.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(VV(s)!==VV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!hi(s[a],o[a])))return!1;return!0}(n,e);default:return U()}var i}function Wc(n,e){return void 0!==(n.values||[]).find(t=>hi(t,e))}function As(n,e){if(n===e)return 0;const t=Ss(n),r=Ss(e);if(t!==r)return te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return te(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=rt(i.integerValue||i.doubleValue),a=rt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return $V(n.timestampValue,e.timestampValue);case 4:return $V(qc(n),qc(e));case 5:return te(n.stringValue,e.stringValue);case 6:return function(i,s){const o=qi(i),a=qi(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=te(o[u],a[u]);if(0!==l)return l}return te(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=te(rt(i.latitude),rt(s.latitude));return 0!==o?o:te(rt(i.longitude),rt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=As(o[u],a[u]);if(l)return l}return te(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ts_mapValue&&s===Ts_mapValue)return 0;if(i===Ts_mapValue)return 1;if(s===Ts_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=te(a[c],l[c]);if(0!==d)return d;const h=As(o[a[c]],u[l[c]]);if(0!==h)return h}return te(a.length,l.length)}(n.mapValue,e.mapValue);default:throw U()}}function $V(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return te(n,e);const t=Cs(n),r=Cs(e),i=te(t.seconds,r.seconds);return 0!==i?i:te(t.nanos,r.nanos)}function _u(n){return N0(n)}function N0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Cs(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?qi(n.bytesValue).toBase64():"referenceValue"in n?N.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=N0(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${N0(r.fields[a])}`;return s+"}"}(n.mapValue):U();var e}function P0(n){return!!n&&"integerValue"in n}function Kc(n){return!!n&&"arrayValue"in n}function GV(n){return!!n&&"nullValue"in n}function HV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qp(n){return!!n&&"mapValue"in n}function Qc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ds(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Qc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qc(t)}setAll(e){let t=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Qc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Qp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Qp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ds(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jt(Qc(this.value))}}function KV(n){const e=[];return Ds(n.fields,(t,r)=>{const i=new ut([t]);if(Qp(r)){const s=KV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new On(e)}class Ue{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ue(e,0,z.min(),z.min(),z.min(),Jt.empty(),0)}static newFoundDocument(e,t,r,i){return new Ue(e,1,t,z.min(),r,i,0)}static newNoDocument(e,t){return new Ue(e,2,t,z.min(),z.min(),Jt.empty(),0)}static newUnknownDocument(e,t){return new Ue(e,3,t,z.min(),z.min(),Jt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(z.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ue&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ue(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ms{constructor(e,t){this.position=e,this.inclusive=t}}function QV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?N.comparator(N.fromName(o.referenceValue),t.key):As(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function YV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hi(n.position[t],e.position[t]))return!1;return!0}class vu{constructor(e,t="asc"){this.field=e,this.dir=t}}function aie(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class JV{}class pe extends JV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new uie(e,t,r):"array-contains"===t?new die(e,r):"in"===t?new r2(e,r):"not-in"===t?new hie(e,r):"array-contains-any"===t?new fie(e,r):new pe(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new lie(e,r):new cie(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(As(t,this.value)):null!==t&&Ss(this.value)===Ss(t)&&this.matchesComparison(As(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Me extends JV{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Me(e,t)}matches(e){return wu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function wu(n){return"and"===n.op}function O0(n){return function XV(n){for(const e of n.filters)if(e instanceof Me)return!1;return!0}(n)&&wu(n)}function F0(n){if(n instanceof pe)return n.field.canonicalString()+n.op.toString()+_u(n.value);if(O0(n))return n.filters.map(e=>F0(e)).join(",");{const e=n.filters.map(t=>F0(t)).join(",");return`${n.op}(${e})`}}function ZV(n,e){return n instanceof pe?(t=n,(r=e)instanceof pe&&t.op===r.op&&t.field.isEqual(r.field)&&hi(t.value,r.value)):n instanceof Me?function(t,r){return r instanceof Me&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&ZV(s,r.filters[o]),!0)}(n,e):void U();var t,r}function t2(n){return n instanceof pe?function(e){return`${e.field.canonicalString()} ${e.op} ${_u(e.value)}`}(n):n instanceof Me?function(e){return e.op.toString()+" {"+e.getFilters().map(t2).join(" ,")+"}"}(n):"Filter"}class uie extends pe{constructor(e,t,r){super(e,t,r),this.key=N.fromName(r.referenceValue)}matches(e){const t=N.comparator(e.key,this.key);return this.matchesComparison(t)}}class lie extends pe{constructor(e,t){super(e,"in",t),this.keys=n2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cie extends pe{constructor(e,t){super(e,"not-in",t),this.keys=n2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function n2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>N.fromName(r.referenceValue))}class die extends pe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kc(t)&&Wc(t.arrayValue,this.value)}}class r2 extends pe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wc(this.value.arrayValue,t)}}class hie extends pe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wc(this.value.arrayValue,t)}}class fie extends pe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Wc(this.value.arrayValue,r))}}class pie{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function L0(n,e=null,t=[],r=[],i=null,s=null,o=null){return new pie(n,e,t,r,i,s,o)}function xo(n){const e=P(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>F0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Hc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>_u(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>_u(r)).join(",")),e.dt=t}return e.dt}function Yc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!aie(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ZV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!YV(n.startAt,e.startAt)&&YV(n.endAt,e.endAt)}function Yp(n){return N.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Wi{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Eu(n){return new Wi(n)}function a2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ko(n){const e=P(n);if(null===e.wt){e.wt=[];const t=function Xp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function V0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new vu(t)),e.wt.push(new vu(ut.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new vu(ut.keyField(),s))}}}return e.wt}function Cn(n){const e=P(n);if(!e._t)if("F"===e.limitType)e._t=L0(e.path,e.collectionGroup,ko(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of ko(e))t.push(new vu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ms(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ms(e.startAt.position,e.startAt.inclusive):null;e._t=L0(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Zp(n,e,t){return new Wi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jc(n,e){return Yc(Cn(n),Cn(e))&&n.limitType===e.limitType}function u2(n){return`${xo(Cn(n))}|lt:${n.limitType}`}function j0(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>t2(r)).join(", ")}]`),Hc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>_u(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>_u(r)).join(",")),`Target(${t})`}(Cn(n))}; limitType=${n.limitType})`}function Xc(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):N.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of ko(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=QV(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,ko(t),r)||t.endAt&&!function(i,s,o){const a=QV(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,ko(t),r)));var t,r}function c2(n){return(e,t)=>{let r=!1;for(const i of ko(n)){const s=gie(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function gie(n,e,t){const r=n.field.isKeyField()?N.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?As(a,u):U()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}class Ki{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return BV(this.inner)}size(){return this.innerSize}}const mie=new Le(N.comparator);function Fn(){return mie}const d2=new Le(N.comparator);function Zc(...n){let e=d2;for(const t of n)e=e.insert(t.key,t);return e}function h2(n){let e=d2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function fi(){return ed()}function f2(){return ed()}function ed(){return new Ki(n=>n.toString(),(n,e)=>n.isEqual(e))}const yie=new Le(N.comparator),_ie=new Be(N.comparator);function ae(...n){let e=_ie;for(const t of n)e=e.add(t);return e}const vie=new Be(te);function p2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(e)?"-0":e}}function g2(n){return{integerValue:""+n}}function m2(n,e){return function kV(n){return"number"==typeof n&&Number.isInteger(n)&&!zc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?g2(e):p2(n,e)}class eg{constructor(){this._=void 0}}function wie(n,e,t){return n instanceof bu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&zp(i)&&(i=qp(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof No?_2(n,e):n instanceof Po?v2(n,e):function(r,i){const s=y2(r,i),o=w2(s)+w2(r.gt);return P0(s)&&P0(r.gt)?g2(o):p2(r.serializer,o)}(n,e)}function Eie(n,e,t){return n instanceof No?_2(n,e):n instanceof Po?v2(n,e):t}function y2(n,e){return n instanceof Iu?P0(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class bu extends eg{}class No extends eg{constructor(e){super(),this.elements=e}}function _2(n,e){const t=E2(e);for(const r of n.elements)t.some(i=>hi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Po extends eg{constructor(e){super(),this.elements=e}}function v2(n,e){let t=E2(e);for(const r of n.elements)t=t.filter(i=>!hi(i,r));return{arrayValue:{values:t}}}class Iu extends eg{constructor(e,t){super(),this.serializer=e,this.gt=t}}function w2(n){return rt(n.integerValue||n.doubleValue)}function E2(n){return Kc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class td{constructor(e,t){this.field=e,this.transform=t}}class Iie{constructor(e,t){this.version=e,this.transformResults=t}}class ze{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ze}static exists(e){return new ze(void 0,e)}static updateTime(e){return new ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ng{}function b2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Cu(n.key,ze.none()):new Du(n.key,n.data,ze.none());{const t=n.data,r=Jt.empty();let i=new Be(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Qi(n.key,r,new On(i.toArray()),ze.none())}}function Die(n,e,t){n instanceof Du?function(r,i,s){const o=r.value.clone(),a=C2(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Qi?function(r,i,s){if(!tg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=C2(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(D2(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function nd(n,e,t,r){return n instanceof Du?function(i,s,o,a){if(!tg(i.precondition,s))return o;const u=i.value.clone(),l=T2(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Qi?function(i,s,o,a){if(!tg(i.precondition,s))return o;const u=T2(i.fieldTransforms,a,s),l=s.data;return l.setAll(D2(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(n,e,t,r):(o=t,tg(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Cie(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=y2(r.transform,i||null);null!=s&&(null===t&&(t=Jt.empty()),t.set(r.field,s))}return t||null}function I2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&mu(t,r,(i,s)=>function bie(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof No&&r instanceof No||t instanceof Po&&r instanceof Po?mu(t.elements,r.elements,hi):t instanceof Iu&&r instanceof Iu?hi(t.gt,r.gt):t instanceof bu&&r instanceof bu);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Du extends ng{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qi extends ng{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function D2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function C2(n,e,t){const r=new Map;H(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Eie(o,a,t[i]))}return r}function T2(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,wie(s,o,e))}return r}class Cu extends ng{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G0 extends ng{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class H0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Die(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=nd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=nd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=f2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=b2(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(z.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ae())}isEqual(e){return this.batchId===e.batchId&&mu(this.mutations,e.mutations,(t,r)=>I2(t,r))&&mu(this.baseMutations,e.baseMutations,(t,r)=>I2(t,r))}}class z0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){H(e.mutations.length===r.length);let i=yie;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new z0(e,t,r,i)}}class q0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sie{constructor(e,t){this.count=e,this.unchangedNames=t}}var mt,Ee;function S2(n){switch(n){default:return U();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function A2(n){if(void 0===n)return at("GRPC error has no .code"),E.UNKNOWN;switch(n){case mt.OK:return E.OK;case mt.CANCELLED:return E.CANCELLED;case mt.UNKNOWN:return E.UNKNOWN;case mt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case mt.INTERNAL:return E.INTERNAL;case mt.UNAVAILABLE:return E.UNAVAILABLE;case mt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case mt.NOT_FOUND:return E.NOT_FOUND;case mt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case mt.ABORTED:return E.ABORTED;case mt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case mt.DATA_LOSS:return E.DATA_LOSS;default:return U()}}(Ee=mt||(mt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";class W0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return rg}static getOrCreateInstance(){return null===rg&&(rg=new W0),rg}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let rg=null;const Aie=new pu([4294967295,4294967295],0);function x2(n){const e=function M2(){return new TextEncoder}().encode(n),t=new Ire;return t.update(e),new Uint8Array(t.digest())}function k2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new pu([t,r],0),new pu([i,s],0)]}class K0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new rd(`Invalid padding: ${t}`);if(r<0)throw new rd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new rd(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new rd(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=pu.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(pu.fromNumber(r)));return 1===i.compare(Aie)&&(i=new pu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=x2(e),[r,i]=k2(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new K0(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=x2(e),[r,i]=k2(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class id{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,sd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new id(z.min(),i,new Le(te),Fn(),ae())}}class sd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new sd(r,t,ae(),ae(),ae())}}class ig{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class N2{constructor(e,t){this.targetId=e,this.Vt=t}}class P2{constructor(e,t,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class R2{constructor(){this.St=0,this.Dt=F2(),this.Ct=Mt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ae(),t=ae(),r=ae();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:U()}}),new sd(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=F2()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Mie{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Fn(),this.zt=O2(),this.Wt=new Le(te)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:U()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Yp(o))if(0===i){const a=new N(o.path);this.Yt(r,a,Ue.newNoDocument(a,z.min()))}else H(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=W0.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(l,c,d){var h,f,p,g,m,_;const b={localCacheCount:c,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(b.bloomFilter={applied:0===l,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=v?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(_=null===(m=v?.bits)||void 0===m?void 0:m.padding)&&void 0!==_?_:0}),b}(u,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,l;try{u=qi(s).toUint8Array()}catch(c){if(c instanceof jV)return jr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{l=new K0(u,o,a)}catch(c){return jr(c instanceof rd?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return 0===l.It?1:i!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Yp(a.target)){const u=new N(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Ue.newNoDocument(u,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=ae();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.se(u);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new id(e,t,this.Wt,this.jt,r);return this.jt=Fn(),this.zt=O2(),this.Wt=new Le(te),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new R2,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Be(te),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||A("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new R2),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function O2(){return new Le(N.comparator)}function F2(){return new Le(N.comparator)}const xie={asc:"ASCENDING",desc:"DESCENDING"},kie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nie={and:"AND",or:"OR"};class Pie{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Q0(n,e){return n.useProto3Json||Hc(e)?e:{value:e}}function Tu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Rie(n,e){return Tu(n,e.toTimestamp())}function lt(n){return H(!!n),z.fromTimestamp(function(e){const t=Cs(e);return new Ke(t.seconds,t.nanos)}(n))}function Y0(n,e){return(t=n,new we(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function V2(n){const e=we.fromString(n);return H(W2(e)),e}function od(n,e){return Y0(n.databaseId,e.path)}function pi(n,e){const t=V2(e);if(t.get(1)!==n.databaseId.projectId)throw new C(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new C(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new N(U2(t))}function J0(n,e){return Y0(n.databaseId,e)}function ad(n){return new we(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function U2(n){return H(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function j2(n,e,t){return{name:od(n,e),fields:t.value.mapValue.fields}}function G2(n,e){return{documents:[J0(n,e.path)]}}function Z0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=J0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=J0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return q2(Me.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:xs((c=l).field),direction:Bie(c.dir)};var c})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=Q0(n,e.limit);var a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function H2(n){let e=function B2(n){const e=V2(n);return 4===e.length?we.emptyPath():U2(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){H(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=function(c){const d=z2(c);return d instanceof Me&&O0(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(c=>{return new vu(Su((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,Hc(d)?null:d}(t.limit));let u=null;var c;t.startAt&&(u=new Ms((c=t.startAt).values||[],!!c.before));let l=null;return t.endAt&&(l=function(c){return new Ms(c.values||[],!c.before)}(t.endAt)),function o2(n,e,t,r,i,s,o,a){return new Wi(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function z2(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Su(e.unaryFilter.field);return pe.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Su(e.unaryFilter.field);return pe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Su(e.unaryFilter.field);return pe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Su(e.unaryFilter.field);return pe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(n):void 0!==n.fieldFilter?function(e){return pe.create(Su(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):void 0!==n.compositeFilter?function(e){return Me.create(e.compositeFilter.filters.map(t=>z2(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return U()}}(e.compositeFilter.op))}(n):U()}function Bie(n){return xie[n]}function Uie(n){return kie[n]}function jie(n){return Nie[n]}function xs(n){return{fieldPath:n.canonicalString()}}function Su(n){return ut.fromServerFormat(n.fieldPath)}function q2(n){return n instanceof pe?function(e){if("=="===e.op){if(HV(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NAN"}};if(GV(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(HV(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NOT_NAN"}};if(GV(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xs(e.field),op:Uie(e.op),value:e.value}}}(n):n instanceof Me?function(e){const t=e.getFilters().map(r=>q2(r));return 1===t.length?t[0]:{compositeFilter:{op:jie(e.op),filters:t}}}(n):U()}function $ie(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function W2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Yi{constructor(e,t,r,i,s=z.min(),o=z.min(),a=Mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class K2{constructor(e){this.fe=e}}function eC(n){const e=H2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Zp(e,e.limit,"L"):e}class Lo{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(rt(e.integerValue));else if("doubleValue"in e){const r=rt(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),zc(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(qi(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?zV(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):U()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),N.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Lo.Ve=new Lo;class Jie{constructor(){this.rn=new oC}addToCollectionParentIndex(e,t){return this.rn.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(Jn.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(Jn.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class oC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Be(we.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Be(we.comparator)).toArray()}}new Uint8Array(0);class cn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Bo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Bo(0)}static Mn(){return new Bo(-1)}}class ose{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class wB{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&nd(r.mutation,i,On.empty(),Ke.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ae()){const i=fi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Zc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=fi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ae()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Fn();const o=ed(),a=ed();return t.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(void 0===c||c.mutation instanceof Qi)?s=s.insert(l.key,l):void 0!==c?(o.set(l.key,c.mutation.getFieldMask()),nd(c.mutation,l,c.mutation.getFieldMask(),Ke.now())):o.set(l.key,On.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),t.forEach((l,c)=>{var d;return a.set(l,new ose(c,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=ed();let i=new Le((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=t.get(u);if(null===l)return;let c=r.get(u)||On.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||ae()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=f2();c.forEach(h=>{if(!s.has(h)){const f=b2(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return N.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function B0(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):w.resolve(fi());let a=-1,u=s;return o.next(l=>w.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?w.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ae())).next(c=>({batchId:a,changes:h2(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new N(t)).next(r=>{let i=Zc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Zc();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(l=t,c=a.child(i),new Wi(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,u)=>{const l=u.getKey();null===s.get(l)&&(s=s.insert(l,Ue.newInvalidDocument(l)))});let o=Zc();return s.forEach((a,u)=>{const l=i.get(a);void 0!==l&&nd(l.mutation,u,On.empty(),Ke.now()),Xc(t,u)&&(o=o.insert(a,u))}),o})}}class ase{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return w.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:lt(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:eC(r.bundledQuery),readTime:lt(r.readTime)}),w.resolve();var r}}class use{constructor(){this.overlays=new Le(N.comparator),this.ls=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=fi();return w.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=fi(),s=t.length+1,o=new N(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Le((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let c=s.get(l.largestBatchId);null===c&&(c=fi(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=fi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return w.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new q0(t,r));let s=this.ls.get(t);void 0===s&&(s=ae(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class aC{constructor(){this.fs=new Be($t.ds),this.ws=new Be($t._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new $t(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new $t(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new N(new we([])),r=new $t(t,e),i=new $t(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new N(new we([])),r=new $t(t,e),i=new $t(t,e+1);let s=ae();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new $t(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class $t{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return N.comparator(e.key,t.key)||te(e.As,t.As)}static _s(e,t){return te(e.As,t.As)||N.comparator(e.key,t.key)}}class lse{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Be($t.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new H0(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new $t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $t(t,0),i=new $t(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Be(te);return t.forEach(i=>{const s=new $t(i,0),o=new $t(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;N.isDocumentKey(s)||(s=s.child(""));const o=new $t(new N(s),0);let a=new Be(te);return this.Rs.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){H(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(t.mutations,i=>{const s=new $t(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new $t(t,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class cse{constructor(e){this.Ds=e,this.docs=new Le(N.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():Ue.newInvalidDocument(t))}getEntries(e,t){let r=Fn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ue.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Fn();const o=t.path,a=new N(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||A0(AV(c),r)<=0||(i.has(c.key)||Xc(t,c))&&(s=s.insert(c.key,c.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,t,r,i){U()}Cs(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new dse(this)}getSize(e){return w.resolve(this.size)}}class dse extends class rse{constructor(){this.changes=new Ki(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ue.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class hse{constructor(e){this.persistence=e,this.xs=new Ki(t=>xo(t),Yc),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.Ns=0,this.ks=new aC,this.targetCount=0,this.Ms=Bo.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),w.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Bo(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Fn(t),w.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.ks.containsKey(t))}}class uC{constructor(e,t){this.$s={},this.overlays={},this.Os=new Xn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new hse(this),this.indexManager=new Jie,this.remoteDocumentCache=new cse(r=>this.referenceDelegate.Ls(r)),this.serializer=new K2(t),this.qs=new ase(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new use,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new lse(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){A("MemoryPersistence","Starting transaction:",e);const i=new fse(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class fse extends class Rre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.Qs=new aC,this.js=null}static zs(e){return new fg(e)}get Ws(){if(this.js)return this.js;throw U()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),w.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=N.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,z.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return w.or([()=>w.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class hC{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=ae(),i=ae();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new hC(e,t.fromCache,r,i)}}class bB{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(a2(t))return w.resolve(null);let r=Cn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Zp(t,null,"F"),r=Cn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ae(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.ji(t,a);return this.zi(t,l,o,u.readTime)?this.Ki(e,Zp(t,null,"F")):this.Wi(e,l,t,u)}))})))}Gi(e,t,r,i){return a2(t)||i.isEqual(z.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(C0()<=me.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),j0(t)),this.Wi(e,o,t,function SV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=z.fromTimestamp(1e9===r?new Ke(t+1,0):new Ke(t,r));return new Jn(i,N.empty(),e)}(i,-1)))})}ji(e,t){let r=new Be(c2(e));return t.forEach((i,s)=>{Xc(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return C0()<=me.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",j0(t)),this.Ui.getDocumentsMatchingQuery(e,t,Jn.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class gse{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Le(te),this.Yi=new Ki(s=>xo(s),Yc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wB(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function DB(n,e){return fC.apply(this,arguments)}function fC(){return fC=y(function*(n,e){const t=P(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ae();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return t.localDocuments.getDocuments(r,u).next(l=>({er:l,removedBatchIds:o,addedBatchIds:a}))})})}),fC.apply(this,arguments)}function mse(n,e){const t=P(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);H(null!==g),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),l.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ae();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function CB(n){const e=P(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function yse(n,e){const t=P(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Mt.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),g=f,m=c,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,f))});let u=Fn(),l=ae();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function TB(n,e,t){let r=ae(),i=ae();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Fn();return t.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(z.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(c=>{u=c.nr,l=c.sr})),!r.isEqual(z.min())){const c=t.Bs.getLastRemoteSnapshotVersion(s).next(d=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.Ji=i,s))}function _se(n,e){const t=P(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xu(n,e){const t=P(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new Yi(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function ku(n,e,t){return pC.apply(this,arguments)}function pC(){return pC=y(function*(n,e,t){const r=P(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Is(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),pC.apply(this,arguments)}function mg(n,e,t){const r=P(n);let i=z.min(),s=ae();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=P(a),d=c.Yi.get(l);return void 0!==d?w.resolve(c.Ji.get(d)):c.Bs.getTargetData(u,l)}(r,o,Cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:z.min(),t?s:ae())).next(a=>(function MB(n,e,t){let r=n.Xi.get(e)||z.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function l2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class vC{constructor(){this.activeTargetIds=function $0(){return vie}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NB{constructor(){this.Hr=new vC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new vC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ese{Yr(e){}shutdown(){}}class PB{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vg=null;function EC(){return null===vg?vg=268435456+Math.round(2147483648*Math.random()):vg++,"0x"+vg.toString(16)}const bse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ise{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const dn="WebChannelConnection";class Dse extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=EC(),a=this.To(e,t);A("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(l=>(A("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw jr("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+gu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${bse[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=EC();return new Promise((o,a)=>{const u=new bre;u.setWithCredentials(!0),u.listenOnce(vre.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case D0.NO_ERROR:const c=u.getResponseJson();A(dn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case D0.TIMEOUT:A(dn,`RPC '${e}' ${s} timed out`),a(new C(E.DEADLINE_EXCEEDED,"Request time out"));break;case D0.HTTP_ERROR:const d=u.getStatus();if(A(dn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(m)>=0?m:E.UNKNOWN}(f.status);a(new C(p,f.message))}else a(new C(E.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new C(E.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{A(dn,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);A(dn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",l,r,15)})}Ro(e,t,r){const i=EC(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yre(),a=_re(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Ere({})),this.Eo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const c=s.join("");A(dn,`Creating RPC '${e}' stream ${i}: ${c}`,u);const d=o.createWebChannel(c,u);let h=!1,f=!1;const p=new Ise({ro:m=>{f?A(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(A(dn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),A(dn,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,_,b)=>{m.listen(_,v=>{try{b(v)}catch(M){setTimeout(()=>{throw M},0)}})};return g(d,Bp.EventType.OPEN,()=>{f||A(dn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Bp.EventType.CLOSE,()=>{f||(f=!0,A(dn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Bp.EventType.ERROR,m=>{f||(f=!0,jr(dn,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new C(E.UNAVAILABLE,"The operation could not be completed")))}),g(d,Bp.EventType.MESSAGE,m=>{var _;if(!f){const b=m.data[0];H(!!b);const v=b,M=v.error||(null===(_=v[0])||void 0===_?void 0:_.error);if(M){A(dn,`RPC '${e}' stream ${i} received error:`,M);const B=M.status;let j=function(Qe){const vt=mt[Qe];if(void 0!==vt)return A2(vt)}(B),le=M.message;void 0===j&&(j=E.INTERNAL,le="Unknown error status: "+B+" with message "+M.message),f=!0,p.wo(new C(j,le)),d.close()}else A(dn,`RPC '${e}' stream ${i} received:`,b),p._o(b)}}),g(a,wre.STAT_EVENT,m=>{m.stat===EV.PROXY?A(dn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===EV.NOPROXY&&A(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function wg(){return typeof document<"u"?document:null}function yd(n){return new Pie(n,!0)}class bC{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class OB{constructor(e,t,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new bC(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return y(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return y(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return y(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(at(t.toString()),at("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new C(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(y(function*(){e.state=0,e.start()}))}tu(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cse extends OB{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Fie(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:U(),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(H(void 0===l||"string"==typeof l),Mt.fromBase64String(l||"")):(H(void 0===l||l instanceof Uint8Array),Mt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?E.UNKNOWN:A2(u.code);return new C(l,u.message||"")}(o);t=new P2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=pi(n,r.document.name),s=lt(r.document.updateTime),o=r.document.createTime?lt(r.document.createTime):z.min(),a=new Jt({mapValue:{fields:r.document.fields}}),u=Ue.newFoundDocument(i,s,o,a);t=new ig(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=pi(n,r.document),s=r.readTime?lt(r.readTime):z.min(),o=Ue.newNoDocument(i,s);t=new ig([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=pi(n,r.document);t=new ig([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return U();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Sie(i,s);t=new N2(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return z.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?z.min():s.readTime?lt(s.readTime):z.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=ad(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=Yp(a)?{documents:G2(i,a)}:{query:Z0(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=L2(i,s.resumeToken);const u=Q0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(z.min())>0){o.readTime=Tu(i,s.snapshotVersion.toTimestamp());const u=Q0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Vie(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=ad(this.serializer),t.removeTarget=e,this.Wo(t)}}class Tse extends OB{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(H(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Lie(n,e){return n&&n.length>0?(H(void 0!==e),n.map(t=>function(r,i){let s=lt(r.updateTime?r.updateTime:i);return s.isEqual(z.min())&&(s=lt(i)),new Iie(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=lt(e.commitTime);return this.listener.cu(r,t)}return H(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ad(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function ud(n,e){let t;if(e instanceof Du)t={update:j2(n,e.key,e.value)};else if(e instanceof Cu)t={delete:od(n,e.key)};else if(e instanceof Qi)t={update:j2(n,e.key,e.data),updateMask:$ie(e.fieldMask)};else{if(!(e instanceof G0))return U();t={verify:od(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof bu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof No)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Po)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Iu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw U()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Rie(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:U()),t;var i}(this.serializer,r))};this.Wo(t)}}class Sse extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new C(E.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(E.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(E.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Mse{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(at(t),this.mu=!1):A("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class xse{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(y(function*(){var u;Rs(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(l){const c=P(l);c.vu.add(4),yield Nu(c),c.bu.set("Unknown"),c.vu.delete(4),yield _d(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this.bu=new Mse(r,i)}}function _d(n){return DC.apply(this,arguments)}function DC(){return DC=y(function*(n){if(Rs(n))for(const e of n.Ru)yield e(!0)}),DC.apply(this,arguments)}function Nu(n){return CC.apply(this,arguments)}function CC(){return CC=y(function*(n){for(const e of n.Ru)yield e(!1)}),CC.apply(this,arguments)}function Eg(n,e){const t=P(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),AC(t)?SC(t):Ru(t).Ko()&&TC(t,e))}function vd(n,e){const t=P(n),r=Ru(t);t.Au.delete(e),r.Ko()&&FB(t,e),0===t.Au.size&&(r.Ko()?r.jo():Rs(t)&&t.bu.set("Unknown"))}function TC(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(z.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ru(n).su(e)}function FB(n,e){n.Vu.qt(e),Ru(n).iu(e)}function SC(n){n.Vu=new Mie({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Ru(n).start(),n.bu.gu()}function AC(n){return Rs(n)&&!Ru(n).Uo()&&n.Au.size>0}function Rs(n){return 0===P(n).vu.size}function LB(n){n.Vu=void 0}function kse(n){return MC.apply(this,arguments)}function MC(){return MC=y(function*(n){n.Au.forEach((e,t)=>{TC(n,e)})}),MC.apply(this,arguments)}function Nse(n,e){return xC.apply(this,arguments)}function xC(){return xC=y(function*(n,e){LB(n),AC(n)?(n.bu.Iu(e),SC(n)):n.bu.set("Unknown")}),xC.apply(this,arguments)}function Pse(n,e,t){return kC.apply(this,arguments)}function kC(){return kC=y(function*(n,e,t){if(n.bu.set("Online"),e instanceof P2&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield bg(n,r)}else if(e instanceof ig?n.Vu.Ht(e):e instanceof N2?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(z.min()))try{const r=yield CB(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Au.get(u);l&&i.Au.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const l=i.Au.get(a);if(!l)return;i.Au.set(a,l.withResumeToken(Mt.EMPTY_BYTE_STRING,l.snapshotVersion)),FB(i,a);const c=new Yi(l.target,a,u,l.sequenceNumber);TC(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield bg(n,r)}var r}),kC.apply(this,arguments)}function bg(n,e,t){return NC.apply(this,arguments)}function NC(){return NC=y(function*(n,e,t){if(!Is(e))throw e;n.vu.add(1),yield Nu(n),n.bu.set("Offline"),t||(t=()=>CB(n.localStore)),n.asyncQueue.enqueueRetryable(y(function*(){A("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield _d(n)}))}),NC.apply(this,arguments)}function VB(n,e){return e().catch(t=>bg(n,t,e))}function Pu(n){return PC.apply(this,arguments)}function PC(){return PC=y(function*(n){const e=P(n),t=Os(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Rse(e);)try{const i=yield _se(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,Ose(e,i)}catch(i){yield bg(e,i)}BB(e)&&UB(e)}),PC.apply(this,arguments)}function Rse(n){return Rs(n)&&n.Eu.length<10}function Ose(n,e){n.Eu.push(e);const t=Os(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function BB(n){return Rs(n)&&!Os(n).Uo()&&n.Eu.length>0}function UB(n){Os(n).start()}function Fse(n){return RC.apply(this,arguments)}function RC(){return RC=y(function*(n){Os(n).hu()}),RC.apply(this,arguments)}function Lse(n){return OC.apply(this,arguments)}function OC(){return OC=y(function*(n){const e=Os(n);for(const t of n.Eu)e.uu(t.mutations)}),OC.apply(this,arguments)}function Vse(n,e,t){return FC.apply(this,arguments)}function FC(){return FC=y(function*(n,e,t){const r=n.Eu.shift(),i=z0.from(r,e,t);yield VB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Pu(n)}),FC.apply(this,arguments)}function Bse(n,e){return LC.apply(this,arguments)}function LC(){return LC=y(function*(n,e){var t;e&&Os(n).ou&&(yield(t=y(function*(r,i){if(S2(s=i.code)&&s!==E.ABORTED){const o=r.Eu.shift();Os(r).Qo(),yield VB(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Pu(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),BB(n)&&UB(n)}),LC.apply(this,arguments)}function jB(n,e){return VC.apply(this,arguments)}function VC(){return VC=y(function*(n,e){const t=P(n);t.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=Rs(t);t.vu.add(3),yield Nu(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield _d(t)}),VC.apply(this,arguments)}function UC(){return UC=y(function*(n,e){const t=P(n);e?(t.vu.delete(2),yield _d(t)):e||(t.vu.add(2),yield Nu(t),t.bu.set("Unknown"))}),UC.apply(this,arguments)}function Ru(n){return n.Su||(n.Su=function(e,t,r){const i=P(e);return i.fu(),new Cse(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:kse.bind(null,n),ao:Nse.bind(null,n),nu:Pse.bind(null,n)}),n.Ru.push(function(){var e=y(function*(t){t?(n.Su.Qo(),AC(n)?SC(n):n.bu.set("Unknown")):(yield n.Su.stop(),LB(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Os(n){return n.Du||(n.Du=function(e,t,r){const i=P(e);return i.fu(),new Tse(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Fse.bind(null,n),ao:Bse.bind(null,n),au:Lse.bind(null,n),cu:Vse.bind(null,n)}),n.Ru.push(function(){var e=y(function*(t){t?(n.Du.Qo(),yield Pu(n)):(yield n.Du.stop(),n.Eu.length>0&&(A("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class jC{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new At,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new jC(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ou(n,e){if(at("AsyncQueue",`${e}: ${n}`),Is(n))return new C(E.UNAVAILABLE,`${e}: ${n}`);throw n}class Fu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||N.comparator(t.key,r.key):(t,r)=>N.comparator(t.key,r.key),this.keyedMap=Zc(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new Fu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Fu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class $B{constructor(){this.Cu=new Le(N.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):U():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Lu{constructor(e,t,r,i,s,o,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Lu(e,t,Fu.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Use{constructor(){this.Nu=void 0,this.listeners=[]}}class jse{constructor(){this.queries=new Ki(e=>u2(e),Jc),this.onlineState="Unknown",this.ku=new Set}}function GC(){return GC=y(function*(n,e){const t=P(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Use),i)try{s.Nu=yield t.onListen(r)}catch(o){const a=Ou(o,`Initialization of query '${j0(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&qC(t)}),GC.apply(this,arguments)}function zC(){return zC=y(function*(n,e){const t=P(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),zC.apply(this,arguments)}function $se(n,e){const t=P(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&qC(t)}function Gse(n,e,t){const r=P(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function qC(n){n.ku.forEach(e=>{e.next()})}class WC{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Lu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class zB{constructor(e){this.key=e}}class qB{constructor(e){this.key=e}}class WB{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ae(),this.mutatedKeys=ae(),this.tc=c2(e),this.ec=new Fu(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new $B,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Xc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||l&&this.tc(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||l)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((l,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return f(d)-f(h)}(l.type,c.type)||this.tc(l.doc,c.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Lu(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new $B,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ae(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new qB(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new zB(r))}),t}hc(e){this.Yu=e.ir,this.Zu=ae();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Lu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class qse{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Wse{constructor(e){this.key=e,this.fc=!1}}class Kse{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ki(a=>u2(a),Jc),this._c=new Map,this.mc=new Set,this.gc=new Le(N.comparator),this.yc=new Map,this.Ic=new aC,this.Tc={},this.Ec=new Map,this.Ac=Bo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Qse(n,e){return KC.apply(this,arguments)}function KC(){return KC=y(function*(n,e){const t=yT(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield xu(t.localStore,Cn(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield QC(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&Eg(t.remoteStore,o)}return i}),KC.apply(this,arguments)}function QC(n,e,t,r,i){return YC.apply(this,arguments)}function YC(){return YC=y(function*(n,e,t,r,i){n.Rc=(d,h,f)=>{return(p=y(function*(g,m,_,b){let v=m.view.sc(_);v.zi&&(v=yield mg(g.localStore,m.query,!1).then(({documents:j})=>m.view.sc(j,v)));const M=b&&b.targetChanges.get(m.targetId),B=m.view.applyChanges(v,g.isPrimaryClient,M);return oT(g,m.targetId,B.cc),B.snapshot}),function(g,m,_,b){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield mg(n.localStore,e,!0),o=new WB(e,s.ir),a=o.sc(s.documents),u=sd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=o.applyChanges(a,n.isPrimaryClient,u);oT(n,t,l.cc);const c=new qse(e,t,o);return n.wc.set(e,c),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),l.snapshot}),YC.apply(this,arguments)}function Yse(n,e){return JC.apply(this,arguments)}function JC(){return JC=y(function*(n,e){const t=P(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!Jc(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ku(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),vd(t.remoteStore,r.targetId),Vu(t,r.targetId)}).catch(bs))):(Vu(t,r.targetId),yield ku(t.localStore,r.targetId,!0))}),JC.apply(this,arguments)}function XC(){return XC=y(function*(n,e,t){const r=_T(n);try{const i=yield function(s,o){const a=P(s),u=Ke.now(),l=o.reduce((h,f)=>h.add(f.key),ae());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Fn(),p=ae();return a.Zi.getEntries(h,l).next(g=>{f=g,f.forEach((m,_)=>{_.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{c=g;const m=[];for(const _ of o){const b=Cie(_,c.get(_.key).overlayedDocument);null!=b&&m.push(new Qi(_.key,b,KV(b.value.mapValue),ze.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:h2(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Le(te)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Ji(r,i.changes),yield Pu(r.remoteStore)}catch(i){const s=Ou(i,"Failed to persist write");t.reject(s)}}),XC.apply(this,arguments)}function KB(n,e){return ZC.apply(this,arguments)}function ZC(){return ZC=y(function*(n,e){const t=P(n);try{const r=yield yse(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(H(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?H(o.fc):i.removedDocuments.size>0&&(H(o.fc),o.fc=!1))}),yield Ji(t,r,e)}catch(r){yield bs(r)}}),ZC.apply(this,arguments)}function QB(n,e,t){const r=P(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=P(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.Mu(o)&&(u=!0)}),u&&qC(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Xse(n,e,t){return eT.apply(this,arguments)}function eT(){return eT=y(function*(n,e,t){const r=P(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Le(N.comparator);o=o.insert(s,Ue.newNoDocument(s,z.min()));const a=ae().add(s),u=new id(z.min(),new Map,new Le(te),o,a);yield KB(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),aT(r)}else yield ku(r.localStore,e,!1).then(()=>Vu(r,e,t)).catch(bs)}),eT.apply(this,arguments)}function Zse(n,e){return tT.apply(this,arguments)}function tT(){return tT=y(function*(n,e){const t=P(n),r=e.batch.batchId;try{const i=yield mse(t.localStore,e);sT(t,r,null),iT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ji(t,i)}catch(i){yield bs(i)}}),tT.apply(this,arguments)}function eoe(n,e,t){return nT.apply(this,arguments)}function nT(){return nT=y(function*(n,e,t){const r=P(n);try{const i=yield function(s,o){const a=P(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(c=>(H(null!==c),l=c.keys(),a.mutationQueue.removeMutationBatch(u,c))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);sT(r,e,t),iT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ji(r,i)}catch(i){yield bs(i)}}),nT.apply(this,arguments)}function iT(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function sT(n,e,t){const r=P(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Vu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||YB(n,r)})}function YB(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(vd(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),aT(n))}function oT(n,e,t){for(const r of t)r instanceof zB?(n.Ic.addReference(r.key,e),noe(n,r)):r instanceof qB?(A("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||YB(n,r.key)):U()}function noe(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(A("SyncEngine","New document in limbo: "+t),n.mc.add(r),aT(n))}function aT(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new N(we.fromString(e)),r=n.Ac.next();n.yc.set(r,new Wse(t)),n.gc=n.gc.insert(t,r),Eg(n.remoteStore,new Yi(Cn(Eu(t.path)),r,"TargetPurposeLimboResolution",Xn.ct))}}function Ji(n,e,t){return uT.apply(this,arguments)}function uT(){return uT=y(function*(n,e,t){const r=P(n),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const c=hC.Li(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=y(function*(u,l){const c=P(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(l,h=>w.forEach(h.Fi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Is(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.Ji=c.Ji.insert(h,g)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),uT.apply(this,arguments)}function roe(n,e){return lT.apply(this,arguments)}function lT(){return lT=y(function*(n,e){const t=P(n);if(!t.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield DB(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new C(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ji(t,r.er)}var i}),lT.apply(this,arguments)}function ioe(n,e){const t=P(n),r=t.yc.get(e);if(r&&r.fc)return ae().add(r.key);{let i=ae();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function yT(n){const e=P(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=KB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ioe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xse.bind(null,e),e.dc.nu=$se.bind(null,e.eventManager),e.dc.Pc=Gse.bind(null,e.eventManager),e}function _T(n){const e=P(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eoe.bind(null,e),e}class Ig{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return y(function*(){t.serializer=yd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function IB(n,e,t,r){return new gse(n,e,t,r)}(this.persistence,new bB,e.initialUser,this.serializer)}createPersistence(e){return new uC(fg.zs,this.serializer)}createSharedClientState(e){return new NB}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bu{initialize(e,t){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>QB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=roe.bind(null,r.syncEngine),yield function BC(n,e){return UC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new jse}createDatastore(e){const t=yd(e.databaseInfo.databaseId),r=new Dse(e.databaseInfo);return new Sse(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>QB(this.syncEngine,a,0),o=PB.D()?new PB:new Ese,new xse(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,l){const c=new Kse(r,i,s,o,a,u);return l&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=y(function*(t){const r=P(t);A("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Nu(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}class Dg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):at("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yoe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=CV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){A("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(A("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new At;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ou(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Cg(n,e){return vT.apply(this,arguments)}function vT(){return vT=y(function*(n,e){n.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield DB(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),vT.apply(this,arguments)}function wT(n,e){return ET.apply(this,arguments)}function ET(){return ET=y(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield bT(n);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>jB(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>jB(e.remoteStore,s)),n._onlineComponents=e}),ET.apply(this,arguments)}function nU(n){return"FirebaseError"===n.name?n.code===E.FAILED_PRECONDITION||n.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function bT(n){return IT.apply(this,arguments)}function IT(){return IT=y(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){A("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Cg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!nU(t))throw t;jr("Error using user provided cache. Falling back to memory cache: "+t),yield Cg(n,new Ig)}}else A("FirestoreClient","Using default OfflineComponentProvider"),yield Cg(n,new Ig);return n._offlineComponents}),IT.apply(this,arguments)}function Tg(n){return DT.apply(this,arguments)}function DT(){return DT=y(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(A("FirestoreClient","Using user provided OnlineComponentProvider"),yield wT(n,n._uninitializedComponentsProvider._online)):(A("FirestoreClient","Using default OnlineComponentProvider"),yield wT(n,new Bu))),n._onlineComponents}),DT.apply(this,arguments)}function TT(){return TT=y(function*(n){const e=yield Tg(n),t=e.eventManager;return t.onListen=Qse.bind(null,e.syncEngine),t.onUnlisten=Yse.bind(null,e.syncEngine),t}),TT.apply(this,arguments)}function oU(n,e,t={}){const r=new At;return n.asyncQueue.enqueueAndForget(y(function*(){return function(i,s,o,a,u){const l=new Dg({next:d=>{s.enqueueAndForget(()=>function HC(n,e){return zC.apply(this,arguments)}(i,c));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new C(E.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new C(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),c=new WC(Eu(o.path),l,{includeMetadataChanges:!0,Ku:!0});return function $C(n,e){return GC.apply(this,arguments)}(i,c)}(yield function Uu(n){return TT.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function uU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const lU=new Map;function ST(n,e,t){if(!t)throw new C(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function cU(n){if(!N.isDocumentKey(n))throw new C(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ag(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":U()}function ye(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new C(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ag(n);throw new C(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class fU{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new C(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Toe(n,e,t,r){if(!0===e&&!0===r)throw new C(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=uU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new C(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new C(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new C(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fU(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Dre;switch(t.type){case"firstParty":return new Are(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new C(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=lU.get(e);t&&(A("ComponentProvider","Removing Datastore"),lU.delete(e),t.terminate())}(this),Promise.resolve()}}class ct{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ct(this.firestore,e,this._key)}}class Xt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xt(this.firestore,e,this._query)}}class gi extends Xt{constructor(e,t,r){super(e,t,Eu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new N(e))}withConverter(e){return new gi(this.firestore,e,this._path)}}function pU(n,e,...t){if(n=Qn(n),1===arguments.length&&(e=CV.A()),ST("doc","path",e),n instanceof wd){const r=we.fromString(e,...t);return cU(r),new ct(n,null,new N(r))}{if(!(n instanceof ct||n instanceof gi))throw new C(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(we.fromString(e,...t));return cU(r),new ct(n.firestore,n instanceof gi?n.converter:null,new N(r))}}class Aoe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new bC(this,"async_queue_retry"),this.Xc=()=>{const t=wg();t&&A("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=wg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=wg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new At;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return y(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Is(t))throw t;A("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,at("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=jC.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&U()}verifyOperationInProgress(){}sa(){var e=this;return y(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class je extends wd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Aoe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mU(this),this._firestoreClient.terminate()}}function xoe(n,e){const r="string"==typeof n?n:e||"(default)",i=Lf("object"==typeof n?n:yR(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=(n=>{var e,t;return null===(t=null===(e=Nf())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");s&&function Soe(n,e,t,r={}){var i;const s=(n=ye(n,wd))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Ut.MOCK_USER;else{a=function vK(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[xf(JSON.stringify({alg:"none",type:"JWT"})),xf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new C(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ut(l)}n._authCredentials=new Cre(new IV(a,u))}}(i,...s)}return i}function yt(n){return n._firestoreClient||mU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mU(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new iie(n._databaseId,a,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,uU(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;n._firestoreClient=new yoe(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jo(Mt.fromBase64String(e))}catch(t){throw new C(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jo(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ju{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new C(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mg{constructor(e){this._methodName=e}}class MT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new C(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new C(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}const Noe=/^__.*__$/;class vU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}class xg{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ng(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(wU(this.ca)&&Noe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Roe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||yd(e)}ya(e,t,r,i=!1){return new xg({ca:e,methodName:t,ga:r,path:ut.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}class bd extends Mg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bd}}class Loe extends Mg{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Iu(e.serializer,m2(e.serializer,this.Ia));return new td(e.path,t)}isEqual(e){return this===e}}function $o(n,e){if(TU(n=Qn(n)))return NT("Unsupported field value:",e,n),function CU(n,e){const t={};return BV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(n,(r,i)=>{const s=$o(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}(n,e);if(n instanceof Mg)return function(t,r){if(!wU(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=$o(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Qn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return m2(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ke.fromDate(t);return{timestampValue:Tu(r.serializer,i)}}if(t instanceof Ke){const i=new Ke(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Tu(r.serializer,i)}}if(t instanceof MT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jo)return{bytesValue:L2(r.serializer,t._byteString)};if(t instanceof ct){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Y0(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Ag(t)}`)}(n,e)}function TU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ke||n instanceof MT||n instanceof jo||n instanceof ct||n instanceof Mg)}function NT(n,e,t){if(!TU(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Ag(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Id(n,e,t){if((e=Qn(e))instanceof ju)return e._internalPath;if("string"==typeof e)return kg(n,e);throw Ng("Field path arguments must be of type string or ",n,!1,void 0,t)}const Voe=new RegExp("[~\\*/\\[\\]]");function kg(n,e,t){if(e.search(Voe)>=0)throw Ng(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ju(...e.split("."))._internalPath}catch{throw Ng(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ng(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(E.INVALID_ARGUMENT,a+n+u)}function SU(n,e){return n.some(t=>t.isEqual(e))}class PT{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Boe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Boe extends PT{data(){return super.data()}}function Pg(n,e){return"string"==typeof e?kg(n,e):e instanceof ju?e._internalPath:e._delegate._internalPath}class Go{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hu extends PT{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Pg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Lg extends Hu{data(e={}){return super.data(e)}}function Hoe(n){n=ye(n,ct);const e=ye(n.firestore,je);return oU(yt(e),n._key).then(t=>function FT(n,e,t){const r=t.docs.get(e._key),i=new Fs(n);return new Hu(n,i,e._key,r,new Go(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class Fs extends class joe{convertValue(e,t="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw U()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ds(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new MT(rt(e.latitude),rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=qp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const t=Cs(e);return new Ke(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=we.fromString(e);H(W2(r));const i=new Ao(r.get(1),r.get(3)),s=new N(r.popFirst(5));return i.isEqual(t)||at(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new jo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,t)}}function zoe(n,e,t,...r){n=ye(n,ct);const i=ye(n.firestore,je),s=function $u(n){const e=n._freezeSettings(),t=yd(n._databaseId);return new Roe(n._databaseId,!!e.ignoreUndefinedProperties,t)}(i);let o;return o="string"==typeof(e=Qn(e))||e instanceof ju?function IU(n,e,t,r,i,s){const o=n.ya(1,e,t),a=[Id(e,r,t)],u=[i];if(s.length%2!=0)throw new C(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Id(e,s[h])),u.push(s[h+1]);const l=[],c=Jt.empty();for(let h=a.length-1;h>=0;--h)if(!SU(l,a[h])){const f=a[h];let p=u[h];p=Qn(p);const g=o.da(f);if(p instanceof bd)l.push(f);else{const m=$o(p,g);null!=m&&(l.push(f),c.set(f,m))}}const d=new On(l);return new vU(c,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function bU(n,e,t,r){const i=n.ya(1,e,t);NT("Data must be an object, but it was:",i,r);const s=[],o=Jt.empty();Ds(r,(u,l)=>{const c=kg(e,u,t);l=Qn(l);const d=i.da(c);if(l instanceof bd)s.push(c);else{const h=$o(l,d);null!=h&&(s.push(c),o.set(c,h))}});const a=new On(s);return new vU(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),function Cd(n,e){return function(t,r){const i=new At;return t.asyncQueue.enqueueAndForget(y(function*(){return function Jse(n,e,t){return XC.apply(this,arguments)}(yield function CT(n){return Tg(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(yt(n),e)}(i,[o.toMutation(n._key,ze.exists(!0))])}function rae(n){return new Loe("increment",n)}!function(n,e=!0){gu="9.23.0",En(new on("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new je(new Tre(t.getProvider("auth-internal")),new Mre(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ao(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ot(bV,"3.13.0",n),ot(bV,"3.13.0","esm2017")}();class Bg{constructor(e){return e}}const FU="firestore",LT=new O("angularfire2.firestore-instances");function oae(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Bg(r)}}const aae={provide:class iae{constructor(){return ab(FU)}},deps:[[new yn,LT]]},uae={provide:Bg,useFactory:function sae(n,e){const t=function ob(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(FU,n,e);return t&&new Bg(t)},deps:[[new yn,LT],ru]};let lae=(()=>{class n{constructor(){ot("angularfire",XE.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Rt({providers:[uae,aae]}),n})();function cae(n,...e){return{ngModule:lae,providers:[{provide:LT,useFactory:oae(n),multi:!0,deps:[He,zt,NO,PO,[new yn,LF],[new yn,sL],...e]}]}}const VT=nu(pU,!0),dae=nu(Hoe,!0),hae=nu(xoe,!0),LU=nu(rae,!0),VU=nu(zoe,!0),{isArray:fae}=Array,{getPrototypeOf:pae,prototype:gae,keys:mae}=Object;const{isArray:vae}=Array;function BU(n){return Pt(e=>function wae(n,e){return vae(e)?n(...e):n(e)}(n,e))}function Eae(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function UU(...n){const e=MA(n),{args:t,keys:r}=function yae(n){if(1===n.length){const e=n[0];if(fae(e))return{args:e,keys:null};if(function _ae(n){return n&&"object"==typeof n&&pae(n)===gae}(e)){const t=mae(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n),i=new $e(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;Zt(t[c]).subscribe(wt(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?Eae(r,a):a),s.complete())}))}});return e?i.pipe(BU(e)):i}let jU=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(I(cs),I(Ct))},n.\u0275dir=K({type:n}),n})(),Ho=(()=>{class n extends jU{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=bt(n)))(r||n)}}(),n.\u0275dir=K({type:n,features:[ve]}),n})();const yr=new O("NgValueAccessor"),bae={provide:yr,useExisting:Te(()=>BT),multi:!0};let BT=(()=>{class n extends Ho{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=bt(n)))(r||n)}}(),n.\u0275dir=K({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&de("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[ke([bae]),ve]}),n})();const Iae={provide:yr,useExisting:Te(()=>zo),multi:!0},Cae=new O("CompositionEventMode");let zo=(()=>{class n extends jU{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Dae(){const n=oo()?oo().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(I(cs),I(Ct),I(Cae,8))},n.\u0275dir=K({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&de("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ke([Iae]),ve]}),n})();const xt=new O("NgValidators"),Gr=new O("NgAsyncValidators");function JU(n){return null!=n}function XU(n){return zh(n)?An(n):n}function ZU(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ej(n,e){return e.map(t=>t(n))}function tj(n){return n.map(e=>function Aae(n){return!n.validate}(e)?e:t=>e.validate(t))}function UT(n){return null!=n?function nj(n){if(!n)return null;const e=n.filter(JU);return 0==e.length?null:function(t){return ZU(ej(t,e))}}(tj(n)):null}function jT(n){return null!=n?function rj(n){if(!n)return null;const e=n.filter(JU);return 0==e.length?null:function(t){return UU(ej(t,e).map(XU)).pipe(Pt(ZU))}}(tj(n)):null}function ij(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function sj(n){return n._rawValidators}function oj(n){return n._rawAsyncValidators}function $T(n){return n?Array.isArray(n)?n:[n]:[]}function jg(n,e){return Array.isArray(n)?n.includes(e):n===e}function aj(n,e){const t=$T(e);return $T(n).forEach(i=>{jg(t,i)||t.push(i)}),t}function uj(n,e){return $T(e).filter(t=>!jg(n,t))}class lj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=UT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=jT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class it extends lj{get formDirective(){return null}get path(){return null}}class mi extends lj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let GT=(()=>{class n extends cj{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(I(mi,2))},n.\u0275dir=K({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&kr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ve]}),n})(),$g=(()=>{class n extends cj{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(I(it,10))},n.\u0275dir=K({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&kr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ve]}),n})();const Td="VALID",Hg="INVALID",qu="PENDING",Sd="DISABLED";function WT(n){return(zg(n)?n.validators:n)||null}function hj(n){return Array.isArray(n)?UT(n):n||null}function KT(n,e){return(zg(e)?e.asyncValidators:n)||null}function fj(n){return Array.isArray(n)?jT(n):n||null}function zg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function pj(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new x(1e3,"");if(!r[t])throw new x(1001,"")}function gj(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new x(1002,"")})}class qg{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=hj(this._rawValidators),this._composedAsyncValidatorFn=fj(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Td}get invalid(){return this.status===Hg}get pending(){return this.status==qu}get disabled(){return this.status===Sd}get enabled(){return this.status!==Sd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=hj(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=fj(e)}addValidators(e){this.setValidators(aj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(aj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uj(e,this._rawAsyncValidators))}hasValidator(e){return jg(this._rawValidators,e)}hasAsyncValidator(e){return jg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=qu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Sd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Td,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Td||this.status===qu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sd:Td}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=qu,this._hasOwnPendingAsyncValidator=!0;const t=XU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Tt,this.statusChanges=new Tt}_calculateStatus(){return this._allControlsDisabled()?Sd:this.errors?Hg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qu)?qu:this._anyControlsHaveStatus(Hg)?Hg:Td}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Wu extends qg{constructor(e,t,r){super(WT(t),KT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){gj(this,0,e),Object.keys(e).forEach(r=>{pj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Wg(n,e){return[...e.path,n]}function Ad(n,e){QT(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Lae(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&mj(n,e)})}(n,e),function Bae(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Vae(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&mj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Fae(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Kg(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Yg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Qg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function QT(n,e){const t=sj(n);null!==e.validator?n.setValidators(ij(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=oj(n);null!==e.asyncValidator?n.setAsyncValidators(ij(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Qg(e._rawValidators,i),Qg(e._rawAsyncValidators,i)}function Yg(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=sj(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=oj(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Qg(e._rawValidators,r),Qg(e._rawAsyncValidators,r),t}function mj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function yj(n,e){QT(n,e)}function YT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function vj(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function JT(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===zo?t=s:function $ae(n){return Object.getPrototypeOf(n.constructor)===Ho}(s)?r=s:i=s}),i||r||t||null}const Hae={provide:it,useExisting:Te(()=>Vs)},Md=(()=>Promise.resolve(null))();let Vs=(()=>{class n extends it{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Tt,this.form=new Wu({},UT(t),jT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Md.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Ad(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Md.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Md.then(()=>{const r=this._findContainer(t.path),i=new Wu({});yj(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Md.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Md.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,vj(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(I(xt,10),I(Gr,10))},n.\u0275dir=K({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&de("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ke([Hae]),ve]}),n})();function wj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ej(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ku=class extends qg{constructor(e=null,t,r){super(WT(t),KT(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Ej(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Ej(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let XT=(()=>{class n extends it{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Wg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=bt(n)))(r||n)}}(),n.\u0275dir=K({type:n,features:[ve]}),n})();const qae={provide:it,useExisting:Te(()=>ZT)};let ZT=(()=>{class n extends XT{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){}}return n.\u0275fac=function(t){return new(t||n)(I(it,5),I(xt,10),I(Gr,10))},n.\u0275dir=K({type:n,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[ke([qae]),ve]}),n})();const Wae={provide:mi,useExisting:Te(()=>xd)},bj=(()=>Promise.resolve(null))();let xd=(()=>{class n extends mi{constructor(t,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new Ku,this._registered=!1,this.update=new Tt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=JT(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),YT(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ad(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){bj.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function Iv(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);bj.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Wg(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(I(it,9),I(xt,10),I(Gr,10),I(yr,10),I(uf,8))},n.\u0275dir=K({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ke([Wae]),ve,Qr]}),n})(),Jg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Dj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Rt({}),n})();const eS=new O("NgModelWithFormControlWarning"),Zae={provide:it,useExisting:Te(()=>kd)};let kd=(()=>{class n extends it{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Tt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ad(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Kg(t.control||null,t,!1),function Gae(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,vj(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Kg(r||null,t),(n=>n instanceof Ku)(i)&&(Ad(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);yj(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Uae(n,e){return Yg(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){QT(this.form,this),this._oldForm&&Yg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(I(xt,10),I(Gr,10))},n.\u0275dir=K({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&de("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ke([Zae]),ve,Qr]}),n})();const eue={provide:it,useExisting:Te(()=>Xg)};let Xg=(()=>{class n extends XT{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){Aj(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(I(it,13),I(xt,10),I(Gr,10))},n.\u0275dir=K({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[ke([eue]),ve]}),n})();const tue={provide:it,useExisting:Te(()=>Zg)};let Zg=(()=>{class n extends it{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Wg(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Aj(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(I(it,13),I(xt,10),I(Gr,10))},n.\u0275dir=K({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[ke([tue]),ve]}),n})();function Aj(n){return!(n instanceof Xg||n instanceof kd||n instanceof Zg)}const nue={provide:mi,useExisting:Te(()=>tS)};let tS=(()=>{class n extends mi{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Tt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=JT(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),YT(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Wg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(I(it,13),I(xt,10),I(Gr,10),I(yr,10),I(eS,8))},n.\u0275dir=K({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ke([nue]),ve,Qr]}),n})();const rue={provide:yr,useExisting:Te(()=>em),multi:!0};function Mj(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let em=(()=>{class n extends Ho{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=Mj(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function iue(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=bt(n)))(r||n)}}(),n.\u0275dir=K({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&de("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ke([rue]),ve]}),n})(),xj=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Mj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(I(Ct),I(cs),I(em,9))},n.\u0275dir=K({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const sue={provide:yr,useExisting:Te(()=>nS),multi:!0};function kj(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let nS=(()=>{class n extends Ho{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const l=this._getOptionValue(o[a].value);i.push(l)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function oue(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=bt(n)))(r||n)}}(),n.\u0275dir=K({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&de("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ke([sue]),ve]}),n})(),Nj=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(kj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(kj(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(I(Ct),I(cs),I(nS,9))},n.\u0275dir=K({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),$j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Rt({imports:[Dj]}),n})(),iS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Rt({imports:[$j]}),n})(),Gj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:eS,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Rt({imports:[$j]}),n})();class tm extends qg{constructor(e,t,r){super(WT(t),KT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){gj(this,0,e),e.forEach((r,i)=>{pj(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Hj(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let zj=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return Hj(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Wu(i,s)}control(t,r,i){let s={};return this.useNonNullable?(Hj(r)?s=r:(s.validators=r,s.asyncValidators=i),new Ku(t,{...s,nonNullable:!0})):new Ku(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new tm(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Ku||t instanceof qg?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:Gj}),n})();class qj{}const _r="*";function sS(n,e){return{type:7,name:n,definitions:e,options:{}}}function Qu(n,e=null){return{type:4,styles:e,timings:n}}function Wj(n,e=null){return{type:2,steps:n,options:e}}function Ln(n){return{type:6,styles:n,offset:null}}function Yu(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Kj(n){Promise.resolve(null).then(n)}class Nd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Kj(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Qj{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?Kj(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Yj(n){return new x(3e3,!1)}function Yue(){return typeof window<"u"&&typeof window.document<"u"}function aS(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Bs(n){switch(n.length){case 0:return new Nd;case 1:return n[0];default:return new Qj(n)}}function Jj(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let u=-1,l=null;if(r.forEach(c=>{const d=c.get("offset"),h=d==u,f=h&&l||new Map;c.forEach((p,g)=>{let m=g,_=p;if("offset"!==g)switch(m=e.normalizePropertyName(m,o),_){case"!":_=i.get(g);break;case _r:_=s.get(g);break;default:_=e.normalizeStyleValue(g,m,_,o)}f.set(m,_)}),h||a.push(f),l=f,u=d}),o.length)throw function Vue(n){return new x(3502,!1)}();return a}function uS(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&lS(t,"start",n)));break;case"done":n.onDone(()=>r(t&&lS(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&lS(t,"destroy",n)))}}function lS(n,e,t){const s=cS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function cS(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Zn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Xj(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let dS=(n,e)=>!1,Zj=(n,e,t)=>[],e$=null;function hS(n){const e=n.parentNode||n.host;return e===e$?null:e}(aS()||typeof Element<"u")&&(Yue()?(e$=(()=>document.documentElement)(),dS=(n,e)=>{for(;e;){if(e===n)return!0;e=hS(e)}return!1}):dS=(n,e)=>n.contains(e),Zj=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Wo=null,t$=!1;const n$=dS,r$=Zj;let i$=(()=>{class n{validateStyleProperty(t){return function Xue(n){Wo||(Wo=function Zue(){return typeof document<"u"?document.body:null}()||{},t$=!!Wo.style&&"WebkitAppearance"in Wo.style);let e=!0;return Wo.style&&!function Jue(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Wo.style,!e&&t$&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Wo.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return n$(t,r)}getParentElement(t){return hS(t)}query(t,r,i){return r$(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new Nd(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})(),fS=(()=>{class n{}return n.NOOP=new i$,n})();const pS="ng-enter",nm="ng-leave",rm="ng-trigger",im=".ng-trigger",o$="ng-animating",gS=".ng-animating";function Us(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:mS(parseFloat(e[1]),e[2])}function mS(n,e){return"s"===e?1e3*n:n}function sm(n,e,t){return n.hasOwnProperty("duration")?n:function nle(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Yj()),{duration:0,delay:0,easing:""};i=mS(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=mS(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function mue(){return new x(3100,!1)}()),a=!0),s<0&&(e.push(function yue(){return new x(3101,!1)}()),a=!0),a&&e.splice(u,0,Yj())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Pd(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function a$(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function js(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function l$(n,e,t){return t?e+":"+t+";":""}function c$(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=l$(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=l$(0,ole(t),n.style[t]));n.setAttribute("style",e)}function yi(n,e,t){n.style&&(e.forEach((r,i)=>{const s=_S(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),aS()&&c$(n))}function Ko(n,e){n.style&&(e.forEach((t,r)=>{const i=_S(r);n.style[i]=""}),aS()&&c$(n))}function Rd(n){return Array.isArray(n)?1==n.length?n[0]:Wj(n):n}const yS=new RegExp("{{\\s*(.+?)\\s*}}","g");function d$(n){let e=[];if("string"==typeof n){let t;for(;t=yS.exec(n);)e.push(t[1]);yS.lastIndex=0}return e}function om(n,e,t){const r=n.toString(),i=r.replace(yS,(s,o)=>{let a=e[o];return null==a&&(t.push(function vue(n){return new x(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function am(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const sle=/-+([a-z0-9])/g;function _S(n){return n.replace(sle,(...e)=>e[1].toUpperCase())}function ole(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function er(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function wue(n){return new x(3004,!1)}()}}function h$(n,e){return window.getComputedStyle(n)[e]}function hle(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function fle(n,e,t){if(":"==n[0]){const u=function ple(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Rue(n){return new x(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Pue(n){return new x(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(f$(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(f$(o,i))}(r,t,e)):t.push(n),t}const dm=new Set(["true","1"]),hm=new Set(["false","0"]);function f$(n,e){const t=dm.has(n)||hm.has(n),r=dm.has(e)||hm.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?dm.has(n):hm.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?dm.has(e):hm.has(e)),o&&a}}const gle=new RegExp("s*:selfs*,?","g");function vS(n,e,t,r){return new mle(n).build(e,t,r)}class mle{constructor(e){this._driver=e}build(e,t,r){const i=new vle(t);return this._resetContextStyleTimingState(i),er(this,Rd(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function bue(){return new x(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(c=>{u.name=c,s.push(this.visitState(u,t))}),u.name=l}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push(function Iue(){return new x(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{d$(u).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(am(s.values()),t.errors.push(function Due(n,e){return new x(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=er(this,Rd(e.animation),t);return{type:1,matchers:hle(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Qo(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>er(this,r,t)),options:Qo(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=er(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Qo(e.options)}}visitAnimate(e,t){const r=function Ele(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return wS(sm(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=wS(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=sm(t,e);return wS(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Ln({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=Ln(l)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===_r?r.push(a):t.errors.push(new x(3002,!1)):r.push(a$(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const l=t.collectedStyles.get(t.currentQuerySelector),c=l.get(u);let d=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(function Tue(n,e,t,r,i){return new x(3010,!1)}()),d=!1),s=c.startTime),d&&l.set(u,{startTime:s,endTime:i}),t.options&&function ile(n,e,t){const r=e.params||{},i=d$(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function _ue(n){return new x(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Sue(){return new x(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,l=0;const c=e.steps.map(_=>{const b=this._makeStyleAst(_,t);let v=null!=b.offset?b.offset:function wle(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(b.styles),M=0;return null!=v&&(s++,M=b.offset=v),u=u||M<0||M>1,a=a||M<l,l=M,o.push(M),b});u&&t.errors.push(function Aue(){return new x(3012,!1)}()),a&&t.errors.push(function Mue(){return new x(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function xue(){return new x(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,m=g.duration;return c.forEach((_,b)=>{const v=h>0?b==f?1:h*b:o[b],M=v*m;t.currentTime=p+g.delay+M,g.duration=M,this._validateStyleAst(_,t),_.offset=v,r.styles.push(_)}),r}visitReference(e,t){return{type:8,animation:er(this,Rd(e.animation),t),options:Qo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Qo(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Qo(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function yle(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(gle,"")),n=n.replace(/@\*/g,im).replace(/@\w+/g,t=>im+"-"+t.slice(1)).replace(/:animating/g,gS),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Zn(t.collectedStyles,t.currentQuerySelector,new Map);const a=er(this,Rd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Qo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function kue(){return new x(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:sm(e.timings,t.errors,!0);return{type:12,animation:er(this,Rd(e.animation),t),timings:r,options:null}}}class vle{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qo(n){return n?(n=Pd(n)).params&&(n.params=function _le(n){return n?Pd(n):null}(n.params)):n={},n}function wS(n,e,t){return{duration:n,delay:e,easing:t}}function ES(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class fm{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Dle=new RegExp(":enter","g"),Tle=new RegExp(":leave","g");function bS(n,e,t,r,i,s=new Map,o=new Map,a,u,l=[]){return(new Sle).buildKeyframes(n,e,t,r,i,s,o,a,u,l)}class Sle{buildKeyframes(e,t,r,i,s,o,a,u,l,c=[]){l=l||new fm;const d=new IS(e,t,l,i,s,c,[]);d.options=u;const h=u.delay?Us(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,u),er(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===t){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,u)}return f.length?f.map(p=>p.buildKeyframes()):[ES(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Us(r.duration):null,a=null!=r.delay?Us(r.delay):null;return 0!==o&&e.forEach(u=>{const l=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),er(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=pm);const o=Us(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>er(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Us(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),er(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return sm(t.params?om(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Us(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=pm);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((l,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(e.options,l);s&&d.delayNextStep(s),l===t.element&&(u=d.currentTimeline),er(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const c=t.currentTimeline;u&&c.delayNextStep(u);const d=c.currentTime;er(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const pm={};class IS{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new gm(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Us(r.duration)),null!=r.delay&&(i.delay=Us(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=om(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new IS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=pm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Ale(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Dle,"."+this._enterClassName)).replace(Tle,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function Nue(n){return new x(3014,!1)}()),a}}class gm{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new gm(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||_r),this._currentKeyframe.set(t,_r);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function Mle(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,_r)}else js(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,u]of o){const l=om(u,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??_r),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=js(a,new Map,this._backFill);l.forEach((c,d)=>{"!"===c?e.add(d):c===_r&&t.add(d)}),r||l.set("offset",u/this.duration),i.push(l)});const s=e.size?am(e.values()):[],o=t.size?am(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return ES(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Ale extends gm{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=js(e[0]);u.set("offset",0),s.push(u);const l=js(e[0]);l.set("offset",m$(a)),s.push(l);const c=e.length-1;for(let d=1;d<=c;d++){let h=js(e[d]);const f=h.get("offset");h.set("offset",m$((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return ES(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function m$(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class DS{}const xle=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class kle extends DS{normalizePropertyName(e,t){return _S(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(xle.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Eue(n,e){return new x(3005,!1)}())}return o+s}}function y$(n,e,t,r,i,s,o,a,u,l,c,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:d,errors:h}}const CS={};class _${constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Nle(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,u,l,c){const d=[],h=this.ast.options&&this.ast.options.params||CS,p=this.buildStyles(r,a&&a.params||CS,d),g=u&&u.params||CS,m=this.buildStyles(i,g,d),_=new Set,b=new Map,v=new Map,M="void"===i,B={params:Ple(g,h),delay:this.ast.options?.delay},j=c?[]:bS(e,t,this.ast.animation,s,o,p,m,B,l,d);let le=0;if(j.forEach(vt=>{le=Math.max(vt.duration+vt.delay,le)}),d.length)return y$(t,this._triggerName,r,i,M,p,m,[],[],b,v,le,d);j.forEach(vt=>{const Sn=vt.element,tl=Zn(b,Sn,new Set);vt.preStyleProps.forEach(Wr=>tl.add(Wr));const es=Zn(v,Sn,new Set);vt.postStyleProps.forEach(Wr=>es.add(Wr)),Sn!==t&&_.add(Sn)});const Qe=am(_.values());return y$(t,this._triggerName,r,i,M,p,m,j,Qe,b,v,le)}}function Ple(n,e){const t=Pd(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Rle{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Pd(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=om(o,i,t));const u=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,u,o,t),r.set(u,o)})}),r}}class Fle{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Rle(i.style,i.options&&i.options.params||{},r))}),v$(this.states,"true","1"),v$(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new _$(e,i,this.states))}),this.fallbackTransition=function Lle(n,e,t){return new _$(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function v$(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Vle=new fm;class Ble{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=vS(this._driver,t,r,[]);if(r.length)throw function Bue(n){return new x(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=Jj(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=bS(this._driver,t,s,pS,nm,new Map,new Map,r,Vle,i),o.forEach(c=>{const d=Zn(a,c.element,new Map);c.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Uue(){return new x(3300,!1)}()),o=[]),i.length)throw function jue(n){return new x(3504,!1)}();a.forEach((c,d)=>{c.forEach((h,f)=>{c.set(f,this._driver.computeStyle(d,f,_r))})});const l=Bs(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function $ue(n){return new x(3301,!1)}();return t}listen(e,t,r,i){const s=cS(t,"","","");return uS(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const w$="ng-animate-queued",TS="ng-animate-disabled",Hle=[],E$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zle={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vr="__ng_removed";class SS{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Qle(n){return n??null}(r?e.value:e),r){const s=Pd(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Od="void",AS=new SS(Od);class qle{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Gue(n,e){return new x(3302,!1)}();if(null==r||0==r.length)throw function Hue(n){return new x(3303,!1)}();if(!function Yle(n){return"start"==n||"done"==n}(r))throw function zue(n,e){return new x(3400,!1)}();const s=Zn(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Zn(this._engine.statesByElement,e,new Map);return a.has(t)||(wr(e,rm),wr(e,rm+"-"+t),a.set(t,AS)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function que(n){return new x(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new MS(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(wr(e,rm),wr(e,rm+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const l=new SS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a.set(t,l),u||(u=AS),l.value!==Od&&u.value===l.value){if(!function Zle(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,l.params)){const g=[],m=s.matchStyles(u.value,u.params,g),_=s.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Ko(e,m),yi(e,_)})}return}const h=Zn(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(u.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:u,toState:l,player:o,isFallbackTransition:p}),p||(wr(e,w$),o.onStart(()=>{Ju(e,w$)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let _=m.indexOf(o);_>=0&&m.splice(_,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,im,!0);r.forEach(i=>{if(i[vr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,l)=>{if(o.set(l,u.value),this._triggers.has(l)){const c=this.trigger(e,l,Od,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Bs(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,l=r.get(o)||AS,c=new SS(Od),d=new MS(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[vr];(!s||s===E$)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){wr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=cS(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,uS(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Wle{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new qle(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const l=r.indexOf(u);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(mm(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!mm(t))return;const s=t[vr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wr(e,TS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ju(e,TS))}removeNode(e,t,r,i){if(mm(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[vr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return mm(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,im,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,gS,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Bs(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[vr];if(t&&t.setForRemoval){if(e[vr]=E$,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(TS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)wr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Bs(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Wue(n){return new x(3402,!1)}()}_flushAnimations(e,t){const r=new fm,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach($=>{c.add($);const W=this.driver.query($,".ng-animate-queued",!0);for(let J=0;J<W.length;J++)c.add(W[J])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=D$(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach(($,W)=>{const J=pS+g++;p.set(W,J),$.forEach(be=>wr(be,J))});const m=[],_=new Set,b=new Set;for(let $=0;$<this.collectedLeaveElements.length;$++){const W=this.collectedLeaveElements[$],J=W[vr];J&&J.setForRemoval&&(m.push(W),_.add(W),J.hasAnimation?this.driver.query(W,".ng-star-inserted",!0).forEach(be=>_.add(be)):b.add(W))}const v=new Map,M=D$(h,Array.from(_));M.forEach(($,W)=>{const J=nm+g++;v.set(W,J),$.forEach(be=>wr(be,J))}),e.push(()=>{f.forEach(($,W)=>{const J=p.get(W);$.forEach(be=>Ju(be,J))}),M.forEach(($,W)=>{const J=v.get(W);$.forEach(be=>Ju(be,J))}),m.forEach($=>{this.processLeaveNode($)})});const B=[],j=[];for(let $=this._namespaceList.length-1;$>=0;$--)this._namespaceList[$].drainQueuedTransitions(t).forEach(J=>{const be=J.player,Gt=J.element;if(B.push(be),this.collectedEnterElements.length){const hn=Gt[vr];if(hn&&hn.setForMove){if(hn.previousTriggersValues&&hn.previousTriggersValues.has(J.triggerName)){const ea=hn.previousTriggersValues.get(J.triggerName),Er=this.statesByElement.get(J.element);if(Er&&Er.has(J.triggerName)){const Tm=Er.get(J.triggerName);Tm.value=ea,Er.set(J.triggerName,Tm)}}return void be.destroy()}}const _i=!d||!this.driver.containsElement(d,Gt),rr=v.get(Gt),Hs=p.get(Gt),Ye=this._buildInstruction(J,r,Hs,rr,_i);if(Ye.errors&&Ye.errors.length)return void j.push(Ye);if(_i)return be.onStart(()=>Ko(Gt,Ye.fromStyles)),be.onDestroy(()=>yi(Gt,Ye.toStyles)),void i.push(be);if(J.isFallbackTransition)return be.onStart(()=>Ko(Gt,Ye.fromStyles)),be.onDestroy(()=>yi(Gt,Ye.toStyles)),void i.push(be);const OG=[];Ye.timelines.forEach(hn=>{hn.stretchStartingKeyframe=!0,this.disabledNodes.has(hn.element)||OG.push(hn)}),Ye.timelines=OG,r.append(Gt,Ye.timelines),o.push({instruction:Ye,player:be,element:Gt}),Ye.queriedElements.forEach(hn=>Zn(a,hn,[]).push(be)),Ye.preStyleProps.forEach((hn,ea)=>{if(hn.size){let Er=u.get(ea);Er||u.set(ea,Er=new Set),hn.forEach((Tm,oA)=>Er.add(oA))}}),Ye.postStyleProps.forEach((hn,ea)=>{let Er=l.get(ea);Er||l.set(ea,Er=new Set),hn.forEach((Tm,oA)=>Er.add(oA))})});if(j.length){const $=[];j.forEach(W=>{$.push(function Kue(n,e){return new x(3505,!1)}())}),B.forEach(W=>W.destroy()),this.reportError($)}const le=new Map,Qe=new Map;o.forEach($=>{const W=$.element;r.has(W)&&(Qe.set(W,W),this._beforeAnimationBuild($.player.namespaceId,$.instruction,le))}),i.forEach($=>{const W=$.element;this._getPreviousPlayers(W,!1,$.namespaceId,$.triggerName,null).forEach(be=>{Zn(le,W,[]).push(be),be.destroy()})});const vt=m.filter($=>T$($,u,l)),Sn=new Map;I$(Sn,this.driver,b,l,_r).forEach($=>{T$($,u,l)&&vt.push($)});const es=new Map;f.forEach(($,W)=>{I$(es,this.driver,new Set($),u,"!")}),vt.forEach($=>{const W=Sn.get($),J=es.get($);Sn.set($,new Map([...Array.from(W?.entries()??[]),...Array.from(J?.entries()??[])]))});const Wr=[],nl=[],rl={};o.forEach($=>{const{element:W,player:J,instruction:be}=$;if(r.has(W)){if(c.has(W))return J.onDestroy(()=>yi(W,be.toStyles)),J.disabled=!0,J.overrideTotalTime(be.totalTime),void i.push(J);let Gt=rl;if(Qe.size>1){let rr=W;const Hs=[];for(;rr=rr.parentNode;){const Ye=Qe.get(rr);if(Ye){Gt=Ye;break}Hs.push(rr)}Hs.forEach(Ye=>Qe.set(Ye,Gt))}const _i=this._buildAnimation(J.namespaceId,be,le,s,es,Sn);if(J.setRealPlayer(_i),Gt===rl)Wr.push(J);else{const rr=this.playersByElement.get(Gt);rr&&rr.length&&(J.parentPlayer=Bs(rr)),i.push(J)}}else Ko(W,be.fromStyles),J.onDestroy(()=>yi(W,be.toStyles)),nl.push(J),c.has(W)&&i.push(J)}),nl.forEach($=>{const W=s.get($.element);if(W&&W.length){const J=Bs(W);$.setRealPlayer(J)}}),i.forEach($=>{$.parentPlayer?$.syncPlayerEvents($.parentPlayer):$.destroy()});for(let $=0;$<m.length;$++){const W=m[$],J=W[vr];if(Ju(W,nm),J&&J.hasAnimation)continue;let be=[];if(a.size){let _i=a.get(W);_i&&_i.length&&be.push(..._i);let rr=this.driver.query(W,gS,!0);for(let Hs=0;Hs<rr.length;Hs++){let Ye=a.get(rr[Hs]);Ye&&Ye.length&&be.push(...Ye)}}const Gt=be.filter(_i=>!_i.destroyed);Gt.length?Jle(this,W,Gt):this.processLeaveNode(W)}return m.length=0,Wr.forEach($=>{this.players.push($),$.onDone(()=>{$.destroy();const W=this.players.indexOf($);this.players.splice(W,1)}),$.play()}),Wr}elementContainsData(e,t){let r=!1;const i=t[vr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Od;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const l=u.element,c=l!==s,d=Zn(r,l,[]);this._getPreviousPlayers(l,c,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Ko(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,l=[],c=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;c.add(g);const m=g[vr];if(m&&m.removedBeforeQueried)return new Nd(p.duration,p.delay);const _=g!==u,b=function Xle(n){const e=[];return C$(n,e),e}((r.get(g)||Hle).map(le=>le.getRealPlayer())).filter(le=>!!le.element&&le.element===g),v=s.get(g),M=o.get(g),B=Jj(0,this._normalizer,0,p.keyframes,v,M),j=this._buildPlayer(p,B,b);if(p.subTimeline&&i&&d.add(g),_){const le=new MS(e,a,g);le.setRealPlayer(j),l.push(le)}return j});l.forEach(p=>{Zn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Kle(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>wr(p,o$));const f=Bs(h);return f.onDestroy(()=>{c.forEach(p=>Ju(p,o$)),yi(u,t.toStyles)}),d.forEach(p=>{Zn(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Nd(e.duration,e.delay)}}class MS{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Nd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>uS(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Zn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function mm(n){return n&&1===n.nodeType}function b$(n,e){const t=n.style.display;return n.style.display=e??"none",t}function I$(n,e,t,r,i){const s=[];t.forEach(u=>s.push(b$(u)));const o=[];r.forEach((u,l)=>{const c=new Map;u.forEach(d=>{const h=e.computeStyle(l,d,i);c.set(d,h),(!h||0==h.length)&&(l[vr]=zle,o.push(l))}),n.set(l,c)});let a=0;return t.forEach(u=>b$(u,s[a++])),o}function D$(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=t.has(l)?l:i.has(l)?1:o(l),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&t.get(u).push(a)}),t}function wr(n,e){n.classList?.add(e)}function Ju(n,e){n.classList?.remove(e)}function Jle(n,e,t){Bs(t).onDone(()=>n.processLeaveNode(e))}function C$(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Qj?C$(r.players,e):e.push(r)}}function T$(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class ym{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Wle(e,t,r),this._timelineEngine=new Ble(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],c=vS(this._driver,s,u,[]);if(u.length)throw function Lue(n,e){return new x(3404,!1)}();a=function Ole(n,e,t){return new Fle(n,e,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=Xj(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=Xj(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let tce=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&yi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yi(this._element,this._initialStyles),this._endStyles&&(yi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ko(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ko(this._element,this._endStyles),this._endStyles=null),yi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function xS(n){let e=null;return n.forEach((t,r)=>{(function nce(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class S${constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:h$(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class rce{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return n$(e,t)}getParentElement(e){return hS(e)}query(e,t,r){return r$(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const l=new Map,c=o.filter(f=>f instanceof S$);(function ale(n,e){return 0===n||0===e})(r,i)&&c.forEach(f=>{f.currentSnapshot.forEach((p,g)=>l.set(g,p))});let d=function rle(n){return n.length?n[0]instanceof Map?n:n.map(e=>a$(e)):[]}(t).map(f=>js(f));d=function ule(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,h$(n,a)))}}return e}(e,d,l);const h=function ece(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=xS(e[0]),e.length>1&&(r=xS(e[e.length-1]))):e instanceof Map&&(t=xS(e)),t||r?new tce(n,t,r):null}(e,d);return new S$(e,d,u,h)}}let ice=(()=>{class n extends qj{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Cr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Wj(t):t;return A$(this._renderer,null,r,"register",[i]),new sce(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(G($l),G(hr))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();class sce extends class gue{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new oce(this._id,e,t||{},this._renderer)}}class oce{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return A$(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function A$(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const M$="@.disabled";let ace=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new x$("",s,this.engine),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=c=>{Array.isArray(c)?c.forEach(u):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(u),new uce(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(G($l),G(ym),G(He))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();class x${constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==M$?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class uce extends x${constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==M$?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function lce(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function cce(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let dce=(()=>{class n extends ym{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(G(hr),G(fS),G(DS),G(of))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const k$=[{provide:qj,useClass:ice},{provide:DS,useFactory:function hce(){return new kle}},{provide:ym,useClass:dce},{provide:$l,useFactory:function fce(n,e,t){return new ace(n,e,t)},deps:[Mf,ym,He]}],N$=[{provide:fS,useFactory:()=>new rce},{provide:WN,useValue:"BrowserAnimations"},...k$],pce=[{provide:fS,useClass:i$},{provide:WN,useValue:"NoopAnimations"},...k$];let gce=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?pce:N$}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Rt({providers:N$,imports:[ZP]}),n})();class Hr extends Ws{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function yce(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(wt(o,c=>{const d=l++;u=a?n(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function P$(n,e){return Nt(yce(n,e,arguments.length>=2,!0))}function kS(n,e=ol){return n=n??vce,Nt((t,r)=>{let i,s=!0;t.subscribe(wt(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function vce(n,e){return n===e}const Fd={};function zr(n,e){if(Fd[n]=(Fd[n]||0)+1,"function"==typeof e)return NS(n,(...r)=>({...e(...r),type:n}));switch(e?e._as:"empty"){case"empty":return NS(n,()=>({type:n}));case"props":return NS(n,r=>({...r,type:n}));default:throw new Error("Unexpected config.")}}function NS(n,e){return Object.defineProperty(e,"type",{value:n,writable:!1})}const R$="@ngrx/store/init";let Yo=(()=>{class n extends Hr{constructor(){super({type:R$})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const bce=[Yo],O$=new O("@ngrx/store Internal Root Guard"),F$=new O("@ngrx/store Internal Initial State"),RS=new O("@ngrx/store Initial State"),L$=new O("@ngrx/store Reducer Factory"),V$=new O("@ngrx/store Internal Reducer Factory Provider"),B$=new O("@ngrx/store Initial Reducers"),OS=new O("@ngrx/store Internal Initial Reducers"),U$=new O("@ngrx/store Store Features"),j$=new O("@ngrx/store Internal Store Reducers"),FS=new O("@ngrx/store Internal Feature Reducers"),$$=new O("@ngrx/store Internal Feature Configs"),G$=new O("@ngrx/store Internal Store Features"),H$=new O("@ngrx/store Internal Feature Reducers Token"),z$=new O("@ngrx/store Feature Reducers"),q$=new O("@ngrx/store User Provided Meta Reducers"),vm=new O("@ngrx/store Meta Reducers"),W$=new O("@ngrx/store Internal Resolved Meta Reducers"),K$=new O("@ngrx/store User Runtime Checks Config"),Q$=new O("@ngrx/store Internal User Runtime Checks Config"),Ld=new O("@ngrx/store Internal Runtime Checks"),LS=new O("@ngrx/store Check if Action types are unique");function Vd(n,e={}){const t=Object.keys(n),r={};for(let s=0;s<t.length;s++){const o=t[s];"function"==typeof n[o]&&(r[o]=n[o])}const i=Object.keys(r);return function(o,a){o=void 0===o?e:o;let u=!1;const l={};for(let c=0;c<i.length;c++){const d=i[c],f=o[d],p=(0,r[d])(f,a);l[d]=p,u=u||p!==f}return u?l:o}}function VS(...n){return function(e){if(0===n.length)return e;const t=n[n.length-1];return n.slice(0,-1).reduceRight((i,s)=>s(i),t(e))}}function Y$(n,e){return Array.isArray(e)&&e.length>0&&(n=VS.apply(null,[...e,n])),(t,r)=>{const i=n(t);return(s,o)=>i(s=void 0===s?r:s,o)}}class BS extends $e{}class J$ extends Yo{}let wm=(()=>{class n extends Hr{constructor(t,r,i,s){super(s(i,r)),this.dispatcher=t,this.initialState=r,this.reducers=i,this.reducerFactory=s}get currentReducers(){return this.reducers}addFeature(t){this.addFeatures([t])}addFeatures(t){const r=t.reduce((i,{reducers:s,reducerFactory:o,metaReducers:a,initialState:u,key:l})=>{const c="function"==typeof s?function Dce(n){const e=Array.isArray(n)&&n.length>0?VS(...n):t=>t;return(t,r)=>(t=e(t),(i,s)=>t(i=void 0===i?r:i,s))}(a)(s,u):Y$(o,a)(s,u);return i[l]=c,i},{});this.addReducers(r)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(r=>r.key))}addReducer(t,r){this.addReducers({[t]:r})}addReducers(t){this.reducers={...this.reducers,...t},this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(r=>{this.reducers=function Ice(n,e){return Object.keys(n).filter(t=>t!==e).reduce((t,r)=>Object.assign(t,{[r]:n[r]}),{})}(this.reducers,r)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:t})}ngOnDestroy(){this.complete()}}return n.\u0275fac=function(t){return new(t||n)(G(J$),G(RS),G(B$),G(L$))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const Tce=[wm,{provide:BS,useExisting:wm},{provide:J$,useExisting:Yo}];let US=(()=>{class n extends Ws{ngOnDestroy(){this.complete()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=bt(n)))(r||n)}}(),n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const Sce=[US];class X$ extends $e{}let Z$=(()=>{class n extends Hr{constructor(t,r,i,s){super(s);const a=t.pipe(ra(xO)).pipe(function mce(...n){const e=MA(n);return Nt((t,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),a=!1;for(let u=0;u<i;u++)Zt(n[u]).subscribe(wt(r,l=>{s[u]=l,!a&&!o[u]&&(o[u]=!0,(a=o.every(ol))&&(o=null))},ta));t.subscribe(wt(r,u=>{if(a){const l=[u,...s];r.next(e?e(...l):l)}}))})}(r)),l=a.pipe(P$(Ace,{state:s}));this.stateSubscription=l.subscribe(({state:c,action:d})=>{this.next(c),i.next(d)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return n.INIT=R$,n.\u0275fac=function(t){return new(t||n)(G(Yo),G(BS),G(US),G(RS))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();function Ace(n={state:void 0},[e,t]){const{state:r}=n;return{state:t(r,e),action:e}}const Mce=[Z$,{provide:X$,useExisting:Z$}];let Jo=(()=>{class n extends $e{constructor(t,r,i){super(),this.actionsObserver=r,this.reducerManager=i,this.source=t}select(t,...r){return kce.call(null,t,...r)(this)}lift(t){const r=new n(this,this.actionsObserver,this.reducerManager);return r.operator=t,r}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,r){this.reducerManager.addReducer(t,r)}removeReducer(t){this.reducerManager.removeReducer(t)}}return n.\u0275fac=function(t){return new(t||n)(G(X$),G(Yo),G(wm))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const xce=[Jo];function kce(n,e,...t){return function(i){let s;if("string"==typeof n){const o=[e,...t].filter(Boolean);s=i.pipe(function _ce(...n){const e=n.length;if(0===e)throw new Error("list of properties cannot be empty.");return Pt(t=>{let r=t;for(let i=0;i<e;i++){const s=r?.[n[i]];if(!(typeof s<"u"))return;r=s}return r})}(n,...o))}else{if("function"!=typeof n)throw new TypeError(`Unexpected type '${typeof n}' in select operator, expected 'string' or 'function'`);s=i.pipe(Pt(o=>n(o,e)))}return s.pipe(kS())}}const jS="https://ngrx.io/guide/store/configuration/runtime-checks";function eG(n){return void 0===n}function tG(n){return null===n}function nG(n){return Array.isArray(n)}function rG(n){return"object"==typeof n&&null!==n}function $S(n){return"function"==typeof n}function GS(n,e){return n===e}function Bce(n,e,t){for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!0;return!1}function HS(n,e=GS,t=GS){let s,r=null,i=null;return{memoized:function l(){if(void 0!==s)return s.result;if(!r)return i=n.apply(null,arguments),r=arguments,i;if(!Bce(arguments,r,e))return i;const c=n.apply(null,arguments);return r=arguments,t(i,c)?i:(i=c,c)},reset:function o(){r=null,i=null},setResult:function a(c){s={result:c}},clearResult:function u(){s=void 0}}}function Bd(...n){return function jce(n,e={stateFn:Uce}){return function(...t){let r=t;if(Array.isArray(r[0])){const[c,...d]=r;r=[...c,...d]}const i=r.slice(0,r.length-1),s=r[r.length-1],o=i.filter(c=>c.release&&"function"==typeof c.release),a=n(function(...c){return s.apply(null,c)}),u=HS(function(c,d){return e.stateFn.apply(null,[c,i,d,a])});return Object.assign(u.memoized,{release:function l(){u.reset(),a.reset(),o.forEach(c=>c.release())},projector:a.memoized,setResult:u.setResult,clearResult:u.clearResult})}}(HS)(...n)}function Uce(n,e,t,r){if(void 0===t){const s=e.map(o=>o(n));return r.memoized.apply(null,s)}const i=e.map(s=>s(n,t));return r.memoized.apply(null,[...i,t])}function zS(n){Object.freeze(n);const e=$S(n);return Object.getOwnPropertyNames(n).forEach(t=>{if(!t.startsWith("\u0275")&&function Lce(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(n,t)&&(!e||"caller"!==t&&"callee"!==t&&"arguments"!==t)){const r=n[t];(rG(r)||$S(r))&&!Object.isFrozen(r)&&zS(r)}}),n}function qS(n,e=[]){return(eG(n)||tG(n))&&0===e.length?{path:["root"],value:n}:Object.keys(n).reduce((r,i)=>{if(r)return r;const s=n[i];return function Fce(n){return $S(n)&&n.hasOwnProperty("\u0275cmp")}(s)?r:!(eG(s)||tG(s)||function Rce(n){return"number"==typeof n}(s)||function Pce(n){return"boolean"==typeof n}(s)||function Nce(n){return"string"==typeof n}(s)||nG(s))&&(function iG(n){if(!function Oce(n){return rG(n)&&!nG(n)}(n))return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||null===e}(s)?qS(s,[...e,i]):{path:[...e,i],value:s})},!1)}function oG(n,e){if(!1===n)return;const t=n.path.join("."),r=new Error(`Detected unserializable ${e} at "${t}". ${jS}#strict${e}serializability`);throw r.value=n.value,r.unserializablePath=t,r}function Kce(n){return function UW(){return lP=!0,true}()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...n}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Qce({strictActionSerializability:n,strictStateSerializability:e}){return t=>n||e?function qce(n,e){return function(t,r){e.action(r)&&oG(qS(r),"action");const i=n(t,r);return e.state()&&oG(qS(i),"state"),i}}(t,{action:r=>n&&!WS(r),state:()=>e}):t}function Yce({strictActionImmutability:n,strictStateImmutability:e}){return t=>n||e?function zce(n,e){return function(t,r){const i=e.action(r)?zS(r):r,s=n(t,i);return e.state()?zS(s):s}}(t,{action:r=>n&&!WS(r),state:()=>e}):t}function WS(n){return n.type.startsWith("@ngrx")}function Jce({strictActionWithinNgZone:n}){return e=>n?function Wce(n,e){return function(t,r){if(e.action(r)&&!He.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${jS}#strictactionwithinngzone`);return n(t,r)}}(e,{action:t=>n&&!WS(t)}):e}function Xce(n){return[{provide:Q$,useValue:n},{provide:K$,useFactory:Zce,deps:[Q$]},{provide:Ld,deps:[K$],useFactory:Kce},{provide:vm,multi:!0,deps:[Ld],useFactory:Yce},{provide:vm,multi:!0,deps:[Ld],useFactory:Qce},{provide:vm,multi:!0,deps:[Ld],useFactory:Jce}]}function aG(){return[{provide:LS,multi:!0,deps:[Ld],useFactory:ede}]}function Zce(n){return n}function ede(n){if(!n.strictActionTypeUniqueness)return;const e=Object.entries(Fd).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${jS}#strictactiontypeuniqueness`)}let uG=(()=>{class n{constructor(t,r,i,s,o,a){}}return n.\u0275fac=function(t){return new(t||n)(G(Yo),G(BS),G(US),G(Jo),G(O$,8),G(LS,8))},n.\u0275mod=Ht({type:n}),n.\u0275inj=Rt({}),n})(),tde=(()=>{class n{constructor(t,r,i,s,o){this.features=t,this.featureReducers=r,this.reducerManager=i;const a=t.map((u,l)=>{const d=r.shift()[l];return{...u,reducers:d,initialState:cG(u.initialState)}});i.addFeatures(a)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return n.\u0275fac=function(t){return new(t||n)(G(G$),G(z$),G(wm),G(uG),G(LS,8))},n.\u0275mod=Ht({type:n}),n.\u0275inj=Rt({}),n})(),lG=(()=>{class n{static forRoot(t,r={}){return{ngModule:uG,providers:[{provide:O$,useFactory:ode,deps:[[Jo,new yn,new Il]]},{provide:F$,useValue:r.initialState},{provide:RS,useFactory:cG,deps:[F$]},{provide:OS,useValue:t},{provide:j$,useExisting:t instanceof O?t:OS},{provide:B$,deps:[zt,OS,[new bl(j$)]],useFactory:nde},{provide:q$,useValue:r.metaReducers?r.metaReducers:[]},{provide:W$,deps:[vm,q$],useFactory:sde},{provide:V$,useValue:r.reducerFactory?r.reducerFactory:Vd},{provide:L$,deps:[V$,W$],useFactory:Y$},bce,Tce,Sce,Mce,xce,Xce(r.runtimeChecks),aG()]}}static forFeature(t,r,i={}){return{ngModule:tde,providers:[{provide:$$,multi:!0,useValue:t instanceof Object?{}:i},{provide:U$,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:i instanceof O||!i.reducerFactory?Vd:i.reducerFactory,metaReducers:i instanceof O||!i.metaReducers?[]:i.metaReducers,initialState:i instanceof O||!i.initialState?void 0:i.initialState}},{provide:G$,deps:[zt,$$,U$],useFactory:rde},{provide:FS,multi:!0,useValue:t instanceof Object?t.reducer:r},{provide:H$,multi:!0,useExisting:r instanceof O?r:FS},{provide:z$,multi:!0,deps:[zt,FS,[new bl(H$)]],useFactory:ide},aG()]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Rt({}),n})();function nde(n,e){return e instanceof O?n.get(e):e}function rde(n,e,t){return t.map((r,i)=>{if(e[i]instanceof O){const s=n.get(e[i]);return{key:r.key,reducerFactory:s.reducerFactory?s.reducerFactory:Vd,metaReducers:s.metaReducers?s.metaReducers:[],initialState:s.initialState}}return r})}function ide(n,e){return e.map(r=>r instanceof O?n.get(r):r)}function cG(n){return"function"==typeof n?n():n}function sde(n,e){return n.concat(e)}function ode(n){if(n)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}const ade=["addListener","removeListener"],ude=["addEventListener","removeEventListener"],lde=["on","off"];function Xi(n,e,t,r){if(ge(t)&&(r=t,t=void 0),r)return Xi(n,e,t).pipe(BU(r));const[i,s]=function hde(n){return ge(n.addEventListener)&&ge(n.removeEventListener)}(n)?ude.map(o=>a=>n[o](e,a,t)):function cde(n){return ge(n.addListener)&&ge(n.removeListener)}(n)?ade.map(dG(n,e)):function dde(n){return ge(n.on)&&ge(n.off)}(n)?lde.map(dG(n,e)):[];if(!i&&Lm(n))return Ir(o=>Xi(o,e,t))(Zt(n));if(!i)throw new TypeError("Invalid event target");return new $e(o=>{const a=(...u)=>o.next(1<u.length?u:u[0]);return i(a),()=>s(a)})}function dG(n,e){return t=>r=>n[t](e,r)}function Tn(n,e){return Nt((t,r)=>{let i=0;t.subscribe(wt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Zi(n){return n<=0?()=>Vm:Nt((e,t)=>{let r=0;e.subscribe(wt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function $s(n,e=!1){return Nt((t,r)=>{let i=0;t.subscribe(wt(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}function KS(n=0,e,t=GX){let r=-1;return null!=e&&(AA(e)?t=e:r=e),new $e(i=>{let s=function pde(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function hG(n,e=eu){return function fde(n){return Nt((e,t)=>{let r=!1,i=null;e.subscribe(wt(t,s=>{r=!0,i=s})),Zt(n).subscribe(wt(t,()=>{if(r){r=!1;const s=i;i=null,t.next(s)}},ta))})}(function gde(n=0,e=eu){return n<0&&(n=0),KS(n,n,e)}(n,e))}function fG(n){return new $e(e=>{Zt(n()).subscribe(e)})}function QS(...n){return function mde(){return SA(1)}()(An(n,Jd(n)))}function pG(n,e){return Nt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(wt(r,u=>{i?.unsubscribe();let l=0;const c=s++;Zt(n(u,c)).subscribe(i=wt(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ud(...n){return An(n,Jd(n))}var tr=(()=>(function(n){n.UpdateForm="[Form] Update Form",n.UpdateField="[Form] Update Form Field",n.ResetForm="[Form] Reset Form"}(tr||(tr={})),tr))(),kt=(()=>(function(n){n.UpdateStatus="[Form] Update Status",n.UpdateDirty="[Form] Update Dirty",n.UpdateErrors="[Form] Update Errors",n.AutoInit="[Form] Auto Init",n.AutoSubmit="[Form] Auto Submit",n.FormDestroyed="[Form] Form Destroyed"}(kt||(kt={})),kt))();const Xu=zr(tr.UpdateForm,{_as:"props",_p:void 0}),gG=zr(tr.UpdateField,{_as:"props",_p:void 0}),wde=(zr(tr.ResetForm,{_as:"props",_p:void 0}),zr(kt.UpdateStatus,{_as:"props",_p:void 0})),mG=zr(kt.UpdateDirty,{_as:"props",_p:void 0}),Ede=zr(kt.UpdateErrors,{_as:"props",_p:void 0}),bde=zr(kt.AutoInit,{_as:"props",_p:void 0}),Ide=zr(kt.AutoSubmit,{_as:"props",_p:void 0}),yG=zr(kt.FormDestroyed,{_as:"props",_p:void 0});class jd{constructor(e){this.deferred=!0,Object.assign(this,e)}}class Dde{constructor(e={},t=0,r=0){this.elements=e,this.head=t,this.tail=r,this.initialized$=new Hr(!1),this.updated$=new Hr(this),this.maxLength=25}first(e){0===this.length?this.enqueue(e):(this.elements[this.head]=e,this.updated$.next(this))}shift(e){this.length===this.maxLength&&(this.dequeue(),console.warn("Queue is full, dequeuing first element")),this.head--,this.elements[this.head]=e,this.updated$.next(this)}enqueue(e){this.length===this.maxLength&&(this.dequeue(),console.warn("Queue is full, dequeuing first element")),this.elements[this.tail]=e,this.tail++,this.updated$.next(this)}dequeue(){if(0===this.length)return;const e=this.elements[this.head];return delete this.elements[this.head],this.head++,e}peek(){if(0!==this.length)return this.elements[this.head]}clear(){this.elements={},this.head=0,this.tail=0}get length(){return this.tail-this.head}get isEmpty(){return 0===this.length}}const nr=(n,e)=>e?e.split(".").reduce((t,r)=>t&&t[r],n):n,_t=(n,e,t)=>{const i=e.split("."),s=Array.isArray(n)?[...n]:{...n};if(1===i.length)return s[e]=t,s;let o=s,a=i[0];for(;i.length>1;)o[a]=(u=i).length>=2&&!isNaN(+u[1])?[...o[a]||[]]:{...o[a]},o=o[a],i.shift(),a=i[0];var u;return o[a]=t,s};function Zu(n){const e=[];if(Em(n)||YS(n)||0===Object.keys(n).length)return e;const t=(r,i="")=>{for(const s in r){const o=r[s];Em(o)||YS(o)||0===Object.keys(o).length||Array.isArray(o)?e.push(`${i}${s}`):t(o,`${i}${s}.`)}};return t(n),e}function Xo(n,e){let t=!1;return null!==n&&null!==e&&"object"==typeof n&&"object"==typeof e?(t=n===e||n?.valueOf()===e?.valueOf(),t||(t=n instanceof Map&&e instanceof Map?n.size===e.size&&[...n.entries()].every(([r,i])=>e.has(r)&&Xo(e.get(r),i)):n instanceof Set&&e instanceof Set?n.size===e.size&&[...n.entries()].every(([r])=>e.has(r)):Array.isArray(n)&&Array.isArray(e)?n.length===e.length&&n.reduce((r,i,s)=>r&&Xo(i,e[s]),!0):Object.keys(n).length===Object.keys(e).length&&Object.keys(n).reduce((r,i)=>r&&Xo(n[i],e[i]),!0))):t=n===e,t}const YS=n=>null!=n&&n.valueOf()!==n,Em=n=>null==n||"object"!=typeof n;function el(n){if(Em(n))return n;let e;if(YS(n)){if(!(n instanceof Date))return e={...n.constructor(n.valueOf())},e;e=new Date(n.valueOf())}else{if(n instanceof Map)return e=new Map(n),e;if(n instanceof Set)return e=new Set(n),e;Array.isArray(n)?e=[...n]:"object"==typeof n&&(e={...n})}for(const t in e){const r=n[t];e[t]="object"==typeof r?el(r):r}return e}function _G(n,e){const t={};e=e??{};const r=Zu(n=n??{}),i=Zu(e),s=r.filter(o=>i.includes(o));if(s.length>0){t.changed={};for(const o of s){const a=nr(n,o),u=nr(e,o);Xo(a,u)||(t.changed=_t(t.changed,o,u))}0===Object.keys(t.changed).length&&delete t.changed}if(r.length>s.length){const o=r.filter(a=>!s.includes(a));t.removed=o.reduce((a,u)=>_t(a,u,nr(n,u)),{})}if(i.length>s.length){const o=i.filter(a=>!s.includes(a));t.added=o.reduce((a,u)=>_t(a,u,nr(e,u)),{})}return t}function Tde(n,e){e||(e=n);const t=new Date;for(const r of Zu(e)){const i=nr(e,r);"string"==typeof i?n=_t(n,r,""):"number"==typeof i?n=_t(n,r,0):"boolean"==typeof i?n=_t(n,r,!1):"bigint"==typeof i?n=_t(n,r,BigInt(0)):Array.isArray(i)?n=_t(n,r,[]):i instanceof Date?n=_t(n,r,t):"object"==typeof i&&(n=_t(n,r,new i.constructor))}return n}const Zo=n=>Bd(e=>nr(e,n),e=>e),vG=n=>Bd(Zo(n),e=>e?.value),Gs=new Map,kde=(n={})=>e=>(r,i)=>{let s=r=r??el(n);const o=i?.path;if(o){if(!Gs.has(o)||i.deferred){s=e(r,i);let a=nr(s,o);switch(i.type){case tr.UpdateForm:a=_t(a,"value",i.value);break;case tr.UpdateField:a=_t(a,`value.${i.property}`,i.value);break;case tr.ResetForm:break;case kt.UpdateStatus:a=_t(a,"status",i.status);break;case kt.UpdateErrors:a=_t(a,"errors",el(i.errors));break;case kt.UpdateDirty:a=_t(a,"dirty",i.dirty);break;case kt.AutoInit:a=_t(a,"value",i.value);break;case kt.AutoSubmit:a=_t(a,"submitted",!0)}return s=_t(s,o,a),s}{const a=Gs.get(o),u=a.peek()?.type;return a.initialized$.value?(a.enqueue(new jd(i)),s):i.type===kt.AutoInit&&u!==kt.AutoInit?(a.shift(new jd(i)),a.initialized$.next(!0),s):u===kt.AutoInit?(a.first(new jd(i)),a.initialized$.next(!0),s):(a.enqueue(new jd(i)),s)}}return s=e(r,i),s},Nde=n=>e=>(n=Object.assign({showAll:!1,showRegular:!1,showDeferred:!1,showOnlyModifiers:!0},n),(r,i)=>{const s=e(r,i),o=el(i);delete o.type;const a=o?.path??"";delete o?.path;const c=_G(a.length>0?nr(r,a):r,a.length>0?nr(s,a):s);return function t(r,i){let s=!1;return n.showRegular&&!r.deferred&&(s=!0),n.showDeferred&&r.deferred&&(s=!0),n.showOnlyModifiers&&Object.keys(i).length>0&&(s=!0),n.showAll&&(s=!0),s}(i,c)&&(console.groupCollapsed("%c%s%c",i.deferred?"color: blue;":"color: black;",i.type,"color: black;"),console.log("path: '%c%s%c', payload: %o","color: red;",a,"color: black;",o),console.log("added: %o, removed: %o, changed: %o",c.added||{},c.removed||{},c.changed||{}),console.groupEnd()),s});let $d=(()=>{class n{constructor(t,r,i,s,o){this.cdr=t,this.elRef=r,this.injector=i,this.store=s,this.actionsSubject=o,this.initialState=void 0,this.submittedState=void 0,this.destoyed=!1,this.checkStatus$=new Hr(!1),this.initialized$=new Hr(!1),this.subs={},this.blurCallback=a=>u=>{"blur"===this.updateOn&&a.path&&this.store.dispatch(gG({path:this.slice,property:a.path.join("."),value:a.value}))},this.inputCallback=a=>u=>{"change"===this.updateOn&&a.path&&this.store.dispatch(gG({path:this.slice,property:a.path.join("."),value:u}))}}ngOnInit(){this.dir=this.injector.get(kd,null)??this.injector.get(Vs,null);let t=this.injector.get(Pde,{});if(t=Object.assign(Rde,t),"string"==typeof this.config?this.slice=this.config:(t=Object.assign(t,this.config),this.slice=t.slice),this.enableQueue=t.enableQueue,this.debounceTime=t.debounceTime,this.updateOn=t.updateOn,!this.slice)throw new Error("Misuse of sync directive");if(!this.dir)throw new Error("Supported form control directive not found");this.enableQueue&&Gs.set(this.slice,new Dde),this.onSubmit$=Xi(this.elRef.nativeElement,"submit").pipe(Tn(()=>this.dir.form.valid),Ir(r=>An(this.initialized$).pipe(Tn(i=>i),Zi(1),Pt(()=>r))),In(()=>{"submit"===this.updateOn&&this.store.dispatch(Xu({path:this.slice,value:this.formValue})),this.submittedState=this.formValue,this.dir.form.dirty&&(this.dir.form.markAsPristine(),this.cdr.markForCheck())}),In(()=>this.store.dispatch(Ide({path:this.slice}))),$s(()=>!this.destoyed)),this.onUpdateField$=this.actionsSubject.pipe(Tn(r=>r&&r.type===tr.UpdateField&&r.path===this.slice),hG(this.debounceTime),Ir(r=>An(this.initialized$).pipe(Tn(i=>i),Zi(1),Pt(()=>r))),In(r=>{const s=nr(this.submittedState??this.initialState,r.property),a=r.property.split(".").reduce((l,c,d)=>l[c],this.dir.form.controls);a.setValue(r.value,{emitEvent:!1});const u=this.dir.form.dirty;s!==a.value?a.markAsDirty():a.markAsPristine(),this.dir.form.dirty!==u&&this.store.dispatch(mG({path:this.slice,dirty:this.dir.form.dirty})),a.updateValueAndValidity(),this.checkStatus$.next(!0),this.cdr.markForCheck()}),$s(()=>!this.destoyed)),this.onInitOrUpdate$=this.actionsSubject.pipe(Tn(r=>r&&[tr.UpdateForm,tr.UpdateForm,kt.AutoInit].includes(r.type)),Tn(r=>!Gs.has(this.slice)||r.deferred),In(r=>{this.dir.form.patchValue(r?.value,{emitEvent:!1});const i=this.initialized$.value,s=!!i&&!Xo(r?.value,this.submittedState??this.initialState);i||(this.initialState=r?.value,this.initialized$.next(!0)),(this.dir.form.dirty!==s||!i)&&(s?this.dir.form.markAsDirty():this.dir.form.markAsPristine(),this.store.dispatch(mG({path:this.slice,dirty:s}))),this.dir.form.updateValueAndValidity(),this.checkStatus$.next(!0),this.cdr.markForCheck()}),$s(()=>!this.destoyed)),this.onControlsChanges$=fG(()=>this.controls.changes.pipe(function yde(...n){const e=Jd(n);return Nt((t,r)=>{(e?QS(n,t,e):QS(n,t)).subscribe(r)})}(this.controls))).pipe(pG(()=>An(this.store.select(vG(this.slice))).pipe(Zi(1))),Pt(r=>r?function Cde(n,e){return Object.keys(n||{}).reduce((t,r)=>(r in(e||{})&&(t[r]=n[r]),t),{})}(r,this.formValue):this.formValue),In(()=>{this.controls.forEach(r=>{r.valueAccessor&&(r.valueAccessor.registerOnChange(this.inputCallback(r)),r.valueAccessor.registerOnTouched(this.blurCallback(r)))})}),In(r=>{this.initialized$.value||this.store.dispatch(bde({path:this.slice,value:r}))}),P$((r,i)=>r+1,0),In(r=>{r>1&&this.store.dispatch(Xu({path:this.slice,value:this.formValue}))}),$s(()=>!this.destoyed)),this.onReset$=this.actionsSubject.pipe(Tn(r=>r&&r.path===this.slice&&r.type===tr.ResetForm),Tn(r=>!Gs.has(this.slice)||r.deferred),Ir(r=>An(this.initialized$).pipe(Tn(i=>i),Zi(1),Pt(()=>r))),In(r=>{if(r.state)switch(r.state){case"initial":this.store.dispatch(Xu({path:this.slice,value:this.initialState||{}}));break;case"submitted":this.store.dispatch(Xu({path:this.slice,value:this.submittedState||{}}));break;case"blank":this.store.dispatch(Xu({path:this.slice,value:Tde(this.formValue)}))}}),$s(()=>!this.destoyed)),this.onStatusChanges$=An(this.checkStatus$).pipe(function _de(n){return Tn((e,t)=>n<=t)}(1),Pt(()=>this.dir.form.status),Ir(r=>An(this.initialized$).pipe(Tn(i=>i),Zi(1),Pt(()=>r))),Pt(r=>({status:r,errors:this.dir.form.errors})),kS((r,i)=>r.status===i.status&&Xo(r.errors,i.errors)),In(r=>{"PENDING"!==r.status&&(this.store.dispatch(wde({path:this.slice,status:r.status})),this.store.dispatch(Ede({path:this.slice,errors:r.errors})))}),$s(()=>!this.destoyed)),this.onActionQueued$=Ud(this.enableQueue).pipe(Tn(r=>r),pG(()=>Gs.get(this.slice)?.updated$||Ud(null)),Tn(r=>null!==r),ra(eu),In(r=>{if(r.initialized$.value)for(;r.length>0;)this.store.dispatch(r.dequeue())}),$s(()=>document.contains(this.elRef.nativeElement)),function vde(n){return Nt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{const r=Gs.get(this.slice);if(r.initialized$.value){for(;r.length>0;)this.store.dispatch(r.dequeue());this.store.dispatch(new jd(yG({path:this.slice})))}Gs.delete(this.slice)}))}ngAfterContentInit(){const t=setTimeout(()=>{this.subscribe(),clearTimeout(t)},0)}ngOnDestroy(){this.enableQueue||this.store.dispatch(yG({path:this.slice}));for(const t of Object.keys(this.subs))this.subs[t].unsubscribe();this.checkStatus$.complete(),this.initialized$.complete(),this.destoyed=!0}subscribe(){this.subs.a=this.onActionQueued$.subscribe(),this.subs.b=this.onStatusChanges$.subscribe(),this.subs.c=this.onUpdateField$.subscribe(),this.subs.d=this.onInitOrUpdate$.subscribe(),this.subs.e=this.onSubmit$.subscribe(),this.subs.f=this.onReset$.subscribe(),this.subs.g=this.onControlsChanges$.subscribe()}get activeControl(){const t=document.activeElement;if(t)return this.controls.find(r=>r.valueAccessor?._elementRef?.nativeElement===t)}get formValue(){if(!this.controls)return{};let t={};for(const r of this.controls.toArray())r.path&&(t=_t(t,r.path.join("."),r.value));return t}get formStatus(){return this.dir.form.status}}return n.\u0275fac=function(t){return new(t||n)(I(uf,10),I(Ct,10),I(zt),I(Jo),I(Yo))},n.\u0275dir=K({type:n,selectors:[["form","ngync","",3,"ngNoForm","",3,"formGroup",""],["ng-form","ngync",""],["","ngForm","","ngync",""],["","formGroup","","ngync",""]],contentQueries:function(t,r,i){if(1&t&&function IN(n,e,t,r){const i=_e();if(i.firstCreatePass){const s=Et();CN(i,new EN(e,t,r),s.index),function Z9(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}DN(i,D(),t)}(i,mi,5),2&t){let s;za(s=qa())&&(r.controls=s)}},inputs:{config:["ngync","config"]},exportAs:["ngync"]}),n})();const Pde=new O("NGYNC_CONFIG_TOKEN"),Rde={debounceTime:100,updateOn:"change",enableQueue:!0};let Ode=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Rt({providers:[$d],imports:[iS,lG]}),n})();const Lde={provide:it,useExisting:Te(()=>XS)},Vde=()=>new Promise(n=>{Object.assign(xd.prototype,{_checkParentType(){}}),n(!0)});let XS=(()=>{class n extends it{constructor(t,r,i){super(),this.name=null,this._parent=t,this.form=new tm([]),this.form.setValidators(this.normalizeValidators(r)),this.form.setAsyncValidators(this.normalizeValidators(i)),Object.assign(this.form,(n=>({registerControl:(e,t)=>(t.setParent(n),n.setControl(+e,t),t._registerOnCollectionChange(n._onCollectionChange),t),registerOnChange:e=>{n.controls.forEach(t=>{Object.prototype.hasOwnProperty.call(t,"_onChange")&&t._onChange.push(e)})},registerOnDisabledChange:e=>{Object.prototype.hasOwnProperty.call(n,"_onDisabledChange")&&n._onDisabledChange.push(e)},addControl:(e,t,r={})=>{n.registerControl(e,t),n.updateValueAndValidity(r),n._onCollectionChange()},contains:e=>n&&n.controls&&Object.prototype.hasOwnProperty.call(n.controls,e)&&n.controls[e].enabled,removeControl:(e,t={})=>{n[e]&&n[e]._registerOnCollectionChange(()=>{}),n.removeAt(+e),n.updateValueAndValidity(t),n._onCollectionChange()}}))(this.form))}ngOnInit(){const r=this._parent.formDirective._findContainer(this.path),i=this.form;r?.registerControl(this.name,i),i.updateValueAndValidity({emitEvent:!1})}ngOnDestroy(){this._parent.formDirective._findContainer(this.path)?.removeControl(this.name)}get control(){return this._parent.formDirective.form.get(this.path)}get formDirective(){return this._parent.formDirective}get path(){if(null==this._parent.path||null==this.name)throw new Error("Control path or name is null");return[...this._parent.path,this.name.toString()]}get ngForm(){let t=this._parent.formDirective;for(;!(t instanceof Vs);)t=t.formDirective;return t}addControl(t){this.control.controls.includes(t.control)||(this._parent.formDirective._findContainer(t.path)?.addControl(t.name,t.control),this.ngForm._directives.add(t))}removeControl(t){this._parent.formDirective._findContainer(t.path)?.removeControl(t.name,t.control)}normalizeValidators(t){return(t||[]).map(r=>r.validate?i=>r.validate(i):r)}}return n.\u0275fac=function(t){return new(t||n)(I(it,13),I(xt,10),I(Gr,10))},n.\u0275dir=K({type:n,selectors:[["","ngModelArray",""]],inputs:{name:["ngModelArray","name"]},features:[ke([Lde]),ve]}),n})(),Bde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Rt({providers:[{provide:lv,useFactory:()=>Vde,multi:!0}],imports:[iS]}),n})();const wG_firebase={projectId:"ngync-387716",appId:"1:447654901968:web:95337928ced6c0da5b86d5",storageBucket:"ngync-387716.appspot.com",apiKey:"AIzaSyC_6inEuGbsjWsDORjZ7o3tgM29MCMeuYs",authDomain:"ngync-387716.firebaseapp.com",messagingSenderId:"447654901968"};function ZS(n,e){return ge(e)?Ir(n,e,1):Ir(n,1)}const bm=sS("occurence",[Yu("void => *",[Ln({opacity:0,width:0}),Qu("0.5s",Ln({opacity:1,width:_r}))]),Yu("* => void",[Ln({opacity:1,width:_r}),Qu("0.5s",Ln({opacity:0,width:0}))])]),Ude=sS("messenger",[Yu("void => *",[Ln({opacity:0,width:0}),Qu("0.5s",Ln({opacity:1,width:_r}))]),Yu("* => void",[Ln({opacity:1}),Qu("0.5s",Ln({opacity:0}))])]),jde=sS("walter",[Yu("void => *",[Ln({transform:"translateX(100%)"}),Qu("0.5s",Ln({transform:"translateX(0)"}))]),Yu("* => void",[Ln({transform:"translateX(0)",display:"block"}),Qu("0.5s",Ln({transform:"translateX(100%)",display:"none"}))])]);function EG(n,e){return e?t=>QS(e.pipe(Zi(1),function Gde(){return Nt((n,e)=>{n.subscribe(wt(e,ta))})}()),t.pipe(EG(n))):Ir((t,r)=>Zt(n(t,r)).pipe(Zi(1),function Hde(n){return Pt(()=>n)}(t)))}function qde(n,e){if(1&n){const t=Ba();T(0,"div",2),de("@messenger.done",function(i){return ca(t),da(ur().animationDone(i))}),T(1,"p"),Ce(2,"img",3),T(3,"span"),R(4),cr(5,"async"),S()()()}if(2&n){const t=ur();L_("background-color",t.data.color),ee("@messenger",void 0),q(2),ee("src",t.data.photo,Ny),q(2),lr(dr(5,5,t.message$))}}let Wde=(()=>{class n{constructor(t,r){this.modalService=t,this.el=r,this.id="default-modal",this.data={},this.written$=new Hr(!1),this.destroyed$=new Hr(!1),this.element=r.nativeElement}ngOnInit(){this.id=this.data.id,this.message$=Ud(this.data).pipe(ZS(t=>{let r="";return KS(0,90).pipe(In(i=>r+=t.text.charAt(i)),$s(i=>i<=t.text.length&&!1===this.destroyed$.value),ZS(i=>function $de(n,e,t){return fG(()=>n()?e:t)}(()=>i<t.text.length,Ud(i),Ud(i).pipe(function zde(n,e=eu){const t=KS(n,e);return EG(()=>t)}(4500),In(()=>this.written())))),Pt(()=>r))})),document.addEventListener("click",t=>{t.target.className.includes("modal")&&this.modalService.close(this.element)})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete(),this.written$.next(!0),this.written$.complete()}written(){this.written$.next(!0),this.written$.complete()}animationDone(t){"void"===t.toState&&this.modalService.close(this.element)}}return n.\u0275fac=function(t){return new(t||n)(I(bG),I(Ct))},n.\u0275cmp=Ei({type:n,selectors:[["messenger"]],inputs:{id:"id",data:"data"},decls:2,vars:1,consts:[[1,"modal"],["class","modal-body",3,"backgroundColor",4,"ngIf"],[1,"modal-body"],["alt","messenger",3,"src"]],template:function(t,r){1&t&&(T(0,"div",0),sn(1,qde,6,7,"div",1),S()),2&t&&(q(1),ee("ngIf",!r.written$.value))},dependencies:[hs,Qa],styles:["messenger .modal{display:flex;justify-content:center;align-items:center;position:fixed;border-radius:3px}messenger .modal-body{padding:20px;color:#fff;border-radius:3px;text-align:start;width:600px;-webkit-user-select:none;user-select:none}messenger .modal-body p{display:inline-flex;font-size:3rem;font-weight:800;line-height:.8;margin:0}messenger .modal-body img{display:inline;width:100px;height:100px;margin-right:20px}\n"],encapsulation:2,data:{animation:[Ude]}}),n})(),bG=(()=>{class n{set(t){this.viewContainerRef=t}open(t){const r=this.viewContainerRef.createComponent(Wde);return r.instance.data=t,this.viewContainerRef.insert(r.hostView),r.instance}pop(){0!==this.viewContainerRef.length&&this.viewContainerRef.remove(0)}close(t){for(let r=0;r<this.viewContainerRef.length;r++)if(this.viewContainerRef.get(r).rootNodes.some(s=>s===t)){this.viewContainerRef.remove(r);break}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Kde extends Ws{constructor(e=1/0,t=1/0,r=JE){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}function eA(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,kA({connector:()=>new Kde(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const Im={form:{value:{bookmark:!1,firstName:"Ian",lastName:"Fleming",address:{street:"Mayfair",city:"London",state:"England",zip:"W1J"},selected:0,quotes:"\u275d Never say 'no' to adventures. Always say 'yes,' otherwise, you'll lead a very dull life.\n  \u275d The distance between insanity and genius is measured only by success.\n  \u275d A woman can put up with almost anything; anything but indifference.\n  \u275d I think it's the same with all the relationships between a man and a woman. They can survive anything so long as some kind of basic humanity exists between the two people. When all kindness has gone, when one person obviously and sincerely doesn't care if the other is alive or dead, then it's just no good.\n  \u275d Everyone has the revolver of resignation in his pocket.",aliases:[""]}},books:["Casino Royale","Live and Let Die","Moonraker","Diamonds Are Forever","From Russia, with Love","Dr. No","Goldfinger","For Your Eyes Only","Thunderball","The Spy Who Loved Me","On Her Majesty's Secret Service","You Only Live Twice"],collapsed:!0},Qde={bookmark:{},firstName:{},lastName:{},address:{street:{},city:{},state:{},zip:{}},selected:{},quotes:{},aliases:{}},Gd={form:{value:{firstName:"James",lastName:"Bond",address:{street:"",city:"Ao Phang Nga National Park",state:"Phangnga",zip:"82130"},aliases:["Mr Fisher","Robert Sterling","St. John Smyth"]}},collapsed:!0},Dm={form:{value:{firstName:"Dominique",lastName:"Derval",address:{street:"",city:"Nassau",state:"The Bahamas, New Providence Island",zip:"00000"},aliases:["Domino"]}},collapsed:!0};var tA=Vn(154);const IG={profile:Im,hero:Gd,model:Dm},DG={profile:function Xde(n=Im,e){return n},hero:function Jde(n=Gd,e){return n},model:function Zde(n=Dm,e){return n}},ehe=VS(function Yde(n){return function(t,r){tA(t=t||{}),r.payload&&tA(r.payload);var i=n(t,r);return tA(i),i}},Vd)(DG);Vd(DG);function rhe(n=IG,e){return ehe(n,e)}const nA=n=>Bd(e=>nr(e,n),e=>e),rA=zr("@ngrx/store/slice/property/update",{_as:"props",_p:void 0}),Hd=new zj;function iA(n,e={}){if((n=>null==n||"object"!=typeof n)(n))return Hd.control(n,e);const t=Array.isArray(n)?Hd.array([],e.__group||{}):"object"==typeof n?Hd.group({},e.__group||{}):Hd.control(n,e);if("string"!=typeof t)for(const r in n){const i=n[r],s=Array.isArray(i)||"object"==typeof i?iA(i,e[r]||{}):Hd.control(i,e[r]||{});t instanceof Wu?t.addControl(r,s):t instanceof tm&&t.push(s)}return t}function she(n,e){if(1&n){const t=Ba();T(0,"button",2),de("click",function(){ca(t);const i=ur();return da(i.toggle(i.collapsed))}),R(1,"Expand"),S()}}function ohe(n,e){if(1&n){const t=Ba();T(0,"button",2),de("click",function(){ca(t);const i=ur();return da(i.toggle(i.collapsed))}),R(1,"Collapse"),S()}}let sA=(()=>{class n{constructor(){this.JSON=JSON,this.changes="",this.changes$=new Hr(this.changes),this.changesWithDelay$=this.changes$.pipe(hG(150)),this.data={},this.collapsed=!0,this.collapsedChange=new Tt}ngOnChanges(t){const r=t.data?.previousValue??{},i=t.data?.currentValue??{};if(Xo(r,i))return;const s=_G(r,i);let o="";if(s.changed){o="Changed: ";const a=Zu(s.changed);for(const u of a)o+=`<b>${u}</b> (${nr(s.changed,u)}), `;o=o.replace(/, $/,"<br/>")}s.removed&&(o+="Removed: ",Zu(s.removed).forEach(a=>o+=`<b>${a}</b>, `),o=o.replace(/, $/,"<br/>")),s.added&&(o+="Added: ",Zu(s.added).forEach(a=>o+=`<b>${a}</b>, `),o=o.replace(/, $/,"<br/>")),o=o.replace(/<br\/>$/,""),this.changes=`<span>${o}</span>`,this.data=t.data.currentValue,this.changes$.next(this.changes)}toggle(t){this.collapsed=!t,this.collapsedChange.emit(this.collapsed)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ei({type:n,selectors:[["json-editor"]],inputs:{data:"data",collapsed:"collapsed"},outputs:{collapsedChange:"collapsedChange"},features:[Qr],decls:5,vars:5,consts:[[3,"innerHTML"],[3,"click",4,"ngIf"],[3,"click"]],template:function(t,r){1&t&&(T(0,"header"),Ce(1,"div",0),cr(2,"async"),sn(3,she,2,0,"button",1),sn(4,ohe,2,0,"button",1),S()),2&t&&(q(1),ee("innerHTML",dr(2,3,r.changesWithDelay$),zM),q(2),ee("ngIf",r.collapsed),q(1),ee("ngIf",!r.collapsed))},dependencies:[hs,Qa],styles:["[_nghost-%COMP%]{display:grid}header[_ngcontent-%COMP%]{overflow:hidden;display:flex;justify-content:space-between;align-items:center;gap:20px;padding:20px;border-style:dashed;border-width:1px}header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex:1;justify-content:flex-start;overflow:hidden;position:relative;width:100%;height:100%}header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]    >span{position:absolute;top:0;left:0;width:100%;height:100%;padding:0;margin:0;display:block;text-align:start;overflow:visible;background:-webkit-linear-gradient(45deg,#09009f,#226112 50%,#ff3300 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}  header div span:last-child{animation:2s animate-text ease forwards}@keyframes animate-text{0%{text-shadow:1px 8px 8px rgba(0,0,0,.5)}50%{text-shadow:1px 0 0 rgba(0,0,0,0)}to{text-shadow:1px 0 0 rgba(0,0,0,0)}}header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0}.author[_nghost-%COMP%]   header[_ngcontent-%COMP%], .author   [_nghost-%COMP%]   header[_ngcontent-%COMP%], .agent[_nghost-%COMP%]   header[_ngcontent-%COMP%], .agent   [_nghost-%COMP%]   header[_ngcontent-%COMP%]{border-color:#908e8d}.model[_nghost-%COMP%]   header[_ngcontent-%COMP%], .model   [_nghost-%COMP%]   header[_ngcontent-%COMP%]{border-color:#e7c18d}"]}),n})();function ahe(n,e){if(1&n&&(T(0,"pre"),R(1),cr(2,"json"),cr(3,"async"),S()),2&n){const t=ur();ee("@occurence",void 0),q(1),lr(dr(2,2,dr(3,4,t.profile$)))}}function uhe(n,e){if(1&n&&(T(0,"option",32),R(1),S()),2&n){const t=e.$implicit;ee("value",e.index),q(1),lr(t)}}function lhe(n,e){if(1&n&&(T(0,"div")(1,"label",33),R(2,"Alias:"),S(),Ce(3,"input",34),S()),2&n){const t=e.index;q(1),ki("for","aliases.",t,""),q(2),ki("id","aliases.",t,""),Fl("formControlName",t)}}const che=function(){return{display:"none"}};let dhe=(()=>{class n{constructor(t,r,i,s){this.fb=t,this.store=r,this.elementRef=i,this.ngZone=s,this.caption="",this.slice="profile",this.formCast="profile.form",this.profileForm=iA(Im.form.value,Qde),this.form=this.profileForm,this._collapsed=!0}get books(){return Im.books}get aliases(){return this.profileForm.controls.aliases.controls}set collapsed(t){this._collapsed=t,this.store.dispatch(rA({value:t,path:this.slice,property:"collapsed"}))}get collapsed(){return this._collapsed}ngAfterViewInit(){this.collapsed=!0,this.profile$=this.store.select(nA(this.slice)).pipe(eA());const t=this.elementRef.nativeElement.querySelector(".scrollable");this.b=Zd(Xi(window,"resize"),Xi(t,"scroll")).subscribe(r=>{t.style.height=window.innerHeight-t.offsetTop-60+"px"}),window.dispatchEvent(new Event("resize"))}addAlias(){this.aliases.push(this.fb.control(""))}addToBookmark(t){const r=t;r.checked=!r.checked;const i=r.checked;this.profileForm.get("bookmark")?.setValue(i)}onSelectChange(t){const r=+t.target.value;this.profileForm.get("selected")?.setValue(r)}onSubmit(){this.form?.valid&&alert("Form submitted successfully")}ngOnDestroy(){this.b.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(I(zj),I(Jo),I(Ct),I(He))},n.\u0275cmp=Ei({type:n,selectors:[["reactive-profile-editor"]],hostVars:2,hostBindings:function(t,r){2&t&&kr("collapsed",r.collapsed)},inputs:{caption:"caption"},decls:67,vars:15,consts:[[3,"data","collapsed","collapsedChange"],[1,"scrollable"],[4,"ngIf"],["autocomplete","off",3,"formGroup","ngync"],[1,"bookmark"],[3,"click"],["for","bookmark",3,"ngStyle"],["id","bookmark","type","checkbox","checked","checked","formControlName","bookmark",1,"checkbox",3,"click"],["bookmark",""],["for","firstName"],["id","firstName","type","text","formControlName","firstName"],["for","lastName"],["id","lastName","type","text","formControlName","lastName"],["formGroupName","address"],["for","street"],["id","street","type","text","formControlName","street"],["for","city"],["id","city","type","text","formControlName","city"],["for","state"],["id","state","type","text","formControlName","state"],["for","zip"],["id","zip","type","text","formControlName","zip"],["for","quotes"],["id","quotes","formControlName","quotes"],["for","books"],["id","books","formControlName","selected",3,"change"],[3,"value",4,"ngFor","ngForOf"],["formArrayName","aliases"],["type","button",3,"click"],[4,"ngFor","ngForOf"],["type","submit",3,"disabled","click"],["href","https://www.linkedin.com/in/oleksii-shepel-5b6968250/"],[3,"value"],[3,"for"],["type","text",3,"id","formControlName"]],template:function(t,r){if(1&t){const i=Ba();Mi(0),T(1,"json-editor",0),de("collapsedChange",function(o){return r.collapsed=o}),cr(2,"async"),S(),T(3,"div",1)(4,"main"),sn(5,ahe,4,6,"pre",2),T(6,"form",3)(7,"h2"),R(8),S(),T(9,"div",4)(10,"a",5),de("click",function(){ca(i);const o=Hh(14);return da(r.addToBookmark(o))}),T(11,"label",6),R(12,"Bookmark"),S(),T(13,"input",7,8),de("click",function(o){return r.addToBookmark(o.target)}),S(),T(15,"span"),R(16,"Add to bookmarks"),S()()(),T(17,"label",9),R(18,"First Name: "),S(),Ce(19,"input",10),T(20,"label",11),R(21,"Last Name: "),S(),Ce(22,"input",12),T(23,"div",13)(24,"h2"),R(25,"Address"),S(),T(26,"label",14),R(27,"Street: "),S(),Ce(28,"input",15),T(29,"label",16),R(30,"City: "),S(),Ce(31,"input",17),T(32,"label",18),R(33,"State: "),S(),Ce(34,"input",19),T(35,"label",20),R(36,"Zip Code: "),S(),Ce(37,"input",21),S(),T(38,"div")(39,"label",22),R(40,"Quotes: "),S(),Ce(41,"textarea",23),T(42,"label",24),R(43,"Books: "),S(),T(44,"select",25),de("change",function(o){return r.onSelectChange(o)}),sn(45,uhe,2,2,"option",26),S()(),T(46,"div",27)(47,"h2"),R(48,"Aliases"),S(),T(49,"button",28),de("click",function(){return r.addAlias()}),R(50,"+ Add another alias"),S(),sn(51,lhe,4,3,"div",29),S(),T(52,"p"),R(53,"Complete the form to enable button."),S(),T(54,"button",30),de("click",function(){return r.onSubmit()}),R(55,"Submit"),S()()(),T(56,"footer"),Ce(57,"hr"),T(58,"p"),R(59,"\xa9 2023 James Bond. All rights reserved."),S(),T(60,"p"),R(61,"Disclaimer: This project is not affiliated with the James Bond franchise. All rights belong to their respective owners."),S(),T(62,"p"),R(63,"The project is not commercial. All information provided is found on the Internet on public servers. Created by "),T(64,"a",31),R(65,"Oleksii Shepel"),S(),R(66," in 2023."),S()()(),xi()}2&t&&(q(1),ee("data",dr(2,12,r.profile$))("collapsed",r.collapsed),q(2),kr("collapsed",r.collapsed),q(2),ee("ngIf",!r.collapsed),q(1),ee("formGroup",r.profileForm)("ngync",r.formCast),q(2),lr(r.caption),q(3),ee("ngStyle",function hN(n,e,t){const r=gn()+n,i=D();return i[r]===se?ei(i,r,t?e.call(t):e()):function Ol(n,e){return n[e]}(i,r)}(14,che)),q(34),ee("ngForOf",r.books),q(6),ee("ngForOf",r.aliases),q(3),ee("disabled",!r.profileForm.valid))},dependencies:[bf,hs,RP,Jg,xj,Nj,zo,BT,em,GT,$g,kd,tS,Xg,Zg,$d,sA,Qa,Df],styles:['form[_ngcontent-%COMP%]{padding-top:0rem}label[_ngcontent-%COMP%]{display:block;margin:.5em 0;font-weight:700}.ng-invalid[_ngcontent-%COMP%]:not(.ng-untouched){border-color:red}.bookmark[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.bookmark[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{display:inline-block;margin-right:.5rem;z-index:0}[_nghost-%COMP%]{display:grid;align-items:flex-start;gap:20px;grid-template-columns:100%;grid-template-areas:"header" "main"}json-editor[_ngcontent-%COMP%]{margin-top:20px;grid-area:header}.scrollable[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;overflow:auto;margin:0rem -2rem -1rem;padding:0 12px 0 20px;align-items:center;justify-content:stretch;position:relative}main[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:stretch;gap:20px;background-color:#7777774d;padding:30px;width:100%}main[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{order:1;position:relative;flex:1 0 auto}main[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{flex:1.5 0;order:2;border-radius:0;position:relative;top:0;left:0;margin:0;height:100%;overflow:auto}main[_ngcontent-%COMP%]:not(:has(pre)){max-width:500px}footer[_ngcontent-%COMP%]{grid-area:footer;display:flex;flex-direction:column;margin-top:0}*[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}*[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#dbdbdb;border-radius:100px}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#908e8d;border-radius:100px}'],data:{animation:[bm]},changeDetection:0}),n})();const hhe=sl(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function CG(n,e){const t="object"==typeof e;return new Promise((r,i)=>{const s=new na({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new hhe)}});n.subscribe(s)})}let phe=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(I(cs),I(Ct))},n.\u0275dir=K({type:n,selectors:[["base-control-value-accessor"]]}),n})(),ghe=(()=>{class n extends phe{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=bt(n)))(r||n)}}(),n.\u0275dir=K({type:n,selectors:[["built-in-control-value-accessor"]],features:[ve]}),n})();function Cm(n,e){const t=function yhe(n){const e=n.path;return e&&e.length>1?`path: '${e.join(" -> ")}'`:e?.[0]?`name: '${e}'`:"unspecified name attribute"}(n);throw new Error(`${e} ${t}`)}const vhe=new O("CallSetDisabledState",{providedIn:"root",factory:()=>whe}),whe="always";function TG(n){return null!=n?function Ihe(n){if(!n)return null;const e=n.filter(AG);return 0==e.length?null:function(t){return xG(MG(t,e))}}(SG(n)):null}function SG(n){return n.map(e=>function bhe(n){return!n.validate}(e)?e:t=>e.validate(t))}function AG(n){return null!=n}function MG(n,e){return e.map(t=>t(n))}function xG(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function kG(n){return null!=n?function Dhe(n){if(!n)return null;const e=n.filter(AG);return 0==e.length?null:function(t){return UU(MG(t,e).map(Che)).pipe(Pt(xG))}}(SG(n)):null}function Che(n){const e=function The(n){return!!n&&"function"==typeof n.then}(n)?An(n):n;if(!function Ehe(n){return!!n&&(n instanceof $e||ge(n.lift)&&ge(n.subscribe))}(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new Error(t)}return e}const She={provide:mi,useExisting:Te(()=>NG)};let NG=(()=>{class n extends xd{constructor(t,r,i,s,o,a,u){super(t,i,s,o,a),this.name="",this.update=new Tt,this.viewModel=void 0,this._destroyed$=new Ws,this._parent=t,this._ngStore=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function mhe(n,e){if(!e)return null;let t,r,i;return Array.isArray(e)||Cm(n,"Value accessor was not provided as an array for form control with.Check that the `NG_VALUE_ACCESSOR` token is configured as a `multi: true` provider."),e.forEach(s=>{s.constructor===zo?t=s:function _he(n){return Object.getPrototypeOf(n.constructor)===ghe}(s)?(r&&Cm(n,"More than one built-in value accessor matches form control with"),r=s):(i&&Cm(n,"More than one custom value accessor matches form control with"),i=s)}),i||r||t||(Cm(n,"No valid value accessor for form control with"),null)}(this,o),this.control=new Ku(""),this.control.setValidators(this._composedValidator),this.control.setAsyncValidators(this._composedAsyncValidator),this.control.setParent(this.formDirective.control),Object.assign(this,{_checkForErrors:()=>{},_checkParentType:()=>{},_checkName:()=>{}})}onChange(t){this.valueAccessor?.onChange(t),this.control.setValue(t),this.viewToModelUpdate(t)}onTouched(){this.valueAccessor?.onTouched(),this.control.markAsTouched()}onEnter(){}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}ngOnInit(){this._ngStore?.store.select(t=>t).pipe(kS(),function fhe(n){return Nt((e,t)=>{Zt(n).subscribe(wt(t,()=>t.complete(),ta)),!t.closed&&e.subscribe(t)})}(this._destroyed$),Pt(t=>vG(this._ngStore.slice)(t))).subscribe(t=>{const r=nr(t,this.path.join("."));this.valueAccessor?.writeValue(r),this.control.setValue(r)}),this.formDirective.addControl(this)}ngOnDestroy(){this.formDirective.removeControl(this),this._destroyed$.next(!0),this._destroyed$.complete()}setParent(t){this._parent=t}registerOnChange(t){this.control.hasOwnProperty("_onChange")&&this.control._onChange.push(t)}get formDirective(){return this._parent}get path(){return[...this._parent.path,this.name.toString()]}_registerOnCollectionChange(t){this.control.hasOwnProperty("_onCollectionChange")&&(this.control._onCollectionChange=t)}_setValidators(t){this._rawValidators=t||[],this._composedValidator=TG(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidator=kG(this._rawAsyncValidators)}}return n.\u0275fac=function(t){return new(t||n)(I(it,9),I($d,9),I(xt,10),I(Gr,10),I(yr,10),I(uf,8),I(vhe,8))},n.\u0275dir=K({type:n,selectors:[["","ngField","",3,"formControlName","",3,"formControl",""]],hostBindings:function(t,r){1&t&&de("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})("keydown.enter",function(){return r.onEnter()})},inputs:{name:["ngField","name"]},outputs:{update:"ngFieldChange"},exportAs:["ngField"],features:[ke([She,[{provide:yr,useClass:zo,multi:!0}]]),ve]}),n})();const Ahe={provide:it,useExisting:Te(()=>PG)};let PG=(()=>{class n extends XS{constructor(){super(...arguments),this.name=""}ngOnInit(){super.ngOnInit()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=bt(n)))(r||n)}}(),n.\u0275dir=K({type:n,selectors:[["","ngFieldArray",""]],inputs:{name:["ngFieldArray","name"]},exportAs:["ngFieldArray"],features:[ke([Ahe]),ve]}),n})();const Mhe={provide:it,useExisting:Te(()=>RG)};let RG=(()=>{class n extends XT{constructor(t,r,i){super(),this.name="",this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.form=new Wu({}),this.form.setValidators(this._composedValidator),this.form.setAsyncValidators(this._composedAsyncValidator)}_checkParentType(){}ngOnInit(){this._parent.formDirective._findContainer(this.path)?.registerControl(this.name,this.form)}ngOnDestroy(){this._parent.formDirective._findContainer(this.path)?.removeControl(this.name)}get control(){return this._parent.formDirective.form.get(this.path)}get formDirective(){return this._parent.formDirective}get path(){return[...this._parent.path,this.name.toString()]}get ngForm(){let t=this._parent.formDirective;for(;!(t instanceof Vs);)t=t.formDirective;return t}addControl(t){this._parent.formDirective._findContainer(t.path)?.addControl(t.name,t.control),this.ngForm._directives.add(t)}removeControl(t){this._parent.formDirective._findContainer(t.path)?.removeControl(t.name,t.control)}_setValidators(t){this._rawValidators=t||[],this._composedValidator=TG(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidator=kG(this._rawAsyncValidators)}}return n.\u0275fac=function(t){return new(t||n)(I(it,5),I(xt,10),I(Gr,10))},n.\u0275dir=K({type:n,selectors:[["","ngFieldGroup",""]],inputs:{name:["ngFieldGroup","name"]},exportAs:["ngFieldGroup"],features:[ke([Mhe]),ve]}),n})();const xhe=["heroForm"];function khe(n,e){if(1&n&&(T(0,"pre"),R(1),cr(2,"json"),cr(3,"async"),S()),2&n){const t=ur();ee("@occurence",void 0),q(1),lr(dr(2,2,dr(3,4,t.profile$)))}}function Nhe(n,e){if(1&n&&(T(0,"div")(1,"label",23),R(2,"Alias:"),S(),Ce(3,"input",24),S()),2&n){const t=e.index;q(1),ki("for","aliases.",t,""),q(2),ki("id","aliases.",t,""),Fl("ngField",t)}}let Phe=(()=>{class n{constructor(t,r){this.store=t,this.elementRef=r,this.form=null,this.caption="",this.slice="hero",this.formCast="hero.form",this.model=Gd.form.value,this._collapsed=!0}set collapsed(t){this._collapsed=t,this.store.dispatch(rA({value:t,path:this.slice,property:"collapsed"}))}get collapsed(){return this._collapsed}ngAfterViewInit(){var t=this;return y(function*(){const r=yield CG(t.store.select(Zo(t.formCast)));r||(t.store.dispatch(Xu({value:Gd.form.value,path:`${t.formCast}.value`})),t.collapsed=!0),t.model=r?el(r.value):Gd.form.value,t.profile$=t.store.select(nA(t.slice)).pipe(eA());const i=t.elementRef.nativeElement.querySelector(".scrollable");t.b=Zd(Xi(window,"resize"),Xi(i,"scroll")).subscribe(s=>{i.style.height=window.innerHeight-i.offsetTop-60+"px"}),window.dispatchEvent(new Event("resize"))})()}addAlias(){this.model.aliases.push("")}trackById(t,r){return t}onSubmit(){}ngOnDestroy(){}}return n.\u0275fac=function(t){return new(t||n)(I(Jo),I(Ct))},n.\u0275cmp=Ei({type:n,selectors:[["template-profile-editor"]],viewQuery:function(t,r){if(1&t&&Wl(xhe,5),2&t){let i;za(i=qa())&&(r.form=i.first)}},hostVars:2,hostBindings:function(t,r){2&t&&kr("collapsed",r.collapsed)},inputs:{caption:"caption"},decls:52,vars:12,consts:[[3,"data","collapsed","collapsedChange"],[1,"scrollable"],[4,"ngIf"],["autocomplete","off",3,"ngync"],["heroForm","ngForm"],["for","firstName"],["id","firstName","type","text","ngField","firstName"],["for","lastName"],["id","lastName","type","text","ngField","lastName"],["ngFieldGroup","address"],["for","street"],["id","street","type","text","ngField","street"],["for","city"],["id","city","type","text","ngField","city"],["for","state"],["id","state","type","text","ngField","state"],["for","zip"],["id","zip","type","text","ngField","zip"],["ngFieldArray","aliases"],["type","button",3,"click"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","submit",3,"disabled","click"],["href","https://www.linkedin.com/in/oleksii-shepel-5b6968250/"],[3,"for"],["type","text",3,"id","ngField"]],template:function(t,r){if(1&t&&(Mi(0),T(1,"json-editor",0),de("collapsedChange",function(s){return r.collapsed=s}),cr(2,"async"),S(),T(3,"div",1)(4,"main"),sn(5,khe,4,6,"pre",2),T(6,"form",3,4)(8,"h2"),R(9),S(),T(10,"label",5),R(11,"First Name: "),S(),Ce(12,"input",6),T(13,"label",7),R(14,"Last Name: "),S(),Ce(15,"input",8),T(16,"div",9)(17,"h2"),R(18,"Address"),S(),T(19,"label",10),R(20,"Street: "),S(),Ce(21,"input",11),T(22,"label",12),R(23,"City: "),S(),Ce(24,"input",13),T(25,"label",14),R(26,"State: "),S(),Ce(27,"input",15),T(28,"label",16),R(29,"Zip Code: "),S(),Ce(30,"input",17),S(),T(31,"div",18)(32,"h2"),R(33,"Aliases"),S(),T(34,"button",19),de("click",function(){return r.addAlias()}),R(35,"+ Add another alias"),S(),sn(36,Nhe,4,3,"div",20),S(),T(37,"p"),R(38,"Complete the form to enable button."),S(),T(39,"button",21),de("click",function(){return r.onSubmit()}),R(40,"Submit"),S()()(),T(41,"footer"),Ce(42,"hr"),T(43,"p"),R(44,"\xa9 2023 James Bond. All rights reserved."),S(),T(45,"p"),R(46,"Disclaimer: This project is not affiliated with the James Bond franchise. All rights belong to their respective owners."),S(),T(47,"p"),R(48,"The project is not commercial. All information provided is found on the Internet on public servers. Created by "),T(49,"a",22),R(50,"Oleksii Shepel"),S(),R(51," in 2023."),S()()(),xi()),2&t){const i=Hh(7);q(1),ee("data",dr(2,10,r.profile$))("collapsed",r.collapsed),q(2),kr("collapsed",r.collapsed),q(2),ee("ngIf",!r.collapsed),q(1),ee("ngync",r.formCast),q(3),lr(r.caption),q(27),ee("ngForOf",r.model.aliases)("ngForTrackBy",r.trackById),q(3),ee("disabled",!i.form.valid)}},dependencies:[bf,hs,Jg,$g,Vs,$d,NG,PG,RG,sA,Qa,Df],styles:['form[_ngcontent-%COMP%]{padding-top:0rem}label[_ngcontent-%COMP%]{display:block;margin:.5em 0;font-weight:700}.ng-invalid[_ngcontent-%COMP%]:not(.ng-untouched){border-color:red}[_nghost-%COMP%]{display:grid;align-items:flex-start;gap:20px;grid-template-columns:100%;grid-template-areas:"header" "main"}json-editor[_ngcontent-%COMP%]{margin-top:20px;grid-area:header}.scrollable[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;overflow:auto;margin:0rem -2rem -1rem;padding:0 12px 0 20px;align-items:center;justify-content:stretch;position:relative}main[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:stretch;gap:20px;background-color:#7777774d;padding:30px;width:100%}main[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{order:1;position:relative;flex:1 0 auto}main[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{flex:1.5 0;order:2;border-radius:0;position:relative;top:0;left:0;margin:0;height:100%;overflow:auto}main[_ngcontent-%COMP%]:not(:has(pre)){max-width:500px}footer[_ngcontent-%COMP%]{grid-area:footer;display:flex;flex-direction:column;margin-top:0}*[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}*[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#dbdbdb;border-radius:100px}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#908e8d;border-radius:100px}'],data:{animation:[bm]},changeDetection:0}),n})();const Rhe=["modelForm"];function Ohe(n,e){if(1&n&&(T(0,"pre"),R(1),cr(2,"json"),cr(3,"async"),S()),2&n){const t=ur();ee("@occurence",void 0),q(1),lr(dr(2,2,dr(3,4,t.profile$)))}}function Fhe(n,e){if(1&n){const t=Ba();T(0,"div")(1,"label",23),R(2,"Alias:"),S(),T(3,"input",24),de("ngModelChange",function(i){const o=ca(t).index;return da(ur().model.aliases[o]=i)}),S()()}if(2&n){const t=e.index,r=ur();q(1),ki("for","aliases.",t,""),q(2),ki("id","aliases.",t,""),Fl("name",t),ee("ngModel",r.model.aliases[t])}}let Lhe=(()=>{class n{constructor(t,r){this.store=t,this.elementRef=r,this.form=null,this.caption="",this.messenger=new Tt,this.slice="model",this.formCast="model.form",this.model=Dm.form.value,this._collapsed=!0}set collapsed(t){this._collapsed=t,this.store.dispatch(rA({value:t,path:this.slice,property:"collapsed"}))}get collapsed(){return this._collapsed}ngAfterViewInit(){var t=this;return y(function*(){const r=yield CG(t.store.select(Zo(t.formCast)));t.model=r?el(r.value):Dm.form.value,t.collapsed=!0,t.profile$=t.store.select(nA(t.slice)).pipe(eA());const i=t.elementRef.nativeElement.querySelector(".scrollable");t.b=Zd(Xi(window,"resize"),Xi(i,"scroll")).subscribe(s=>{i.style.height=window.innerHeight-i.offsetTop-60+"px"}),window.dispatchEvent(new Event("resize"))})()}addAlias(){this.model.aliases.push("")}trackById(t,r){return t}onSubmit(){this.form?.valid&&alert("Form submitted successfully")}ngOnDestroy(){this.b.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(I(Jo),I(Ct))},n.\u0275cmp=Ei({type:n,selectors:[["standard-profile-editor"]],viewQuery:function(t,r){if(1&t&&Wl(Rhe,5),2&t){let i;za(i=qa())&&(r.form=i.first)}},hostVars:2,hostBindings:function(t,r){2&t&&kr("collapsed",r.collapsed)},inputs:{caption:"caption"},outputs:{messenger:"messenger"},decls:52,vars:18,consts:[[3,"data","collapsed","collapsedChange"],[1,"scrollable"],[4,"ngIf"],["autocomplete","off",3,"ngync"],["modelForm","ngForm"],["for","firstName"],["id","firstName","type","text","name","firstName",3,"ngModel","ngModelChange"],["for","lastName"],["id","lastName","type","text","name","lastName",3,"ngModel","ngModelChange"],["ngModelGroup","address"],["for","street"],["id","street","type","text","name","street",3,"ngModel","ngModelChange"],["for","city"],["id","city","type","text","name","city",3,"ngModel","ngModelChange"],["for","state"],["id","state","type","text","name","state",3,"ngModel","ngModelChange"],["for","zip"],["id","zip","type","text","name","zip",3,"ngModel","ngModelChange"],["ngModelArray","aliases"],["type","button",3,"click"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","submit",3,"disabled","click"],["href","https://www.linkedin.com/in/oleksii-shepel-5b6968250/"],[3,"for"],["type","text",3,"id","ngModel","name","ngModelChange"]],template:function(t,r){if(1&t&&(Mi(0),T(1,"json-editor",0),de("collapsedChange",function(s){return r.collapsed=s}),cr(2,"async"),S(),T(3,"div",1)(4,"main"),sn(5,Ohe,4,6,"pre",2),T(6,"form",3,4)(8,"h2"),R(9),S(),T(10,"label",5),R(11,"First Name: "),S(),T(12,"input",6),de("ngModelChange",function(s){return r.model.firstName=s}),S(),T(13,"label",7),R(14,"Last Name: "),S(),T(15,"input",8),de("ngModelChange",function(s){return r.model.lastName=s}),S(),T(16,"div",9)(17,"h2"),R(18,"Address"),S(),T(19,"label",10),R(20,"Street: "),S(),T(21,"input",11),de("ngModelChange",function(s){return r.model.address.street=s}),S(),T(22,"label",12),R(23,"City: "),S(),T(24,"input",13),de("ngModelChange",function(s){return r.model.address.city=s}),S(),T(25,"label",14),R(26,"State: "),S(),T(27,"input",15),de("ngModelChange",function(s){return r.model.address.state=s}),S(),T(28,"label",16),R(29,"Zip Code: "),S(),T(30,"input",17),de("ngModelChange",function(s){return r.model.address.zip=s}),S()(),T(31,"div",18)(32,"h2"),R(33,"Aliases"),S(),T(34,"button",19),de("click",function(){return r.addAlias()}),R(35,"+ Add another alias"),S(),sn(36,Fhe,4,4,"div",20),S(),T(37,"p"),R(38,"Complete the form to enable button."),S(),T(39,"button",21),de("click",function(){return r.onSubmit()}),R(40,"Submit"),S()()(),T(41,"footer"),Ce(42,"hr"),T(43,"p"),R(44,"\xa9 2023 James Bond. All rights reserved."),S(),T(45,"p"),R(46,"Disclaimer: This project is not affiliated with the James Bond franchise. All rights belong to their respective owners."),S(),T(47,"p"),R(48,"The project is not commercial. All information provided is found on the Internet on public servers. Created by "),T(49,"a",22),R(50,"Oleksii Shepel"),S(),R(51," in 2023."),S()()(),xi()),2&t){const i=Hh(7);q(1),ee("data",dr(2,16,r.profile$))("collapsed",r.collapsed),q(2),kr("collapsed",r.collapsed),q(2),ee("ngIf",!r.collapsed),q(1),ee("ngync",r.formCast),q(3),lr(r.caption),q(3),ee("ngModel",r.model.firstName),q(3),ee("ngModel",r.model.lastName),q(6),ee("ngModel",r.model.address.street),q(3),ee("ngModel",r.model.address.city),q(3),ee("ngModel",r.model.address.state),q(3),ee("ngModel",r.model.address.zip),q(6),ee("ngForOf",r.model.aliases)("ngForTrackBy",r.trackById),q(3),ee("disabled",!i.form.valid)}},dependencies:[bf,hs,Jg,zo,GT,$g,xd,ZT,Vs,$d,XS,sA,Qa,Df],styles:['form[_ngcontent-%COMP%]{padding-top:0rem}label[_ngcontent-%COMP%]{display:block;margin:.5em 0;font-weight:700}.ng-invalid[_ngcontent-%COMP%]:not(.ng-untouched){border-color:red}.bookmark[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.bookmark[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{display:inline-block;margin-right:.5rem;z-index:0}[_nghost-%COMP%]{display:grid;align-items:flex-start;gap:20px;grid-template-columns:100%;grid-template-areas:"header" "main"}json-editor[_ngcontent-%COMP%]{margin-top:20px;grid-area:header}.scrollable[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;overflow:auto;margin:0rem -2rem -1rem;padding:0 12px 0 20px;align-items:center;justify-content:stretch;position:relative}main[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:stretch;gap:20px;background-color:#7777774d;padding:30px;width:100%}main[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{order:1;position:relative;flex:1 0 auto}main[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{flex:1.5 0;order:2;border-radius:0;position:relative;top:0;left:0;margin:0;height:100%;overflow:auto}main[_ngcontent-%COMP%]:not(:has(pre)){max-width:500px}footer[_ngcontent-%COMP%]{grid-area:footer;display:flex;flex-direction:column;margin-top:0}*[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}*[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#faecdaf7;border-radius:100px}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#e7c18d;border-radius:100px}'],data:{animation:[bm]},changeDetection:0}),n})();const Vhe=["walter"];function Bhe(n,e){if(1&n&&(T(0,"div",13)(1,"h3"),R(2,"Total shots fired:"),S(),T(3,"h1"),R(4),S()()),2&n){const t=ur();ee("@walter",void 0),q(4),lr(t.shots)}}let Uhe=(()=>{class n{constructor(t){this.elRef=t,this.enabled=!1,this.targetEnabled=!0,this.displayHoles=!0,this.shots=0,this.firestore=CM(Bg),this.objects=new Set,this.timers=new Set}ngOnInit(){var t=this;return y(function*(){const r=VT(t.firestore,"statistics/xeEFpi8UCnJjMexo2raf"),i=(yield dae(r)).data();i&&(t.shots=i.totalShots)})()}click(t){if(!this.enabled)return;const r=VT(this.firestore,"statistics/xeEFpi8UCnJjMexo2raf");if(VU(r,{totalShots:LU(1)}),this.shots++,this.displayHoles){const o=document.querySelector("#gunshot").cloneNode();this.elRef.nativeElement.append(o),this.objects.add(o),o.style.display="block",o.style.position="absolute",o.style.left=t.clientX-o.offsetWidth+"px",o.style.top=t.clientY-o.offsetHeight+"px";const a=setTimeout(()=>{this.elRef.nativeElement.removeChild(o),clearTimeout(a)},5e3*Math.random()+1e3);this.timers.add(a)}const i=new Audio;i.src="shotgun.mp3",i.play()}toggleMode(t){t.stopPropagation(),this.enabled=!this.enabled;const r=this.elRef.nativeElement.querySelector(".statistics");if(r&&(r.style.display=this.enabled?"block":"none"),this.walter.nativeElement.style.backgroundColor=this.enabled?"#e03a3a":"#eee",this.enabled&&this.targetEnabled){const i=document.querySelector("#target");let s=0;for(let o=0;o<7;o++){s+=5e3*Math.random()+1e3;const a=setTimeout(()=>{const u=i.cloneNode(!0);this.elRef.nativeElement.append(u),this.objects.add(u),u.style.display="block",u.style.position="absolute";const l=Math.floor((window.innerWidth-u.offsetWidth)*Math.random()),c=Math.floor((window.innerHeight-u.offsetHeight)*Math.random());u.style.left=l+"px",u.style.top=c+"px",u.addEventListener("click",h=>{h.stopPropagation(),u.classList.add("hit");const f=VT(this.firestore,"statistics/xeEFpi8UCnJjMexo2raf");VU(f,{totalShots:LU(1)});const p=new Audio;p.src="shotgun.mp3",p.play()}),clearTimeout(a);const d=setTimeout(()=>{if(!u.classList.contains("hit")){u.classList.add("missed");const f=new Audio;f.src="villain-laugh.mp3",f.play()}const h=setTimeout(()=>{this.elRef.nativeElement.removeChild(u),clearTimeout(h)},2e3);this.timers.add(h),clearTimeout(d)},5e3*Math.random()+1e3);this.timers.add(d)},s);this.timers.add(a)}}else this.objects.forEach(i=>{this.elRef.nativeElement.removeChild(i)}),this.timers.forEach(i=>{clearTimeout(i)})}}return n.\u0275fac=function(t){return new(t||n)(I(Ct))},n.\u0275cmp=Ei({type:n,selectors:[["shooting-ground"]],viewQuery:function(t,r){if(1&t&&Wl(Vhe,5),2&t){let i;za(i=qa())&&(r.walter=i.first)}},hostBindings:function(t,r){1&t&&de("click",function(s){return r.click(s)},0,ZM)},decls:13,vars:3,consts:[["id","gunshot","src","walter.png",1,"gunshot"],["id","target",1,"flip-card","target"],[1,"flip-card-inner"],[1,"flip-card-front"],["src","target.png","alt","Target",2,"width","150px","height","150px"],[1,"flip-card-back"],["src","target-missed.png",1,"gunshot"],[1,"fab"],[1,"clipping-rect"],["class","statistics",4,"ngIf"],["title","Load The Weapon",3,"click"],["walter",""],["id","walter","src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D"],[1,"statistics"]],template:function(t,r){1&t&&(Ce(0,"img",0),T(1,"div",1)(2,"div",2)(3,"div",3),Ce(4,"img",4),S(),T(5,"div",5),Ce(6,"img",6),S()()(),T(7,"div",7)(8,"div",8),sn(9,Bhe,5,2,"div",9),S(),T(10,"button",10,11),de("click",function(s){return r.toggleMode(s)}),Ce(12,"img",12),S()()),2&t&&(q(9),ee("ngIf",r.enabled),q(1),kr("enabled",r.enabled))},dependencies:[hs],styles:["[_nghost-%COMP%]   img.gunshot[_ngcontent-%COMP%]{display:none;position:absolute;content:url(bullet-hole.b20f7a9808600bde.png);width:50px}[_nghost-%COMP%]   #target[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .flip-card[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;background-color:transparent;width:150px;height:150px;perspective:1000px;z-index:99}[_nghost-%COMP%]   .flip-card[_ngcontent-%COMP%]   .flip-card-front[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;content:url(target.6218acc2c8ff15f2.png);width:50%;height:50%}[_nghost-%COMP%]   .flip-card-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;text-align:center;transition:transform .8s;transform-style:preserve-3d}[_nghost-%COMP%]   .flip-card.hit[_ngcontent-%COMP%]   .flip-card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}[_nghost-%COMP%]   .flip-card.hit[_ngcontent-%COMP%]   .flip-card-back[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;transform:rotateY(180deg)}[_nghost-%COMP%]   .flip-card.hit[_ngcontent-%COMP%]   .flip-card-back[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;content:url(target-hit.8b75c5207bc79b41.svg);width:100%;height:100%}[_nghost-%COMP%]   .flip-card.missed[_ngcontent-%COMP%]   .flip-card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}[_nghost-%COMP%]   .flip-card.missed[_ngcontent-%COMP%]   .flip-card-back[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;transform:rotateY(180deg)}[_nghost-%COMP%]   .flip-card.missed[_ngcontent-%COMP%]   .flip-card-back[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;content:url(target-missed.f10edde0e2a3ba55.svg);width:100%;height:100%}[_nghost-%COMP%]   .flip-card-front[_ngcontent-%COMP%], [_nghost-%COMP%]   .flip-card-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;-webkit-backface-visibility:hidden;backface-visibility:hidden}[_nghost-%COMP%]   .flip-card-front[_ngcontent-%COMP%]{background-color:transparent;color:#000}[_nghost-%COMP%]   .fab[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;margin:50px;width:210px;height:80px;display:flex;justify-content:right;align-items:center}[_nghost-%COMP%]   .fab[_ngcontent-%COMP%]   .clipping-rect[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .fab[_ngcontent-%COMP%]   .statistics[_ngcontent-%COMP%]{background-color:beige;padding:10px;border-top-left-radius:2px;border-bottom-left-radius:2px}[_nghost-%COMP%]   .fab[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], [_nghost-%COMP%]   .fab[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .fab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:calc(100% - 18px);border-radius:2px;margin:0}[_nghost-%COMP%]   .fab[_ngcontent-%COMP%]   button.enabled[_ngcontent-%COMP%]{height:calc(100% - 18px);border-top-left-radius:0;border-bottom-left-radius:0;margin:0}[_nghost-%COMP%]   img#walter[_ngcontent-%COMP%]{display:block;position:relative;width:50px;content:url(walter.e3a50268e68ddad1.png)}"],data:{animation:[jde]}}),n})();const jhe=["view"];function $he(n,e){if(1&n&&(T(0,"i"),R(1),S()),2&n){const t=ur();q(1),lr(t.text.length)}}function Ghe(n,e){1&n&&(Mi(0),Ce(1,"reactive-profile-editor",8),xi()),2&n&&(q(1),ee("caption","Author"))}function Hhe(n,e){1&n&&(Mi(0),Ce(1,"template-profile-editor",8),xi()),2&n&&(q(1),ee("caption","Agent"))}function zhe(n,e){1&n&&(Mi(0),Ce(1,"standard-profile-editor",8),xi()),2&n&&(q(1),ee("caption","Model"))}let qhe=(()=>{class n{constructor(t,r){this.modalService=t,this.elementRef=r,this.class="author",this.editor="reactive",this.selectedColor="rgba(255, 0, 0, 0.5)",this.text=[{id:"default-modal",photo:"dr_no.png",color:"#e03a3a",text:"Mr. Bond, how do you like your tea?"},{id:"default-modal",photo:"moneypenny.png",color:"rgb(154, 192, 154)",text:"A gun and a radio. Not exactly Christmas, is it?"},{id:"default-modal",photo:"m.png",color:"rgb(124, 124, 255)",text:"A license to kill is also a license not to kill."},{id:"default-modal",photo:"honey_ryder.png",color:"rgba(180, 99, 180)",text:"James, where have you been? I thought you were on a plane."}],this.profile={}}get showReactiveProfileEditor(){return"reactive"===this.editor}get showTemplateProfileEditor(){return"template-driven"===this.editor}get showStandardProfileEditor(){return"standard"===this.editor}toggleEditor(t){switch(this.editor=t,t){case"reactive":this.class="author";break;case"template-driven":this.class="agent";break;case"standard":this.class="model"}}ngAfterViewInit(){this.modalService.set(this.viewContainerRef)}shuffle(t){for(let r=t.length-1;r>0;r--){const i=Math.floor(Math.random()*(r+1)),s=t[r];t[r]=t[i],t[i]=s}return t}readMessages(){const t=new Hr(!1);this.sub=An(this.shuffle(this.text)).pipe(Ir(r=>An(t).pipe(Tn(i=>!i),Zi(1),Pt(()=>r),In(()=>t.next(!1)))),ZS(r=>An(this.modalService.open(r).written$).pipe(Tn(i=>i),Zi(1),Pt(()=>r))),In(()=>this.text.shift())).subscribe()}ngOnDestroy(){this.sub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(I(bG),I(Ct))},n.\u0275cmp=Ei({type:n,selectors:[["app-root"]],viewQuery:function(t,r){if(1&t&&Wl(jhe,5,Rr),2&t){let i;za(i=qa())&&(r.viewContainerRef=i.first)}},hostVars:2,hostBindings:function(t,r){2&t&&e1(r.class)},decls:25,vars:6,consts:[[3,"ngSwitch"],["type","button",3,"click"],["type","button","id","messages",3,"disabled","click"],[4,"ngIf"],["href","https://www.npmjs.com/package/ngync"],["src","maskot.png","alt","ngync","width","100",1,"maskot"],[4,"ngSwitchCase"],["view",""],[3,"caption"]],template:function(t,r){1&t&&(T(0,"main",0)(1,"nav")(2,"div")(3,"button",1),de("click",function(){return r.toggleEditor("reactive")}),R(4,"Reactive Form"),S(),T(5,"button",1),de("click",function(){return r.toggleEditor("template-driven")}),R(6,"Custom Directives Form"),S(),T(7,"button",1),de("click",function(){return r.toggleEditor("standard")}),R(8,"Template-Driven Form"),S(),T(9,"button",2),de("click",function(){return r.readMessages()}),R(10,"Snoozed Messages"),sn(11,$he,2,1,"i",3),S()(),T(12,"div")(13,"h1"),R(14,"Angular Forms powered by"),T(15,"a",4),R(16,"ngync library"),S(),R(17,"\u2122"),S(),Ce(18,"img",5),S()(),sn(19,Ghe,2,1,"ng-container",6),sn(20,Hhe,2,1,"ng-container",6),sn(21,zhe,2,1,"ng-container",6),S(),F_(22,null,7),Ce(24,"shooting-ground")),2&t&&(ee("ngSwitch",r.editor),q(9),ee("disabled",!r.text.length),q(2),ee("ngIf",r.text.length),q(8),ee("ngSwitchCase","reactive"),q(1),ee("ngSwitchCase","template-driven"),q(1),ee("ngSwitchCase","standard"))},dependencies:[hs,If,NP,dhe,Phe,Lhe,Uhe],styles:["[_nghost-%COMP%]{margin:2rem;position:relative;z-index:0}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]{overflow:hidden;display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;gap:20px}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline-block;text-align:right;font-weight:800;margin-top:0;margin-bottom:0;margin-right:30px}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:transparent;padding:0;margin:0}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img.maskot[_ngcontent-%COMP%]{content:url(maskot.b79fd834139bc9d0.png)}[_nghost-%COMP%]   main[_ngcontent-%COMP%]{position:relative;background-color:#dcdcdccf;padding:3rem}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{background-color:#dcdcdcf7;position:sticky;top:0;left:0;width:calc(100% + 6rem);margin:-3rem -3rem 0rem;padding:1rem 3rem;z-index:10}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#eee}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#eee;color:#aaa;cursor:auto}.author[_nghost-%COMP%]{display:block;background-color:#eee;background-image:url(james_bond_poster.b665c34dabd8dcd8.png);transition:background-image .5s ease-in-out;background-repeat:no-repeat;background-attachment:fixed;background-size:cover}.agent[_nghost-%COMP%]{display:block;background-color:silver;background-image:url(james_bond.820736b4f6f6ffa0.png);transition:background-image .5s ease-in-out;background-repeat:no-repeat;background-attachment:fixed;background-size:cover}.agent[_nghost-%COMP%]   main[_ngcontent-%COMP%]{background-color:#dcdcdc82}.agent[_nghost-%COMP%]   main[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{background-color:#dcdcdcf7}.model[_nghost-%COMP%]{display:block;background-color:#faecdaf7;background-image:url(james_bond_model.ed222e4b2bf487b0.png);transition:background-image .5s ease-in-out;background-repeat:no-repeat;background-attachment:fixed;background-size:cover}.model[_nghost-%COMP%]   main[_ngcontent-%COMP%]{position:relative;background-color:#faecdab5;padding:3rem}.model[_nghost-%COMP%]   main[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{background-color:#faecdaf7;position:sticky;top:0;left:0;width:calc(100% + 6rem);margin:-3rem -3rem 0rem;padding:1rem 3rem}.model[_nghost-%COMP%]   main[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#eddfdf}.model[_nghost-%COMP%]   main[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.model[_nghost-%COMP%]   main[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#eddfdf;color:#aaa;cursor:auto}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1rem;font-size:inherit}#messages[_ngcontent-%COMP%]{position:relative}#messages[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0;top:0;display:inline-block;width:2rem;height:2rem;font-style:normal;background-color:#6495ed;vertical-align:top;border-radius:50%;padding:.3rem;font-size:1rem;margin-right:.3rem;margin-top:.3rem}"],data:{animation:[bm]}}),n})(),Whe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ht({type:n,bootstrap:[qhe]}),n.\u0275inj=Rt({imports:[ZP,Gj,iS,gce,Ode,eZ(()=>tZ(wG_firebase)),cae(()=>hae()),lG.forRoot(rhe,{metaReducers:[Nde({showOnlyModifiers:!0}),kde(IG),n=>(e,t)=>{let r=n(e,t);return"@ngrx/store/slice/property/update"===t.type&&(r=_t(r,`${t.path}.${t.property}`,t.value)),r}]}),Bde]}),n})();Q8().bootstrapModule(Whe).catch(n=>console.error(n))},154:il=>{il.exports=function qd(Vn){Object.freeze(Vn);var ge="function"==typeof Vn,sl=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(Vn).forEach(function(Bn){sl.call(Vn,Bn)&&(!ge||"caller"!==Bn&&"callee"!==Bn&&"arguments"!==Bn)&&null!==Vn[Bn]&&("object"==typeof Vn[Bn]||"function"==typeof Vn[Bn])&&!Object.isFrozen(Vn[Bn])&&qd(Vn[Bn])}),Vn}}},il=>{il(il.s=488)}]);